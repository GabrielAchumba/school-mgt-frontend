(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"03d0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("q-page-container",[a("q-page",{staticClass:"flex flex-center bg-primary"},[a("q-card",{staticClass:"personal-data-form",style:(e.$q.platform.is.mobile,{width:"90%",height:"95%"})},[a("q-card-section",{staticClass:"text-primary bg-accent"},[a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"col text-h6 ellipsis"},[e._v("\n        Administrator Details\n      ")])])]),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md"},[a("div",{staticClass:"row text-center flex flex-center q-pb-lg"},[e.isSuperAdmin?e._e():a("div",{staticClass:"col-md-6 col-lg-16 col-sx-6 col-sm-6 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[a("input",{staticClass:"bg-accent text-primary",attrs:{type:"file"},on:{change:e.onFileSelected}})]),e.isSuperAdmin?e._e():a("div",{staticClass:"col-md-6 col-lg-6 col-sx-6 col-sm-6 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[a("q-btn",{staticClass:"text-capitalize bg-accent text-primary",staticStyle:{width:"75px"},attrs:{exact:"",size:"sm",dense:"",label:"Upload",type:"button"},on:{click:e.UploadAction}})],1)]),a("q-input",{attrs:{outlined:"",label:"First Name *","lazy-rules":""},model:{value:e.AdministratorDTO.firstName,callback:function(t){e.$set(e.AdministratorDTO,"firstName",t)},expression:"AdministratorDTO.firstName"}}),a("q-input",{attrs:{outlined:"",label:"Last Name *","lazy-rules":""},model:{value:e.AdministratorDTO.lastName,callback:function(t){e.$set(e.AdministratorDTO,"lastName",t)},expression:"AdministratorDTO.lastName"}}),a("q-input",{attrs:{outlined:"",label:"Username *","lazy-rules":""},model:{value:e.AdministratorDTO.userName,callback:function(t){e.$set(e.AdministratorDTO,"userName",t)},expression:"AdministratorDTO.userName"}}),e.isSuperAdmin?a("q-select",{attrs:{color:"accent",outlined:"","label-color":"accent",options:e.typesOfAdmin,label:"Administrator"},on:{input:e.onItemValueChanged},model:{value:e.typeOfAdmin,callback:function(t){e.typeOfAdmin=t},expression:"typeOfAdmin"}}):e._e(),a("div",{staticClass:"col-12"},[a("q-btn",{staticClass:"text-primary bg-accent",staticStyle:{width:"95%"},attrs:{label:"Update",type:"button",size:"sm","no-caps":""},on:{click:e.updateData}})],1)],1)],1)],1),a("q-dialog",{model:{value:e.isUploadFileDialog,callback:function(t){e.isUploadFileDialog=t},expression:"isUploadFileDialog"}},[a("MessageBox",{attrs:{title:"Upload Photo",message:"Do you want to upload photo?",okayEvent:"okayUploadFile",cancelEvent:"cancelUploadFile"},on:{okayUploadFile:function(t){return e.okayUploadFile(t)},cancelUploadFile:function(t){return e.cancelUploadFile(t)}}})],1),a("q-dialog",{model:{value:e.isUploadFileSuccessDialog,callback:function(t){e.isUploadFileSuccessDialog=t},expression:"isUploadFileSuccessDialog"}},[a("MessageBox",{attrs:{title:"Success",message:"Photo uploaded successfully.",okayEvent:"okayUploadFileSucess",cancelEvent:"cancelUploadFileSuccess"},on:{okayUploadFileSucess:function(t){return e.okayUploadFileSucess(t)},cancelUploadFileSuccess:function(t){return e.cancelUploadFileSuccess(t)}}})],1),a("q-dialog",{model:{value:e.isUploadFileFailureDialog,callback:function(t){e.isUploadFileFailureDialog=t},expression:"isUploadFileFailureDialog"}},[a("MessageBox",{attrs:{title:"Failure",message:e.message+".",okayEvent:"okayUploadFileFailure",cancelEvent:"cancelUploadFileFailure"},on:{okayUploadFileFailure:function(t){return e.okayUploadFileFailure(t)},cancelUploadFileFailure:function(t){return e.cancelUploadFileFailure(t)}}})],1),a("q-dialog",{model:{value:e.isUpdateDialog,callback:function(t){e.isUpdateDialog=t},expression:"isUpdateDialog"}},[a("MessageBox",{attrs:{title:"Update",message:"Do you want to update administrator details?",okayEvent:"update",cancelEvent:"cancelUpdate"},on:{cancelUpdate:function(t){return e.cancelUpdate(t)},update:function(t){return e.update(t)}}})],1),a("q-dialog",{model:{value:e.isUpdateSuccessDialog,callback:function(t){e.isUpdateSuccessDialog=t},expression:"isUpdateSuccessDialog"}},[a("MessageBox",{attrs:{title:"Success",message:"Administrator details updated successfully!",okayEvent:"UpdateSuccessOkay",cancelEvent:"UpdateSuccessCancel"},on:{UpdateSuccessCancel:function(t){return e.UpdateSuccessCancel(t)},UpdateSuccessOkay:function(t){return e.UpdateSuccessOkay(t)}}})],1),a("q-dialog",{model:{value:e.isUpdateFailureDialog,callback:function(t){e.isUpdateFailureDialog=t},expression:"isUpdateFailureDialog"}},[a("MessageBox",{attrs:{title:"Error",message:e.message+".",okayEvent:"UpdateFailureOkay",cancelEvent:"UpdateFailureCancel"},on:{UpdateFailureCancel:function(t){return e.UpdateFailureCancel(t)},UpdateFailureOkay:function(t){return e.UpdateFailureOkay(t)}}})],1)],1)],1)],1)},s=[],o=(a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("c47a")),n=a.n(o),r=a("fa84"),l=a.n(r),c=a("967e"),d=a.n(c),u=a("9bff"),p=a("0d91");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={computed:{SelectedAdmin:function(){return this.$store.getters["administratorStore/SelectedAdmin"]},isSuperAdmin:function(){return this.$store.getters["administratorStore/isSuperAdmin"]},IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},PhotoDto:function(){return this.$store.getters["administratorStore/PhotoDto"]}},components:{MessageBox:u["a"]},data:function(){return{AdministratorDTO:{firstName:"",lastName:"",username:""},isUpdateDialog:!1,isUpdateSuccessDialog:!1,isUpdateFailureDialog:!1,typesOfAdmin:["Accounting","Registration","CEO"],typeOfAdmin:"Registration",message:"",SelectedFile:null,files:null,isUploadFileDialog:!1,isUploadFileSuccessDialog:!1,isUploadFileFailureDialog:!1}},props:{theme_color:{type:String,default:"rgb(0, 163, 82)"}},methods:{onItemValueChanged:function(){},onFileSelected:function(e){var t=this;t.files=e.target.files,t.SelectedFile=e.target.files[0]},UploadAction:function(){var e=this;e.isUploadFileDialog=!0},cancelUploadFile:function(){var e=this;e.isUploadFileDialog=!1},okayUploadFile:function(){var e=this;return l()(d.a.mark((function t(){var a,i,s,o,n,r,l,c,u;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in a=e,i=new FormData,a.files)i.append("images[]",a.files[s]);return o="".concat(p["r"],"/uploadphoto"),t.next=6,e.$store.dispatch("administratorStore/UploadPhoto",{request:i,url:o});case 6:n=t.sent,r=n.data,l=r.data,c=r.message,u=r.success,a.isUploadFileDialog=!1,u?(e.$store.commit("administratorStore/UploadFile",l),a.isUploadFileSuccessDialog=!0):(a.isUploadFileFailureDialog=!0,a.message=c);case 10:case"end":return t.stop()}}),t)})))()},cancelUploadFileSuccess:function(){var e=this;e.isUploadFileSuccessDialog=!1},okayUploadFileSucess:function(){var e=this;e.isUploadFileSuccessDialog=!1},cancelUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},okayUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},updateData:function(){var e=this;e.isUpdateDialog=!0},update:function(){var e=this;return l()(d.a.mark((function t(){var a,i,s,o,n,r;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,""!==a.AdministratorDTO.firstName){t.next=4;break}return alert("Enter your first name"),t.abrupt("return");case 4:if(""!==a.AdministratorDTO.lastName){t.next=7;break}return alert("Enter your last name"),t.abrupt("return");case 7:if(""!==a.AdministratorDTO.userName){t.next=10;break}return alert("Enter your username"),t.abrupt("return");case 10:return""!=a.PhotoDto.base64String&&void 0!=a.PhotoDto.base64String&&(a.AdministratorDTO.base64String=a.PhotoDto.base64String),0==a.isSuperAdmin&&(a.AdministratorDTO.contributorId=a.IdentityModel.id),t.next=14,e.$store.dispatch("administratorStore/UpdateAdministrator",a.AdministratorDTO);case 14:i=t.sent,s=i.data,o=s.data,n=s.message,r=s.success,a.isUpdateDialog=!1,a.message=n,r?(a.isUpdateSuccessDialog=!0,e.$store.commit("authenticationStore/AddUserPhoto",o)):a.isUpdateFailureDialog=!0;case 19:case"end":return t.stop()}}),t)})))()},cancelUpdate:function(){var e=this;e.isUpdateDialog=!1},UpdateSuccessOkay:function(){var e=this;e.isUpdateSuccessDialog=!1,1==e.isSuperAdmin&&(this.$router.push("/administrators"),this.$store.commit("administratorStore/UpdateIsSuperAdmin",!1))},UpdateSuccessCancel:function(){var e=this;e.isUpdateSuccessDialog=!1,1==e.isSuperAdmin&&(this.$router.push("/administrators"),this.$store.commit("administratorStore/UpdateIsSuperAdmin",!1))},UpdateFailureOkay:function(){var e=this;e.isUpdateFailureDialog=!1},UpdateFailureCancel:function(){var e=this;e.isUpdateFailureDialog=!1}},created:function(){var e=this;return l()(d.a.mark((function t(){var a,i,s,o;return d.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,console.log("context.isSuperAdmin: ",a.isSuperAdmin),1!=a.isSuperAdmin){t.next=6;break}a.AdministratorDTO=g({},a.SelectedAdmin),t.next=12;break;case 6:return t.next=8,e.$store.dispatch("administratorStore/GetAdministrator",a.IdentityModel.id);case 8:i=t.sent,s=i.data,o=s.data,s.message,s.success,console.log("contributor: ",o),a.AdministratorDTO=g({},o);case 12:case"end":return t.stop()}}),t)})))()}},U=f,F=(a("7e40"),a("2877")),D=a("4d5a"),S=a("09e3"),y=a("9989"),h=a("f09f"),b=a("a370"),v=a("0378"),O=a("9c40"),k=a("27f9"),x=a("ddd8"),A=a("24e8"),q=a("eebe"),w=a.n(q),C=Object(F["a"])(U,i,s,!1,null,null,null);t["default"]=C.exports;w()(C,"components",{QLayout:D["a"],QPageContainer:S["a"],QPage:y["a"],QCard:h["a"],QCardSection:b["a"],QForm:v["a"],QBtn:O["a"],QInput:k["a"],QSelect:x["a"],QDialog:A["a"]})},"5d1a":function(e,t,a){},"7e40":function(e,t,a){"use strict";var i=a("5d1a"),s=a.n(i);s.a}}]);