(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[108],{"0241":function(e,t,n){"use strict";var r=n("76e9"),o=n.n(r);o.a},"5e43":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{staticClass:"bg-primary",attrs:{view:"hHh lpR fFf"}},[n("q-header",{staticClass:"q-pa-none bg-primary"},[n("MainMenuBar",{attrs:{menuList:e.contextMenuList},on:{logoutUser:function(t){return e.logoutUser(t)}}})],1),n("q-page-container",{staticStyle:{height:"100vh"}},[e.showSpinner?e._e():n("router-view"),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner,expression:"showSpinner"}],staticClass:"q-gutter-md row"},[n("div",{staticClass:"col-12 q-pa-sm absolute-center flex flex-center"},[n("q-spinner",{attrs:{color:"accent",size:"3em",thickness:10}})],1)])],1),n("q-dialog",{model:{value:e.globalSearchDialog,callback:function(t){e.globalSearchDialog=t},expression:"globalSearchDialog"}},[n("searchDialog")],1)],1)},o=[],i=(n("ef92"),n("0012"),n("f69e"),n("ad58"),n("d93a"),n("d38f"),n("b7dd"),n("1a43"),n("6212"),n("950c"),n("2bf3"),n("5b54"),n("9289")),s=n.n(i),a=n("549c"),c=n.n(a),u=n("52b5"),l=n.n(u),h=(n("8ade"),n("c889"),n("932d")),f=n("c194"),d=n("8679"),m=n("ff2d"),g=n("56cc"),p=n("cd65"),b=n("ec61"),S=n("e852"),y=n("60b9"),v=n("0faa"),w=n("7f8e");function M(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function O(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}h["a"].getBrand;var k=h["a"].setBrand,j={computed:{IdentityModel:function(){return this.$store.getters["studentStore/selectedStudent"]},Loginstatus:function(){return this.$store.getters["authenticationStore/Loginstatus"]},theme_color:function(){return this.$store.getters["authenticationStore/theme_color"]},globalSearchDialog:function(){return this.$store.getters["authenticationStore/globalSearchDialog"]},primaryColor:function(){return this.$store.getters["administratorStore/primaryColor"]},secondaryColor:function(){return this.$store.getters["administratorStore/secondaryColor"]},tertiaryColor:function(){return this.$store.getters["administratorStore/tertiaryColor"]}},components:{MainMenuBar:S["a"],searchDialog:y["a"]},data:function(){return{schoolName:"",leftDrawerOpen:!0,showAccountDetails:!1,rightMenuIcon:"menu",navs:[],rightDrawerOpen:window.innerWidth<700,menuList:v["c"],contextMenuList:[],landingMenu:[],checkSubscription:{},showSpinner:!1}},methods:{showSelectedRouters:function(){return console.log("this.$router: ",this.$router),"/admin"!=this.$router.history.current.fullPath},getIsUserPhoto:function(){var e=this;return""!=e.IdentityModel.base64String&&void 0!=e.IdentityModel.base64String},toggleButton:function(){var e=this;1==e.showAccountDetails?e.showAccountDetails=!1:e.showAccountDetails=!0},logoutUser:function(){this.$store.dispatch("authenticationStore/Logout")},scrollToElement:function(e){this.$router.push("".concat(e))},onResize:function(e){var t=window.innerWidth,n=this;n.rightDrawerOpen=!1,t<700&&(n.rightDrawerOpen=!0),this.$store.commit("authenticationStore/setIsMobile",n.rightDrawerOpen)},verifyResultsAnalysisSubscription:function(){var e=this;if(e.checkSubscription.isResultsAnalysis=!0,0==e.checkSubscription.isResultsAnalysis){var t=-1,n=0;for(n=0;n<e.landingMenu.length;n++)if("Results Analysis"==e.landingMenu[n].title){t=n;break}for(-1!=t&&e.landingMenu.splice(t,1),t=-1,n=0;n<e.contextMenuList.length;n++)if("Results Analysis"==e.contextMenuList[n].title){t=n;break}-1!=t&&e.contextMenuList.splice(t,1)}},verifyFileManagementSubscription:function(){var e=this;if(0==e.checkSubscription.isFileManagement){var t=-1,n=0;for(n=0;n<e.landingMenu.length;n++)if("File Management"==e.landingMenu[n].title){t=n;break}for(-1!=t&&e.landingMenu.splice(t,1),t=-1,n=0;n<e.contextMenuList.length;n++)if("File Management"==e.contextMenuList[n].title){t=n;break}-1!=t&&e.contextMenuList.splice(t,1)}},verifyAdevertizementSubscription:function(){var e=this;if(0==e.checkSubscription.isAdvertizement){var t=-1,n=0;for(n=0;n<e.landingMenu.length;n++)if("Branding & Advertisement"==e.landingMenu[n].title){t=n;break}for(-1!=t&&e.landingMenu.splice(t,1),t=-1,n=0;n<e.contextMenuList.length;n++)if("Branding & Advertisement"==e.contextMenuList[n].title){t=n;break}-1!=t&&e.contextMenuList.splice(t,1)}},checkSubscritpion:function(){var e=this;return c()(l.a.mark((function t(){var n,r,o,i,s,a,c,u,h;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,r=["Home","Results Analysis","Library Management","Online Learning","Subscription","File Management","Socialize","Examination & Quiz"],o=e.$store.getters["authenticationStore/IdentityModel"],t.next=5,Object(v["a"])(o.schoolId);case 5:for(i=t.sent,s=i.result,n.checkSubscription=$({},s),e.$store.commit("administratorStore/SetIsSubscription",s),console.log("context.menuList: ",n.menuList),a=[],c=function(){var e=h[u],t=n.menuList.find((function(t){return t.title===e}));if(t){var r="";r="Home"===e?"/student":"/student-".concat(t.to),a.push($($({},t),{},{to:r}))}},u=0,h=r;u<h.length;u++)c();console.log("listOfMenuItems: ",a),n.contextMenuList=a.map((function(e){return $({},e)})),n.landingMenu=a.map((function(e){return $({},e)})),n.landingMenu.shift(),n.verifyResultsAnalysisSubscription(),n.verifyFileManagementSubscription(),n.verifyAdevertizementSubscription(),e.$store.commit("administratorStore/SetMainMenuList",n.landingMenu);case 21:case"end":return t.stop()}}),t)})))()},initializeLogo:function(e){k("primary",e.primaryColor),k("accent",e.tertiaryColor),k("secondary",e.secondaryColor)},branding:function(e){var t=this;return c()(l.a.mark((function n(){var r,o;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,n.next=3,Object(w["a"])(e);case 3:o=n.sent,0===o.result.length&&o.result.push({fileUrl:"/statics/newway.jpg",primaryColor:"#FFFFFF",secondaryColor:"#FF0000",tertiaryColor:"#056608",createdBy:"CEO"}),t.$store.commit("LogoStore/SetSelectedLogo",o.result[0]),r.initializeLogo(o.result[0]);case 7:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return c()(l.a.mark((function t(){var n,r,o,i,s,a,c,u,h,S,y;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,n.showSpinner=!0,window.addEventListener("resize",e.onResize),e.$store.commit("authenticationStore/setActiveRoute","adminLanding"),window.innerWidth<700&&(n.rightDrawerOpen=!0),e.$store.commit("authenticationStore/setIsMobile",n.rightDrawerOpen),t.next=8,Object(b["a"])();case 8:r=t.sent,e.$store.commit("schoolStore/SetSchools",r.result),o=e.$store.getters["authenticationStore/IdentityModel"],i=M(r.result),t.prev=12,i.s();case 14:if((s=i.n()).done){t.next=23;break}if(a=s.value,a.id!==o.schoolId){t.next=21;break}return n.schoolName=a.schoolName,e.$store.commit("schoolStore/SetUserSchool",a),n.branding(o.schoolId),t.abrupt("break",23);case 21:t.next=14;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](12),i.e(t.t0);case 28:return t.prev=28,i.f(),t.finish(28);case 31:if("Student"!=o.userType){t.next=54;break}return t.next=34,Object(f["a"])(o.schoolId);case 34:return c=t.sent,e.$store.commit("classRoomStore/SetClassRooms",c.result),t.next=38,Object(d["a"])(o.schoolId);case 38:return u=t.sent,e.$store.commit("staffStore/SetStaffs",u.result),t.next=42,Object(m["a"])(o.schoolId);case 42:return h=t.sent,e.$store.commit("studentStore/SetStudents",h.result),t.next=46,Object(g["a"])(o.schoolId);case 46:return S=t.sent,e.$store.commit("subjectStore/SetSubjects",S.result),t.next=50,Object(p["a"])(o.schoolId);case 50:y=t.sent,e.$store.commit("assessmentStore/SetAssessments",y.result),e.$store.commit("userStore/setUnComfirmedUsers",[]),n.checkSubscritpion();case 54:n.showSpinner=!1;case 55:case"end":return t.stop()}}),t,null,[[12,25,28,31]])})))()},destroyed:function(){window.removeEventListener("resize",this.onResize)}},A=j,D=(n("0241"),n("a6c2")),I=n("f624"),C=n("8738"),F=n("ddc7"),R=n("c99e"),z=n("ec6d"),P=n("63c1"),E=n.n(P),U=Object(D["a"])(A,r,o,!1,null,null,null);t["default"]=U.exports;E()(U,"components",{QLayout:I["a"],QHeader:C["a"],QPageContainer:F["a"],QSpinner:R["a"],QDialog:z["a"]})},"76e9":function(e,t,n){}}]);