(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"4c15":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("q-page-container",[a("q-page",{staticClass:"flex flex-center bg-primary"},[a("q-card",{staticClass:"personal-data-form",style:e.$q.platform.is.mobile?{width:"90%",height:"95%"}:{width:"90%",height:"100%"}},[a("q-card-section",{staticClass:"bg-accent text-primary"},[a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"col text-h6 ellipsis"},[e._v("\n        Contact Data\n      ")])])]),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md"},[a("div",{staticClass:"row text-center flex flex-center q-pb-lg"},[e.isAdmin?e._e():a("div",{staticClass:"col-md-6 col-lg-16 col-sx-6 col-sm-6 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[a("input",{staticClass:"bg-primary text-accent",attrs:{type:"file"},on:{change:e.onFileSelected}})]),e.isAdmin?e._e():a("div",{staticClass:"col-md-6 col-lg-6 col-sx-6 col-sm-6 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[a("q-btn",{staticClass:"text-capitalize bg-primary text-accent",staticStyle:{width:"75px"},attrs:{exact:"",size:"sm",dense:"",label:"Upload Photo",type:"button"},on:{click:e.UploadAction}})],1)]),a("q-input",{attrs:{outlined:"",label:"Phone Number *","lazy-rules":""},model:{value:e.ContactDTO.phoneNumber,callback:function(t){e.$set(e.ContactDTO,"phoneNumber",t)},expression:"ContactDTO.phoneNumber"}}),a("q-input",{attrs:{outlined:"",label:"Email Address ","lazy-rules":""},model:{value:e.ContactDTO.email,callback:function(t){e.$set(e.ContactDTO,"email",t)},expression:"ContactDTO.email"}}),a("q-input",{attrs:{outlined:"",label:"Residential City","lazy-rules":""},model:{value:e.ContactDTO.residentialCity,callback:function(t){e.$set(e.ContactDTO,"residentialCity",t)},expression:"ContactDTO.residentialCity"}}),a("q-input",{attrs:{outlined:"",label:"Residential State","lazy-rules":""},model:{value:e.ContactDTO.residentialState,callback:function(t){e.$set(e.ContactDTO,"residentialState",t)},expression:"ContactDTO.residentialState"}}),a("q-input",{attrs:{outlined:"",type:"textarea",label:"Address","lazy-rules":""},model:{value:e.ContactDTO.address,callback:function(t){e.$set(e.ContactDTO,"address",t)},expression:"ContactDTO.address"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 text-left"},[a("q-btn",{staticClass:"text-primary bg-accent",attrs:{label:"Cancel",type:"button",size:"sm","no-caps":""},on:{click:e.cancel}})],1),a("div",{staticClass:"col-6 text-right"},[a("q-btn",{staticClass:"text-primary bg-accent",attrs:{label:"Update",type:"button",size:"sm","no-caps":""},on:{click:e.updateData}})],1)])],1)],1)],1),a("q-dialog",{model:{value:e.isUploadFileDialog,callback:function(t){e.isUploadFileDialog=t},expression:"isUploadFileDialog"}},[a("MessageBox",{attrs:{title:"Upload Photo",message:"Do you want to upload photo?",okayEvent:"okayUploadFile",cancelEvent:"cancelUploadFile"},on:{okayUploadFile:function(t){return e.okayUploadFile(t)},cancelUploadFile:function(t){return e.cancelUploadFile(t)}}})],1),a("q-dialog",{model:{value:e.isUploadFileSuccessDialog,callback:function(t){e.isUploadFileSuccessDialog=t},expression:"isUploadFileSuccessDialog"}},[a("MessageBox",{attrs:{title:"Success",message:"Photo uploaded successfully.",okayEvent:"okayUploadFileSucess",cancelEvent:"cancelUploadFileSuccess"},on:{okayUploadFileSucess:function(t){return e.okayUploadFileSucess(t)},cancelUploadFileSuccess:function(t){return e.cancelUploadFileSuccess(t)}}})],1),a("q-dialog",{model:{value:e.isUploadFileFailureDialog,callback:function(t){e.isUploadFileFailureDialog=t},expression:"isUploadFileFailureDialog"}},[a("MessageBox",{attrs:{title:"Failure",message:e.message+".",okayEvent:"okayUploadFileFailure",cancelEvent:"cancelUploadFileFailure"},on:{okayUploadFileFailure:function(t){return e.okayUploadFileFailure(t)},cancelUploadFileFailure:function(t){return e.cancelUploadFileFailure(t)}}})],1),a("q-dialog",{model:{value:e.isUpdateDialog,callback:function(t){e.isUpdateDialog=t},expression:"isUpdateDialog"}},[a("MessageBox",{attrs:{title:"Update",message:"Do you want to contacts?",okayEvent:"update",cancelEvent:"cancelUpdate"},on:{cancelUpdate:function(t){return e.cancelUpdate(t)},update:function(t){return e.update(t)}}})],1),a("q-dialog",{model:{value:e.isUpdateSuccessDialog,callback:function(t){e.isUpdateSuccessDialog=t},expression:"isUpdateSuccessDialog"}},[a("MessageBox",{attrs:{title:"Success",message:"Contacts updated successfully!",okayEvent:"UpdateSuccessOkay",cancelEvent:"UpdateSuccessCancel"},on:{UpdateSuccessCancel:function(t){return e.UpdateSuccessCancel(t)},UpdateSuccessOkay:function(t){return e.UpdateSuccessOkay(t)}}})],1),a("q-dialog",{model:{value:e.isUpdateFailureDialog,callback:function(t){e.isUpdateFailureDialog=t},expression:"isUpdateFailureDialog"}},[a("MessageBox",{attrs:{title:"Error",message:e.message+".",okayEvent:"UpdateFailureOkay",cancelEvent:"UpdateFailureCancel"},on:{UpdateFailureCancel:function(t){return e.UpdateFailureCancel(t)},UpdateFailureOkay:function(t){return e.UpdateFailureOkay(t)}}})],1)],1)],1)],1)},s=[],l=(a("ef92"),a("0012"),a("f69e"),a("ad58"),a("d93a"),a("9289")),o=a.n(l),n=a("549c"),c=a.n(n),r=a("52b5"),u=a.n(r),d=a("0588"),p=a("b985");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={computed:{selectedContact:function(){return this.$store.getters["clientStore/selectedContact"]},isAdmin:function(){return this.$store.getters["clientStore/isAdmin"]},IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},PhotoDto:function(){return this.$store.getters["clientStore/PhotoDto"]}},components:{MessageBox:d["a"]},data:function(){return{ContactDTO:{phoneNumber:"",email:"",address:"",residentialCity:"",residentialState:""},isUpdateDialog:!1,isUpdateSuccessDialog:!1,isUpdateFailureDialog:!1,message:"",SelectedFile:null,files:null,isUploadFileDialog:!1,isUploadFileSuccessDialog:!1,isUploadFileFailureDialog:!1}},props:{theme_color:{type:String,default:"rgb(0, 163, 82)"}},methods:{onFileSelected:function(e){var t=this;t.files=e.target.files,t.SelectedFile=e.target.files[0]},UploadAction:function(){var e=this;e.isUploadFileDialog=!0},cancelUploadFile:function(){var e=this;e.isUploadFileDialog=!1},okayUploadFile:function(){var e=this;return c()(u.a.mark((function t(){var a,i,s,l,o,n,c,r,d;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in a=e,i=new FormData,a.files)i.append("images[]",a.files[s]);return l="".concat(p["r"],"/uploadphoto"),t.next=6,e.$store.dispatch("clientStore/UploadPhoto",{request:i,url:l});case 6:o=t.sent,n=o.data,c=n.data,r=n.message,d=n.success,a.isUploadFileDialog=!1,d?(e.$store.commit("clientStore/UploadFile",c),a.isUploadFileSuccessDialog=!0):(a.isUploadFileFailureDialog=!0,a.message=r);case 10:case"end":return t.stop()}}),t)})))()},cancelUploadFileSuccess:function(){var e=this;e.isUploadFileSuccessDialog=!1},okayUploadFileSucess:function(){var e=this;e.isUploadFileSuccessDialog=!1},cancelUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},okayUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},updateData:function(){var e=this;e.isUpdateDialog=!0},cancel:function(){var e=this;e.isUpdateDialog=!1,1==e.isAdmin?(this.$router.push("/contacts"),this.$store.commit("clientStore/isAdminUpdate",!1)):this.$router.push("/user-home")},update:function(){var e=this;return c()(u.a.mark((function t(){var a,i,s,l,o,n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,0==a.isAdmin&&(a.ContactDTO.contributorId=a.IdentityModel.id),""!==a.ContactDTO.phoneNumber){t.next=5;break}return alert("Enter your phone number without +234"),t.abrupt("return");case 5:if(""!==a.ContactDTO.residentialCity){t.next=8;break}return alert("Enter your residential city"),t.abrupt("return");case 8:if(""!==a.ContactDTO.residentialState){t.next=11;break}return alert("Enter your residential state"),t.abrupt("return");case 11:return""!=a.PhotoDto.base64String&&void 0!=a.PhotoDto.base64String&&(a.ContactDTO.base64String=a.PhotoDto.base64String),t.next=14,e.$store.dispatch("clientStore/UpdateContactDTO",a.ContactDTO);case 14:i=t.sent,s=i.data,l=s.data,o=s.message,n=s.success,a.isUpdateDialog=!1,a.message=o,n?(a.isUpdateSuccessDialog=!0,e.$store.commit("authenticationStore/AddUserPhoto",l)):a.isUpdateFailureDialog=!0;case 19:case"end":return t.stop()}}),t)})))()},cancelUpdate:function(){var e=this;e.isUpdateDialog=!1},UpdateSuccessOkay:function(){var e=this;e.isUpdateSuccessDialog=!1,1==e.isAdmin&&(this.$router.push("/contacts"),this.$store.commit("clientStore/isAdminUpdate",!1))},UpdateSuccessCancel:function(){var e=this;e.isUpdateSuccessDialog=!1,1==e.isAdmin&&(this.$router.push("/contacts"),this.$store.commit("clientStore/isAdminUpdate",!1))},UpdateFailureOkay:function(){var e=this;e.isUpdateFailureDialog=!1},UpdateFailureCancel:function(){var e=this;e.isUpdateFailureDialog=!1}},created:function(){var e=this;return c()(u.a.mark((function t(){var a,i,s,l,o;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,1!=a.isAdmin){t.next=5;break}a.ContactDTO=U({},a.selectedContact),t.next=10;break;case 5:return t.next=7,e.$store.dispatch("clientStore/GetContributor",a.IdentityModel.id);case 7:i=t.sent,s=i.data,l=s.data,o=s.success,o&&(a.ContactDTO=U({},l));case 10:case"end":return t.stop()}}),t)})))()}},m=f,D=(a("b3b6"),a("a6c2")),F=a("f624"),h=a("ddc7"),b=a("505d"),y=a("5ce7"),C=a("7006"),v=a("3548"),S=a("ef9c"),x=a("a3be"),k=a("ec6d"),O=a("63c1"),q=a.n(O),w=Object(D["a"])(m,i,s,!1,null,null,null);t["default"]=w.exports;q()(w,"components",{QLayout:F["a"],QPageContainer:h["a"],QPage:b["a"],QCard:y["a"],QCardSection:C["a"],QForm:v["a"],QBtn:S["a"],QInput:x["a"],QDialog:k["a"]})},b3b6:function(e,t,a){"use strict";var i=a("e0d0"),s=a.n(i);s.a},e0d0:function(e,t,a){}}]);