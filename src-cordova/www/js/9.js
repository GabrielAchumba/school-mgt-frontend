(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{5404:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-sm"},[a("ExcelImport",{attrs:{title:e.title,applicationColumns:e.applicationColumns},on:{saveTable:function(t){return e.Create(t)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner,expression:"showSpinner"}],staticClass:"q-gutter-md row"},[a("div",{staticClass:"col-12 q-pa-sm absolute-center flex flex-center"},[a("q-spinner",{attrs:{color:"accent",size:e.spinnerSize,thickness:e.spinnerThickness}})],1)]),e._l(e.dialogs,(function(t){return a("q-dialog",{key:t.title,model:{value:t.isVisible,callback:function(a){e.$set(t,"isVisible",a)},expression:"dialog.isVisible"}},[a("MessageBox",{attrs:{title:t.title,message:t.message,okayEvent:t.okayEvent,cancelEvent:t.cancelEvent},on:{cancelDialog:function(t){return e.cancelDialog(t)},okDialog:function(t){return e.okDialog(t)}}})],1)}))],2)},n=[],s=(a("d38f"),a("b7dd"),a("1a43"),a("0012"),a("6212"),a("950c"),a("2bf3"),a("5b54"),a("ef92"),a("f69e"),a("ad58"),a("d93a"),a("9289")),i=a.n(s),c=a("549c"),o=a.n(c),l=(a("c889"),a("52b5")),u=a.n(l),b=a("0588"),p=a("6c3a"),v=a("5dc2"),f=[{title:"Create Results",isVisible:!1,message:"Do you want to create results",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Success",isVisible:!1,message:"Results created successfully!",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Failure",isVisible:!1,message:"",okayEvent:"okDialog",cancelEvent:"cancelDialog"}],d=a("56cc"),h=a("c194"),m=a("ff2d"),k=a("8679"),x=a("08f0"),g=a("cd65"),y=a("940b"),S=a("1bb5");function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=j(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw s}}}}function j(e,t){if(e){if("string"===typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var T={computed:{showSpinner:function(){return this.$store.getters["authenticationStore/showSpinner"]},spinnerSize:function(){return this.$store.getters["authenticationStore/spinnerSize"]},spinnerThickness:function(){return this.$store.getters["authenticationStore/spinnerThickness"]}},components:{ExcelImport:p["a"],MessageBox:b["a"]},data:function(){return{title:"Import Results",applicationColumns:[],appVariables:[{variableTitle:"Score",variableName:"score"},{variableTitle:"Maximum Score",variableName:"scoreMax"},{variableTitle:"Class Room",variableName:"classRoom"},{variableTitle:"Level",variableName:"level"},{variableTitle:"Session",variableName:"session"},{variableTitle:"Subject",variableName:"subject"},{variableTitle:"Student's Full Name",variableName:"student"},{variableTitle:"Student's Username",variableName:"studentUserName"},{variableTitle:"Type of Instructor",variableName:"designation"},{variableTitle:"Instructor's Full Name",variableName:"teacher"},{variableTitle:"Instructor's Username",variableName:"instructorUserName"},{variableTitle:"Type of Assessment",variableName:"assessment"},{variableTitle:"Assessment Date",variableName:"createdAt"}],dialogs:f,tableRows:[]}},methods:{Create:function(e){var t=this;t.tableRows=e;var a,r=-1,n=O(t.dialogs);try{for(n.s();!(a=n.n()).done;){var s=a.value;if(r++,"Create Results"==s.title){t.dialogs[r].isVisible=!0;break}}}catch(i){n.e(i)}finally{n.f()}},Cancel:function(){var e=this.$store.getters["authenticationStore/IdentityModel"];"CEO"===e.schoolId?this.$router.push("/super-admin-results"):this.$router.push("/results")},cancelDialog:function(e){var t,a=this,r=-1,n=O(a.dialogs);try{for(n.s();!(t=n.n()).done;){var s=t.value;if(r++,s.title===e){a.dialogs[r].isVisible=!1;break}}}catch(i){n.e(i)}finally{n.f()}},createResults:function(){var e=this;return o()(u.a.mark((function t(){var a,r,n,s,i,c,o,l,b,p,f,w,I,j,N,T,C,D,E,V,$,R,A,P,M,U,q,z,B,F,_,J,Q,W,L,G,H,K,X,Y,Z,ee,te,ae,re,ne,se,ie,ce,oe,le,ue,be,pe,ve,fe,de;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,r=e.$store.getters["authenticationStore/IdentityModel"],t.next=4,Object(d["a"])(r.schoolId);case 4:return n=t.sent,s=n.result,t.next=8,Object(h["a"])(r.schoolId);case 8:return i=t.sent,c=i.result,t.next=12,Object(m["a"])(r.schoolId);case 12:return o=t.sent,l=o.result,t.next=16,Object(k["a"])(r.schoolId);case 16:return b=t.sent,p=b.result,t.next=20,Object(g["a"])(r.schoolId);case 20:return f=t.sent,w=f.result,t.next=24,Object(x["a"])(r.schoolId);case 24:return I=t.sent,j=I.result,t.next=28,Object(y["e"])(r.schoolId);case 28:return N=t.sent,T=N.result,t.next=32,Object(S["a"])(r.schoolId);case 32:C=t.sent,D=C.result,E=[],V=!1,$=O(a.tableRows),t.prev=37,$.s();case 39:if((R=$.n()).done){t.next=224;break}A=R.value,P={},M=O(a.appVariables);try{for(M.s();!(U=M.n()).done;)q=U.value,P["".concat(q.variableName)]=A["".concat(q.variableTitle)]}catch(u){M.e(u)}finally{M.f()}P.schoolId=r.schoolId,V=!1,z=O(s),t.prev=47,z.s();case 49:if((B=z.n()).done){t.next=57;break}if(F=B.value,F.type!==P["subject"]){t.next=55;break}return P.subjectId=F.id,V=!0,t.abrupt("break",57);case 55:t.next=49;break;case 57:t.next=62;break;case 59:t.prev=59,t.t0=t["catch"](47),z.e(t.t0);case 62:return t.prev=62,z.f(),t.finish(62);case 65:if(0!=V){t.next=67;break}return t.abrupt("continue",222);case 67:V=!1,_=O(w),t.prev=69,_.s();case 71:if((J=_.n()).done){t.next=79;break}if(Q=J.value,Q.type!==P["assessment"]){t.next=77;break}return P.assessmentId=Q.id,V=!0,t.abrupt("break",79);case 77:t.next=71;break;case 79:t.next=84;break;case 81:t.prev=81,t.t1=t["catch"](69),_.e(t.t1);case 84:return t.prev=84,_.f(),t.finish(84);case 87:if(0!=V){t.next=89;break}return t.abrupt("continue",222);case 89:V=!1,W=O(c),t.prev=91,W.s();case 93:if((L=W.n()).done){t.next=101;break}if(G=L.value,G.type!==P["classRoom"]){t.next=99;break}return P.classRoomId=G.id,V=!0,t.abrupt("break",101);case 99:t.next=93;break;case 101:t.next=106;break;case 103:t.prev=103,t.t2=t["catch"](91),W.e(t.t2);case 106:return t.prev=106,W.f(),t.finish(106);case 109:if(0!=V){t.next=111;break}return t.abrupt("continue",222);case 111:V=!1,H=O(j),t.prev=113,H.s();case 115:if((K=H.n()).done){t.next=123;break}if(X=K.value,X.type!==P["level"]){t.next=121;break}return P.levelId=X.id,V=!0,t.abrupt("break",123);case 121:t.next=115;break;case 123:t.next=128;break;case 125:t.prev=125,t.t3=t["catch"](113),H.e(t.t3);case 128:return t.prev=128,H.f(),t.finish(128);case 131:if(0!=V){t.next=133;break}return t.abrupt("continue",222);case 133:V=!1,Y=O(D),t.prev=135,Y.s();case 137:if((Z=Y.n()).done){t.next=145;break}if(ee=Z.value,ee.type!==P["session"]){t.next=143;break}return P.sessionId=ee.id,V=!0,t.abrupt("break",145);case 143:t.next=137;break;case 145:t.next=150;break;case 147:t.prev=147,t.t4=t["catch"](135),Y.e(t.t4);case 150:return t.prev=150,Y.f(),t.finish(150);case 153:if(0!=V){t.next=155;break}return t.abrupt("continue",222);case 155:V=!1,te=O(p),t.prev=157,te.s();case 159:if((ae=te.n()).done){t.next=167;break}if(re=ae.value,re.type!==P["designation"]){t.next=165;break}return P.designationId=re.id,V=!0,t.abrupt("break",167);case 165:t.next=159;break;case 167:t.next=172;break;case 169:t.prev=169,t.t5=t["catch"](157),te.e(t.t5);case 172:return t.prev=172,te.f(),t.finish(172);case 175:if(0!=V){t.next=177;break}return t.abrupt("continue",222);case 177:V=!1,ne=O(l),t.prev=179,ne.s();case 181:if((se=ne.n()).done){t.next=189;break}if(ie=se.value,ie.userName!==P["studentUserName"]){t.next=187;break}return P.studentId=ie.id,V=!0,t.abrupt("break",189);case 187:t.next=181;break;case 189:t.next=194;break;case 191:t.prev=191,t.t6=t["catch"](179),ne.e(t.t6);case 194:return t.prev=194,ne.f(),t.finish(194);case 197:if(0!=V){t.next=199;break}return t.abrupt("continue",222);case 199:V=!1,ce=O(T),t.prev=201,ce.s();case 203:if((oe=ce.n()).done){t.next=211;break}if(le=oe.value,le.userName!==P["instructorUserName"]){t.next=209;break}return P.teacherId=le.id,V=!0,t.abrupt("break",211);case 209:t.next=203;break;case 211:t.next=216;break;case 213:t.prev=213,t.t7=t["catch"](201),ce.e(t.t7);case 216:return t.prev=216,ce.f(),t.finish(216);case 219:if(0!=V){t.next=221;break}return t.abrupt("continue",222);case 221:E.push(P);case 222:t.next=39;break;case 224:t.next=229;break;case 226:t.prev=226,t.t8=t["catch"](37),$.e(t.t8);case 229:return t.prev=229,$.f(),t.finish(229);case 232:return console.log("results: ",E),ue="result/createmany",be={url:ue,req:E},e.$store.commit("authenticationStore/setShowSpinner",!0),t.next=238,Object(v["b"])(be);case 238:pe=t.sent,e.$store.commit("authenticationStore/setShowSpinner",!1),ve=pe.data,fe=ve.message,de=ve.success,console.log("message: ",fe),a.dialogs[0].isVisible=!1,de?a.dialogs[1].isVisible=!0:(a.dialogs[2].message=fe,a.dialogs[2].isVisible=!0);case 244:case"end":return t.stop()}}),t,null,[[37,226,229,232],[47,59,62,65],[69,81,84,87],[91,103,106,109],[113,125,128,131],[135,147,150,153],[157,169,172,175],[179,191,194,197],[201,213,216,219]])})))()},okDialog:function(e){var t=this;return o()(u.a.mark((function a(){var r,n,s,i,c,o;return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("payload: ",e),r=t,n=-1,s=O(r.dialogs),a.prev=4,s.s();case 6:if((i=s.n()).done){a.next=23;break}if(c=i.value,n++,c.title!==e){a.next=21;break}a.t0=e,a.next="Create Results"===a.t0?13:"Success"===a.t0?16:19;break;case 13:return a.next=15,r.createResults();case 15:return a.abrupt("break",19);case 16:return o=t.$store.getters["authenticationStore/IdentityModel"],"CEO"===o.schoolId?t.$router.push("/super-admin-results"):t.$router.push("/results"),a.abrupt("break",19);case 19:return r.dialogs[n].isVisible=!1,a.abrupt("break",23);case 21:a.next=6;break;case 23:a.next=28;break;case 25:a.prev=25,a.t1=a["catch"](4),s.e(a.t1);case 28:return a.prev=28,s.f(),a.finish(28);case 31:case"end":return a.stop()}}),a,null,[[4,25,28,31]])})))()},setWorkSheetColumns:function(){var e=this,t={label:"",value:"",type:"text",list:[],actionName:"referedByAction",visible:!0};t.list=e.appVariables.map((function(e){return{type:e.variableTitle,value:e.variableTitle,label:e.variableTitle,variableName:e.variableName}}));for(var a=0;a<e.appVariables.length;a++)e.applicationColumns.push(I({},t)),e.applicationColumns[a].id="Application Column ".concat(a+1),e.applicationColumns[a].value=e.applicationColumns[a].list[a].value,e.applicationColumns[a].sn=a}},created:function(){var e=this;e.setWorkSheetColumns(),this.$store.commit("authenticationStore/setPageTitle","Import Results")}},C=T,D=a("a6c2"),E=a("c99e"),V=a("ec6d"),$=a("63c1"),R=a.n($),A=Object(D["a"])(C,r,n,!1,null,null,null);t["default"]=A.exports;R()(A,"components",{QSpinner:E["a"],QDialog:V["a"]})}}]);