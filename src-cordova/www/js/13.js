(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{b686:function(e,t,a){"use strict";a.r(t);var n,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-sm"},[a("div",[a("q-select",{attrs:{color:"accent",outlined:"","label-color":"accent",options:e.categories,label:"Category"},on:{input:e.onItemValueChanged},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),a("q-separator"),a("q-tabs",{staticClass:"bg-accent text-primary",attrs:{dense:"","active-color":"primary","indicator-color":"secondary",align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"offplatformpayment",label:"Off-Platform"}}),a("q-tab",{attrs:{name:"onplatformpayment",label:"On-Platform"}})],1),a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{staticClass:"bg-primary",attrs:{name:"offplatformpayment"}},[a("OffPlatformPayment",{attrs:{category:e.category,amount:e.amount,categoryBankName:e.selectedCategoryBankDetails.categoryBankName,categoryAccountName:e.selectedCategoryBankDetails.categoryAccountName,categoryAccountNumber:e.selectedCategoryBankDetails.categoryAccountNumber}})],1),a("q-tab-panel",{staticClass:"bg-primary",attrs:{name:"onplatformpayment"}},[a("OnPlatformPayment",{attrs:{category:e.category,amount:e.amount,categoryBankName:e.selectedCategoryBankDetails.categoryBankName,categoryAccountName:e.selectedCategoryBankDetails.categoryAccountName,categoryAccountNumber:e.selectedCategoryBankDetails.categoryAccountNumber}})],1)],1)],1),a("q-dialog",{model:{value:e.isBankDetailsFaliureDialog,callback:function(t){e.isBankDetailsFaliureDialog=t},expression:"isBankDetailsFaliureDialog"}},[a("MessageBox",{attrs:{title:"Failure",message:e.messageBankDetails+".",okayEvent:"okayBankDetailsFailure",cancelEvent:"cancelBankDetailsFailure"},on:{okayBankDetailsFailure:function(t){return e.okayBankDetailsFailure(t)},cancelBankDetailsFailure:function(t){return e.cancelBankDetailsFailure(t)}}})],1)],1)},o=[],s=a("549c"),i=a.n(s),c=a("52b5"),l=a.n(c),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showSpinner?e._e():a("q-scroll-area",{staticStyle:{height:"100vh","max-width":"100%"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-pa-sm bg-primary text-accent"},[a("span",{staticClass:"text-h6"},[e._v("Account Name: "+e._s(e.categoryAccountName)+" ")]),a("br"),a("span",{staticClass:"text-h6"},[e._v("Bank Name: "+e._s(e.categoryBankName)+" ")]),a("br"),a("span",{staticClass:"text-h6"},[e._v("Account Number: "+e._s(e.categoryAccountNumber)+" ")]),a("br"),a("br")]),a("div",{staticClass:"col-12 q-pa-sm"},[e.isOTP?e._e():a("div",{staticClass:"col-12 q-pa-sm"},[a("span",[a("p",{staticClass:"q-ma-none"},[e._v("Bank Name")]),a("q-select",{staticClass:"q-ma-none",attrs:{color:"accent",outlined:"","label-color":"accent","option-disable":"inactive",options:e.banks,"option-value":"name","option-label":"type",name:"type","emit-value":"","map-options":""},on:{input:function(t){return e.onQSelectItemValueChanged(e.bankNamePaidFrom)}},model:{value:e.bankNamePaidFrom,callback:function(t){e.bankNamePaidFrom=t},expression:"bankNamePaidFrom"}})],1)]),e.isOTP?e._e():a("div",{staticClass:"col-12 q-pa-sm"},[a("q-input",{attrs:{outlined:"",label:"Account Name "},model:{value:e.accountNamePaidFrom,callback:function(t){e.accountNamePaidFrom=t},expression:"accountNamePaidFrom"}})],1),e.isOTP?e._e():a("div",{staticClass:"col-12 q-pa-sm"},[a("q-input",{attrs:{outlined:"",label:"Account Number "},model:{value:e.accountNumberPaidFrom,callback:function(t){e.accountNumberPaidFrom=t},expression:"accountNumberPaidFrom"}})],1)]),a("Form",{staticClass:"col-12 q-pa-sm",attrs:{formData:e.form},on:{onFileSelected:function(t){return e.onFileSelected(t)}}}),a("div",{staticClass:"col-12 q-ma-none"},[a("div",{staticClass:"row"},[a("StatusBar",{staticClass:"col-12 text-center q-pa-sm",attrs:{savingStatus:e.savingStatus,message:e.messageOffPlatformPayment,saveComplete:e.saveComplete,saveError:e.saveError},on:{updateStatusBar:e.updateStatusBar}}),a("div",{staticClass:"col-5 q-pa-sm"},[a("div",[a("div",{staticClass:"text-caption text-accent text-weight-bolder q-mt-sm"},[e._v("Investment")]),a("span",{staticClass:"text-h6 text-accent"},[e._v("₦"+e._s(e.amount))])])]),a("div",{staticClass:"col-2 q-pa-sm"}),a("div",{staticClass:"col-5 q-pa-sm text-center"},[a("q-btn",{staticClass:"text-capitalize bg-accent text-primary",staticStyle:{width:"95%"},attrs:{exact:"",size:"md",dense:"",label:"Submit",type:"button"},on:{click:e.okayOffPlatformPaymentSucess}})],1)],1)])],1),a("q-dialog",{model:{value:e.isOffPlatformPaymentSuccessDialog,callback:function(t){e.isOffPlatformPaymentSuccessDialog=t},expression:"isOffPlatformPaymentSuccessDialog"}},[a("MessageBox",{attrs:{title:"Invest",message:"Do you want to invest in this category?",okayEvent:"uploadAndSavePayment",cancelEvent:"cancelOffPlatformPaymentSuccess"},on:{uploadAndSavePayment:function(t){return e.uploadAndSavePayment(t)},cancelOffPlatformPaymentSuccess:function(t){return e.cancelOffPlatformPaymentSuccess(t)}}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner,expression:"showSpinner"}],staticClass:"q-gutter-md row"},[a("div",{staticClass:"col-12 q-pa-sm absolute-center flex flex-center"},[a("q-spinner",{attrs:{color:"accent",size:e.spinnerSize,thickness:e.spinnerThickness}})],1)])],1)},m=[],f=a("9289"),p=a.n(f),d=(a("1a43"),a("c889"),a("ef92"),a("0012"),a("f69e"),a("ad58"),a("d93a"),a("0588")),g=a("639b"),y=a("2091"),b=a("b985"),P=a("5dc2"),k=a("0601");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F={computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},DoesNotHaveMoneyAccount:function(){return this.$store.getters["authenticationStore/DoesNotHaveMoneyAccount"]},HasNotPaid:function(){return this.$store.getters["accountStore/HasNotPaid"]},unContributedUser:function(){return this.$store.getters["accountStore/unContributedUser"]},isAdmin:function(){return this.$store.getters["accountStore/isAdmin"]},Account:function(){return this.$store.getters["accountStore/Account"]},showSpinner:function(){return this.$store.getters["authenticationStore/showSpinner"]},spinnerSize:function(){return this.$store.getters["authenticationStore/spinnerSize"]},spinnerThickness:function(){return this.$store.getters["authenticationStore/spinnerThickness"]}},components:{MessageBox:d["a"],Form:g["a"],StatusBar:y["a"]},props:{category:{type:String,default:"CategoryN500"},amount:{type:String,default:"500.00"},categoryBankName:{type:String,default:""},categoryAccountName:{type:String,default:"500.00"},categoryAccountNumber:{type:String,default:"500.00"}},data:function(){return{isOTP:!1,oTP:"",SelectedFile:null,files:null,responseMessage:"",HasMoneyAccount2:!1,bankNamePaidFrom:"",accountNamePaidFrom:"",accountNumberPaidFrom:"",isUploadFileDialog:!1,isUploadFileSuccessDialog:!1,isUploadFileFailureDialog:!1,message:"",isOffPlatformPaymentDialog:!1,isOffPlatformPaymentSuccessDialog:!1,isOffPlatformPaymentFailureDialog:!1,messageOffPlatformPayment:"",banks:[],paymentLabel:"Initiate Payment",transferCode:"",fileUrl:"",fileName:"",originalFileName:"",fileUploadError:"No Error",savingStatus:"",saveError:!1,saveComplete:!1,count:0,minutes:0,seconds:0,form:{title:"Payment Details",qSelects:[],qInputs:[{label:"Details SMS or Email Alert",name:"",type:"textarea",selectedFile:null,files:[],Template:{sn:0,iconName:"",visible:!1}}],qFiles:[{label:"Picture (1MB Maximum)",name:"",type:"file",selectedFile:null,showPreview:!1,imagePreview:"",files:[],Template:{sn:0,iconName:"",visible:!1}}],qColors:[],qBtns:[],qDates:[],GroupedCheckBoxes:[],clearQInputs:function(){var e=0;for(e=0;e<this.qInputs.length;e++)this.qInputs[e].name=""},clearQFiles:function(){var e=0;for(e=0;e<this.qFiles.length;e++)this.qFiles[e].name=""}}}},methods:(n={refreshPayment:function(){var e=this;1==e.isOTP?e.isOTP=!1:e.isOTP=!0},UploadAction:function(){var e=this;e.isUploadFileDialog=!0},cancelUploadFile:function(){var e=this;e.isUploadFileDialog=!1},okayUploadFile:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s,i,c,u,m;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r in a=e,n=new FormData,a.files)n.append("images[]",a.files[r]);o="",t.t0=a.category,t.next="CategoryN500"===t.t0?7:"CategoryN1000"===t.t0?9:"CategoryN2000"===t.t0?11:"CategoryN5000"===t.t0?13:"CategoryN10000"===t.t0?15:17;break;case 7:return o="".concat(b["e"],"/uploadphoto"),t.abrupt("break",17);case 9:return o="".concat(b["b"],"/uploadphoto"),t.abrupt("break",17);case 11:return o="".concat(b["c"],"/uploadphoto"),t.abrupt("break",17);case 13:return o="".concat(b["d"],"/uploadphoto"),t.abrupt("break",17);case 15:return o="".concat(b["a"],"/uploadphoto"),t.abrupt("break",17);case 17:return t.next=19,e.$store.dispatch("accountStore/UploadPhoto",{request:n,url:o});case 19:s=t.sent,i=s.data,c=i.data,u=i.message,m=i.success,a.isUploadFileDialog=!1,m?(e.$store.commit("accountStore/UploadFile",c),a.isUploadFileSuccessDialog=!0):(a.isUploadFileFailureDialog=!0,a.messageOffPlatformPayment=u);case 23:case"end":return t.stop()}}),t)})))()},cancelUploadFileSuccess:function(){var e=this;e.isUploadFileSuccessDialog=!1},okayUploadFileSucess:function(){var e=this;e.isUploadFileSuccessDialog=!1},cancelUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},okayUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},OffPlatformPayment:function(){var e=this;e.isOffPlatformPaymentDialog=!0},cancelOffPlatformPayment:function(){var e=this;e.isOffPlatformPaymentDialog=!1},getBanks:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s,i;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,n={url:"".concat(b["q"],"/getbanks")},e.$store.commit("authenticationStore/setShowSpinner",!0),t.next=5,Object(P["a"])(n);case 5:r=t.sent,e.$store.commit("authenticationStore/setShowSpinner",!1),o=r.data,s=o.data,i=o.success,o.message,i&&(a.banks=s.map((function(e){return h(h({},e),{},{type:e.name})})));case 9:case"end":return t.stop()}}),t)})))()},onQSelectItemValueChanged:function(e){console.log("qSelect: ",e)},onFileSelected:function(e){var t=this;t.isUploadFileDialog=!1,t.form.qFiles[0].selectedFile=e.selectedFile;var a=new FileReader;a.addEventListener("load",function(){t.form.qFiles[0].showPreview=!0,t.form.qFiles[0].imagePreview=a.result,t.isUploadFileDialog=!0}.bind(t),!1),t.form.qFiles[0].selectedFile&&(/\.(jpe?g|png|gif)$/i.test(t.form.qFiles[0].selectedFile.name)?a.readAsDataURL(t.form.qFiles[0].selectedFile):alert("Wrong image format. Only supports .jpg, .jpeg, .png and .gif"))},uploadPicture:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,n=new FormData,console.log("selectedFile: ",a.form.qFiles[0].selectedFile),n.append("file",a.form.qFiles[0].selectedFile),r="gcp/upload",o={url:r,req:n},console.log("payload: ",o),t.prev=7,t.next=10,k["a"](o);case 10:s=t.sent,a.fileUrl=s.data.url,a.fileName=s.data.fileName,a.originalFileName=s.data.originalFileName,a.fileUploadError=s.data.error,"No Error"!==a.fileUploadError&&(a.saveError=!1,a.messageOffPlatformPayment=a.fileUploadError),console.log("fileUrl: ",a.fileUrl),t.next=26;break;case 19:t.prev=19,t.t0=t["catch"](7),a.saveError=!0,a.saveComplete=!1,a.fileUploadError="File upload error",a.messageOffPlatformPayment=a.fileUploadError,a.savingStatus="";case 26:case"end":return t.stop()}}),t,null,[[7,19]])})))()},uploadAndSavePayment:function(){var e=this;return i()(l.a.mark((function t(){var a;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,a.saveError=!1,a.saveComplete=!1,a.savingStatus="Saving Investment...",!a.form.qFiles[0].imagePreview||!0!==a.isUploadFileDialog){t.next=7;break}return t.next=7,a.uploadPicture();case 7:if("No Error"!==a.fileUploadError){t.next=12;break}return t.next=10,a.okayOffPlatformPayment();case 10:t.next=13;break;case 12:a.message="File upload error. Please try again";case 13:case"end":return t.stop()}}),t)})))()},okayOffPlatformPayment:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s,i,c,u,m,f,p;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,r="",0==a.isAdmin?(n=a.IdentityModel.id,r=a.IdentityModel.userName):(n=a.unContributedUser.contributorId,r=a.unContributedUser.username),o=new Date,s={req:{bankNamePaidFrom:a.bankNamePaidFrom,accountNamePaidFrom:a.accountNamePaidFrom,accountNumberPaidFrom:a.accountNumberPaidFrom,contributorId:n,base64String:a.fileUrl,fileName:a.originalFileName,createdYear:o.getFullYear(),createdMonth:o.getMonth()+1,createdDay:o.getDate(),username:r,reference:"",status:"pending",transfer_code:"",transferId:"",integration:"",recipient:a.form.qInputs[0].name,categoryIndex:1},url:""},i={},t.t0=a.category,t.next="CategoryN500"===t.t0?9:"CategoryN1000"===t.t0?15:"CategoryN2000"===t.t0?21:"CategoryN5000"===t.t0?27:"CategoryN10000"===t.t0?33:39;break;case 9:return s.url="".concat(b["e"],"/offplatformpayment"),s.req.categoryIndex=1,t.next=13,Object(P["b"])(s);case 13:return i=t.sent,t.abrupt("break",39);case 15:return s.url="".concat(b["b"],"/offplatformpayment"),s.req.categoryIndex=2,t.next=19,Object(P["b"])(s);case 19:return i=t.sent,t.abrupt("break",39);case 21:return s.url="".concat(b["c"],"/offplatformpayment"),s.req.categoryIndex=3,t.next=25,Object(P["b"])(s);case 25:return i=t.sent,t.abrupt("break",39);case 27:return s.url="".concat(b["d"],"/offplatformpayment"),s.req.categoryIndex=4,t.next=31,Object(P["b"])(s);case 31:return i=t.sent,t.abrupt("break",39);case 33:return s.url="".concat(b["a"],"/offplatformpayment"),s.req.categoryIndex=5,t.next=37,Object(P["b"])(s);case 37:return i=t.sent,t.abrupt("break",39);case 39:if(c=i,u=c.data,m=u.data,f=u.message,p=u.success,a.isOffPlatformPaymentSuccessDialog=!1,!p){t.next=64;break}t.t1=a.category,t.next="CategoryN500"===t.t1?45:"CategoryN1000"===t.t1?48:"CategoryN2000"===t.t1?51:"CategoryN5000"===t.t1?54:"CategoryN10000"===t.t1?57:60;break;case 45:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN500",result:m}),a.savingStatus="CategoryN500 invested successfully",t.abrupt("break",60);case 48:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN1000",result:m}),a.savingStatus="CategoryN1000 invested successfully",t.abrupt("break",60);case 51:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN2000",result:m}),a.savingStatus="CategoryN2000 invested successfully",t.abrupt("break",60);case 54:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN5000",result:m}),a.savingStatus="CategoryN5000 invested successfully",t.abrupt("break",60);case 57:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN10000",result:m}),a.savingStatus="CategoryN10000 invested successfully",t.abrupt("break",60);case 60:a.saveError=!1,a.saveComplete=!1,t.next=68;break;case 64:a.saveComplete=!1,a.saveError=!0,a.savingStatus="",a.messageOffPlatformPayment=f;case 68:case"end":return t.stop()}}),t)})))()},okayOffPlatformPaymentSucess:function(){var e=this;e.isOffPlatformPaymentSuccessDialog=!0},cancelOffPlatformPaymentSuccess:function(){var e=this;e.isOffPlatformPaymentSuccessDialog=!1},okayOffPlatformPaymentFailure:function(){var e=this;e.isOffPlatformPaymentFailureDialog=!1}},p()(n,"okayOffPlatformPaymentFailure",(function(){var e=this;e.isOffPlatformPaymentFailureDialog=!1})),p()(n,"updateStatusBar",(function(e){var t=this;t.minutes=e.minutes,t.seconds=e.seconds})),n),created:function(){var e=this;return i()(l.a.mark((function t(){var a;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.next=3,a.getBanks();case 3:case"end":return t.stop()}}),t)})))()}},S=F,O=a("a6c2"),C=a("b51c"),N=a("f636"),x=a("a3be"),D=a("ef9c"),w=a("ec6d"),U=a("c99e"),q=a("63c1"),B=a.n(q),A=Object(O["a"])(S,u,m,!1,null,null,null),I=A.exports;B()(A,"components",{QScrollArea:C["a"],QSelect:N["a"],QInput:x["a"],QBtn:D["a"],QDialog:w["a"],QSpinner:U["a"]});var $=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showSpinner?e._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-pa-sm"},[e.isOTP?e._e():a("div",{staticClass:"col-12 q-pa-sm"},[a("span",[a("p",{staticClass:"q-ma-none"},[e._v("Bank Name")]),a("q-select",{staticClass:"q-ma-none",attrs:{color:"accent",outlined:"","label-color":"accent","option-disable":"inactive",options:e.banks,"option-value":"name","option-label":"type",name:"type","emit-value":"","map-options":""},on:{input:function(t){return e.onQSelectItemValueChanged(e.bankNamePaidFrom)}},model:{value:e.bankNamePaidFrom,callback:function(t){e.bankNamePaidFrom=t},expression:"bankNamePaidFrom"}})],1)]),e.isOTP?e._e():a("div",{staticClass:"col-12 q-pa-sm"},[a("q-input",{attrs:{outlined:"",label:"Account Name "},model:{value:e.accountNamePaidFrom,callback:function(t){e.accountNamePaidFrom=t},expression:"accountNamePaidFrom"}})],1),e.isOTP?e._e():a("div",{staticClass:"col-12 q-pa-sm"},[a("q-input",{attrs:{outlined:"",label:"Account Number "},model:{value:e.accountNumberPaidFrom,callback:function(t){e.accountNumberPaidFrom=t},expression:"accountNumberPaidFrom"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isOTP,expression:"isOTP"}],staticClass:"col-12 q-pa-sm"},[a("q-input",{attrs:{outlined:"",label:"OTP "},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"bg-primary text-accent",attrs:{name:"refresh"},on:{click:e.refreshPayment}})]},proxy:!0}],null,!1,1587251599),model:{value:e.oTP,callback:function(t){e.oTP=t},expression:"oTP"}})],1)]),a("div",{staticClass:"col-12 q-ma-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5 q-pa-sm"},[a("div",[a("div",{staticClass:"text-caption text-accent text-weight-bolder q-mt-sm"},[e._v("Investment")]),a("span",{staticClass:"text-h6 text-accent"},[e._v("₦"+e._s(e.amount))])])]),a("div",{staticClass:"col-2 q-pa-sm"}),a("div",{staticClass:"col-5 q-pa-sm text-center"},[a("q-btn",{staticClass:"text-capitalize bg-accent text-primary",staticStyle:{width:"95%"},attrs:{exact:"",size:"md",dense:"",label:e.paymentLabel,type:"button"},on:{click:e.makePayment}})],1)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner,expression:"showSpinner"}],staticClass:"q-gutter-md row"},[a("div",{staticClass:"col-12 q-pa-sm absolute-center flex flex-center"},[a("q-spinner",{attrs:{color:"accent",size:e.spinnerSize,thickness:e.spinnerThickness}})],1)]),a("q-dialog",{model:{value:e.isUploadFileDialog,callback:function(t){e.isUploadFileDialog=t},expression:"isUploadFileDialog"}},[a("MessageBox",{attrs:{title:"Upload Pay Slip",message:"Do you want to upload pay slip?",okayEvent:"okayUploadFile",cancelEvent:"cancelUploadFile"},on:{okayUploadFile:function(t){return e.okayUploadFile(t)},cancelUploadFile:function(t){return e.cancelUploadFile(t)}}})],1),a("q-dialog",{model:{value:e.isUploadFileSuccessDialog,callback:function(t){e.isUploadFileSuccessDialog=t},expression:"isUploadFileSuccessDialog"}},[a("MessageBox",{attrs:{title:"Success",message:"Pay slip uploaded successfully.",okayEvent:"okayUploadFileSucess",cancelEvent:"cancelUploadFileSuccess"},on:{okayUploadFileSucess:function(t){return e.okayUploadFileSucess(t)},cancelUploadFileSuccess:function(t){return e.cancelUploadFileSuccess(t)}}})],1),a("q-dialog",{model:{value:e.isUploadFileFailureDialog,callback:function(t){e.isUploadFileFailureDialog=t},expression:"isUploadFileFailureDialog"}},[a("MessageBox",{attrs:{title:"Failure",message:e.message+".",okayEvent:"okayUploadFileFailure",cancelEvent:"cancelUploadFileFailure"},on:{okayUploadFileFailure:function(t){return e.okayUploadFileFailure(t)},cancelUploadFileFailure:function(t){return e.cancelUploadFileFailure(t)}}})],1),a("q-dialog",{model:{value:e.isOffPlatformPaymentDialog,callback:function(t){e.isOffPlatformPaymentDialog=t},expression:"isOffPlatformPaymentDialog"}},[a("MessageBox",{attrs:{title:"Complete Payment",message:"Do you want to complete your payment cycle?",okayEvent:"okayOffPlatformPayment",cancelEvent:"cancelOffPlatformPayment"},on:{okayOffPlatformPayment:function(t){return e.okayOffPlatformPayment(t)},cancelOffPlatformPayment:function(t){return e.cancelOffPlatformPayment(t)}}})],1),a("q-dialog",{model:{value:e.isOffPlatformPaymentSuccessDialog,callback:function(t){e.isOffPlatformPaymentSuccessDialog=t},expression:"isOffPlatformPaymentSuccessDialog"}},[a("MessageBox",{attrs:{title:"Success",message:"Payment cycle completed successfully.",okayEvent:"okayOffPlatformPaymentSucess",cancelEvent:"cancelOffPlatformPaymentSuccess"},on:{okayOffPlatformPaymentSucess:function(t){return e.okayOffPlatformPaymentSucess(t)},cancelOffPlatformPaymentSuccess:function(t){return e.cancelOffPlatformPaymentSuccess(t)}}})],1),a("q-dialog",{model:{value:e.isOffPlatformPaymentFailureDialog,callback:function(t){e.isOffPlatformPaymentFailureDialog=t},expression:"isOffPlatformPaymentFailureDialog"}},[a("MessageBox",{attrs:{title:"Failure",message:e.messageOffPlatformPayment+".",okayEvent:"okayOffPlatformPaymentFailure",cancelEvent:"cancelOffPlatformPaymentFailure"},on:{okayOffPlatformPaymentFailure:function(t){return e.okayOffPlatformPaymentFailure(t)},cancelOffPlatformPaymentFailure:function(t){return e.cancelOffPlatformPaymentFailure(t)}}})],1)],1)},j=[];a("8ade");function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M={computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},DoesNotHaveMoneyAccount:function(){return this.$store.getters["authenticationStore/DoesNotHaveMoneyAccount"]},HasNotPaid:function(){return this.$store.getters["accountStore/HasNotPaid"]},unContributedUser:function(){return this.$store.getters["accountStore/unContributedUser"]},isAdmin:function(){return this.$store.getters["accountStore/isAdmin"]},Account:function(){return this.$store.getters["accountStore/Account"]},showSpinner:function(){return this.$store.getters["authenticationStore/showSpinner"]},spinnerSize:function(){return this.$store.getters["authenticationStore/spinnerSize"]},spinnerThickness:function(){return this.$store.getters["authenticationStore/spinnerThickness"]}},components:{MessageBox:d["a"]},props:{category:{type:String,default:"CategoryN500"},amount:{type:String,default:"500.00"},categoryBankName:{type:String,default:""},categoryAccountName:{type:String,default:"500.00"},categoryAccountNumber:{type:String,default:"500.00"}},data:function(){return{isOTP:!1,oTP:"",SelectedFile:null,files:null,responseMessage:"",HasMoneyAccount2:!1,bankNamePaidFrom:"",accountNamePaidFrom:"",accountNumberPaidFrom:"",isUploadFileDialog:!1,isUploadFileSuccessDialog:!1,isUploadFileFailureDialog:!1,message:"",isOffPlatformPaymentDialog:!1,isOffPlatformPaymentSuccessDialog:!1,isOffPlatformPaymentFailureDialog:!1,messageOffPlatformPayment:"",banks:[],paymentLabel:"Initiate Payment",transferCode:""}},methods:p()({refreshPayment:function(){var e=this;1==e.isOTP?e.isOTP=!1:e.isOTP=!0},onFileSelected:function(e){var t=this;t.files=e.target.files,t.SelectedFile=e.target.files[0]},UploadAction:function(){var e=this;e.isUploadFileDialog=!0},cancelUploadFile:function(){var e=this;e.isUploadFileDialog=!1},okayUploadFile:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s,i,c,u,m;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r in a=e,n=new FormData,a.files)n.append("images[]",a.files[r]);o="",t.t0=a.category,t.next="CategoryN500"===t.t0?7:"CategoryN1000"===t.t0?9:"CategoryN2000"===t.t0?11:"CategoryN5000"===t.t0?13:"CategoryN10000"===t.t0?15:17;break;case 7:return o="".concat(b["e"],"/uploadphoto"),t.abrupt("break",17);case 9:return o="".concat(b["b"],"/uploadphoto"),t.abrupt("break",17);case 11:return o="".concat(b["c"],"/uploadphoto"),t.abrupt("break",17);case 13:return o="".concat(b["d"],"/uploadphoto"),t.abrupt("break",17);case 15:return o="".concat(b["a"],"/uploadphoto"),t.abrupt("break",17);case 17:return t.next=19,e.$store.dispatch("accountStore/UploadPhoto",{request:n,url:o});case 19:s=t.sent,i=s.data,c=i.data,u=i.message,m=i.success,a.isUploadFileDialog=!1,m?(e.$store.commit("accountStore/UploadFile",c),a.isUploadFileSuccessDialog=!0):(a.isUploadFileFailureDialog=!0,a.message=u);case 23:case"end":return t.stop()}}),t)})))()},cancelUploadFileSuccess:function(){var e=this;e.isUploadFileSuccessDialog=!1},okayUploadFileSucess:function(){var e=this;e.isUploadFileSuccessDialog=!1},cancelUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},okayUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},OffPlatformPayment:function(){var e=this;e.isOffPlatformPaymentDialog=!0},cancelOffPlatformPayment:function(){var e=this;e.isOffPlatformPaymentDialog=!1},getBanks:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s,i;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,n={url:"".concat(b["q"],"/getbanks")},e.$store.commit("authenticationStore/setShowSpinner",!0),t.next=5,Object(P["a"])(n);case 5:r=t.sent,e.$store.commit("authenticationStore/setShowSpinner",!1),o=r.data,s=o.data,i=o.success,o.message,i&&(a.banks=s.map((function(e){return T(T({},e),{},{type:e.name})})),console.log("banks: ",a.banks));case 9:case"end":return t.stop()}}),t)})))()},onQSelectItemValueChanged:function(e){console.log("qSelect: ",e)},initiatePayment:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s,i,c,u,m;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,n=a.banks.find((function(e){return e.name===a.bankNamePaidFrom})),console.log("selectedBank: ",n),r="Invested ".concat(a.amount," for ").concat(a.category),o={url:"".concat(b["q"],"/initiatetransfer"),req:{accountName:a.accountNamePaidFrom,description:r,accountNumber:a.accountNumberPaidFrom,bankCode:n.code,currency:"NGN",amount:"100",Reason:"Savings"}},console.log("payload: ",o),t.next=8,Object(P["b"])(o);case 8:s=t.sent,console.log("response: ",s),i=s.data,c=i.data,u=i.success,m=i.message,u?(a.transferCode=c.transfer_code,a.isOTP=!0,a.paymentLabel="Finalize Payment"):(console.log("message: ",m),a.isOTP=!1,a.paymentLabel="Initiate Payment");case 12:case"end":return t.stop()}}),t)})))()},finalizePayment:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s,i;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,n={url:"".concat(b["q"],"/finalizetransfer"),req:{transferCode:a.transferCode,oTP:a.oTP}},t.next=4,Object(P["b"])(n);case 4:if(r=t.sent,o=r.data,o.data,s=o.success,i=o.message,!s){t.next=11;break}return t.next=9,a.okayOffPlatformPayment();case 9:t.next=12;break;case 11:console.log("message: ",i);case 12:case"end":return t.stop()}}),t)})))()},makePayment:function(){var e=this;return i()(l.a.mark((function t(){var a;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,!1!==a.isOTP){t.next=6;break}return t.next=4,a.initiatePayment();case 4:t.next=8;break;case 6:return t.next=8,a.finalizePayment();case 8:case"end":return t.stop()}}),t)})))()},okayOffPlatformPayment:function(e){var t=this;return i()(l.a.mark((function a(){var n,r,o,s,i,c,u,m,f,p,d;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t,o="",0==n.isAdmin?(r=n.IdentityModel.id,o=n.IdentityModel.userName):(r=n.unContributedUser.contributorId,o=n.unContributedUser.username),s=new Date,i={req:{bankNamePaidFrom:n.bankNamePaidFrom,accountNamePaidFrom:n.accountNamePaidFrom,accountNumberPaidFrom:n.accountNumberPaidFrom,contributorId:r,base64String:n.Account.base64String,fileName:n.Account.fileName,createdYear:s.getFullYear(),createdMonth:s.getMonth()+1,createdDay:s.getDate(),username:o,reference:e.reference,status:e.status,transfer_code:e.transfer_code,transferId:e.id,integration:e.integration,recipient:e.recipient},url:""},c={},a.t0=n.category,a.next="CategoryN500"===a.t0?9:"CategoryN1000"===a.t0?15:"CategoryN2000"===a.t0?21:"CategoryN5000"===a.t0?27:"CategoryN10000"===a.t0?33:39;break;case 9:return i.url="".concat(b["e"],"/offplatformpayment"),i.req.categoryIndex=1,a.next=13,Object(P["b"])(i);case 13:return c=a.sent,a.abrupt("break",39);case 15:return i.url="".concat(b["b"],"/offplatformpayment"),i.req.categoryIndex=2,a.next=19,Object(P["b"])(i);case 19:return c=a.sent,a.abrupt("break",39);case 21:return i.url="".concat(b["c"],"/offplatformpayment"),i.req.categoryIndex=3,a.next=25,Object(P["b"])(i);case 25:return c=a.sent,a.abrupt("break",39);case 27:return i.url="".concat(b["d"],"/offplatformpayment"),i.req.categoryIndex=4,a.next=31,Object(P["b"])(i);case 31:return c=a.sent,a.abrupt("break",39);case 33:return i.url="".concat(b["a"],"/offplatformpayment"),i.req.categoryIndex=5,a.next=37,Object(P["b"])(i);case 37:return c=a.sent,a.abrupt("break",39);case 39:if(u=c,m=u.data,f=m.data,p=m.message,d=m.success,n.isOffPlatformPaymentDialog=!1,!d){a.next=58;break}a.t1=n.category,a.next="CategoryN500"===a.t1?45:"CategoryN1000"===a.t1?47:"CategoryN2000"===a.t1?49:"CategoryN5000"===a.t1?51:"CategoryN10000"===a.t1?53:55;break;case 45:return t.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN500",result:f}),a.abrupt("break",55);case 47:return t.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN1000",result:f}),a.abrupt("break",55);case 49:return t.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN2000",result:f}),a.abrupt("break",55);case 51:return t.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN5000",result:f}),a.abrupt("break",55);case 53:return t.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN10000",result:f}),a.abrupt("break",55);case 55:n.isOffPlatformPaymentSuccessDialog=!0,a.next=60;break;case 58:n.isOffPlatformPaymentFailureDialog=!0,n.messageOffPlatformPayment=p;case 60:case"end":return a.stop()}}),a)})))()},okayOffPlatformPaymentSucess:function(){var e=this;e.isOffPlatformPaymentSuccessDialog=!1},cancelOffPlatformPaymentSuccess:function(){var e=this;e.isOffPlatformPaymentSuccessDialog=!1},okayOffPlatformPaymentFailure:function(){var e=this;e.isOffPlatformPaymentFailureDialog=!1}},"okayOffPlatformPaymentFailure",(function(){var e=this;e.isOffPlatformPaymentFailureDialog=!1})),created:function(){var e=this;return i()(l.a.mark((function t(){var a;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.next=3,a.getBanks();case 3:case"end":return t.stop()}}),t)})))()}},_=M,Q=a("19dc"),z=Object(O["a"])(_,$,j,!1,null,null,null),V=z.exports;B()(z,"components",{QSelect:N["a"],QInput:x["a"],QIcon:Q["a"],QBtn:D["a"],QSpinner:U["a"],QDialog:w["a"]});var H={computed:{selectedCategoryBankDetails:function(){var e=this.$store.getters["cashOutStore/selectedCategoryBankDetails"];return console.log("result: ",e),e}},components:{OffPlatformPayment:I,OnPlatformPayment:V},data:function(){return{tab:"offplatformpayment",categories:["CategoryN500","CategoryN1000","CategoryN2000","CategoryN5000","CategoryN10000"],amounts:{CategoryN500:"500.00",CategoryN1000:"1,000.00",CategoryN2000:"2,000",CategoryN5000:"5,000.00",CategoryN10000:"10,000.00"},category:"CategoryN500",amount:"500.00",messageBankDetails:"",isBankDetailsFaliureDialog:!1}},methods:{onItemValueChanged:function(){var e=this;return i()(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.amount=a.amounts[a.category],n={category:a.category,amount:a.amount},a.OnCategoryValueChanged(n),t.next=6,a.GetCategoryBankDetails();case 6:case"end":return t.stop()}}),t)})))()},OnCategoryValueChanged:function(e){this.$store.commit("accountStore/onCategoryValueChanged",e),this.$store.commit("cashOutStore/onCategoryValueChanged",e)},GetCategoryBankDetails:function(){var e=this;return i()(l.a.mark((function t(){var a,n,r,o,s,i,c;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,n="",t.t0=a.category,t.next="CategoryN500"===t.t0?5:"CategoryN1000"===t.t0?7:"CategoryN2000"===t.t0?9:"CategoryN5000"===t.t0?11:"CategoryN10000"===t.t0?13:15;break;case 5:return n="".concat(b["j"],"/getcategorybankdetails/1"),t.abrupt("break",15);case 7:return n="".concat(b["g"],"/getcategorybankdetails/2"),t.abrupt("break",15);case 9:return n="".concat(b["h"],"/getcategorybankdetails/3"),t.abrupt("break",15);case 11:return n="".concat(b["i"],"/getcategorybankdetails/4"),t.abrupt("break",15);case 13:return n="".concat(b["f"],"/getcategorybankdetails/5"),t.abrupt("break",15);case 15:return t.next=17,e.$store.dispatch("cashOutStore/GetCategoryBankDetails",{url:n});case 17:r=t.sent,o=r.data,s=o.data,i=o.message,c=o.success,c?e.$store.commit("cashOutStore/GetCategoryBankDetails",s):(a.messageBankDetails=i,a.isBankDetailsFaliureDialog=!0);case 20:case"end":return t.stop()}}),t)})))()},okayBankDetailsFailure:function(){var e=this;e.isBankDetailsFaliureDialog=!1},cancelBankDetailsFailure:function(){var e=this;e.isBankDetailsFaliureDialog=!1}},created:function(){var e=this;return i()(l.a.mark((function t(){var a;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.OnCategoryValueChanged(a.category),t.next=4,a.GetCategoryBankDetails();case 4:case"end":return t.stop()}}),t)})))()}},G=H,L=a("3f5f"),Y=a("6471"),R=a("9ad2"),J=a("eb48"),W=a("9efb"),K=Object(O["a"])(G,r,o,!1,null,null,null);t["default"]=K.exports;B()(K,"components",{QSelect:N["a"],QSeparator:L["a"],QTabs:Y["a"],QTab:R["a"],QTabPanels:J["a"],QTabPanel:W["a"],QDialog:w["a"]})}}]);