(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{b686:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"q-pa-sm"},[t("div",[t("q-select",{attrs:{color:"accent",outlined:"","label-color":"accent",options:e.categories,label:"Category"},on:{input:e.onItemValueChanged},model:{value:e.category,callback:function(a){e.category=a},expression:"category"}}),t("q-separator"),t("q-tabs",{staticClass:"bg-accent text-primary",attrs:{dense:"","active-color":"primary","indicator-color":"secondary",align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(a){e.tab=a},expression:"tab"}},[t("q-tab",{attrs:{name:"offplatformpayment",label:"Off-Platform"}}),t("q-tab",{attrs:{name:"onplatformpayment",label:"On-Platform"}})],1),t("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(a){e.tab=a},expression:"tab"}},[t("q-tab-panel",{staticClass:"bg-primary",attrs:{name:"offplatformpayment"}},[t("OffPlatformPayment",{attrs:{category:e.category,amount:e.amount,categoryBankName:e.selectedCategoryBankDetails.categoryBankName,categoryAccountName:e.selectedCategoryBankDetails.categoryAccountName,categoryAccountNumber:e.selectedCategoryBankDetails.categoryAccountNumber}})],1),t("q-tab-panel",{staticClass:"bg-primary",attrs:{name:"onplatformpayment"}},[t("OnPlatformPayment",{attrs:{category:e.category,amount:e.amount,categoryBankName:e.selectedCategoryBankDetails.categoryBankName,categoryAccountName:e.selectedCategoryBankDetails.categoryAccountName,categoryAccountNumber:e.selectedCategoryBankDetails.categoryAccountNumber}})],1)],1)],1),t("q-dialog",{model:{value:e.isBankDetailsFaliureDialog,callback:function(a){e.isBankDetailsFaliureDialog=a},expression:"isBankDetailsFaliureDialog"}},[t("MessageBox",{attrs:{title:"Failure",message:e.messageBankDetails+".",okayEvent:"okayBankDetailsFailure",cancelEvent:"cancelBankDetailsFailure"},on:{okayBankDetailsFailure:function(a){return e.okayBankDetailsFailure(a)},cancelBankDetailsFailure:function(a){return e.cancelBankDetailsFailure(a)}}})],1)],1)},o=[],r=t("549c"),s=t.n(r),c=t("52b5"),i=t.n(c),l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("q-scroll-area",{staticStyle:{height:"100vh","max-width":"100%"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 q-pa-sm bg-primary text-accent"},[t("span",{staticClass:"text-h6"},[e._v("Account Name: "+e._s(e.categoryAccountName)+" ")]),t("br"),t("span",{staticClass:"text-h6"},[e._v("Bank Name: "+e._s(e.categoryBankName)+" ")]),t("br"),t("span",{staticClass:"text-h6"},[e._v("Account Number: "+e._s(e.categoryAccountNumber)+" ")]),t("br"),t("br")]),t("div",{staticClass:"col-12 q-pa-sm"},[e.isOTP?e._e():t("div",{staticClass:"col-12 q-pa-sm"},[t("span",[t("p",{staticClass:"q-ma-none"},[e._v("Bank Name")]),t("q-select",{staticClass:"q-ma-none",attrs:{color:"accent",outlined:"","label-color":"accent","option-disable":"inactive",options:e.banks,"option-value":"name","option-label":"type",name:"type","emit-value":"","map-options":""},on:{input:function(a){return e.onQSelectItemValueChanged(e.bankNamePaidFrom)}},model:{value:e.bankNamePaidFrom,callback:function(a){e.bankNamePaidFrom=a},expression:"bankNamePaidFrom"}})],1)]),e.isOTP?e._e():t("div",{staticClass:"col-12 q-pa-sm"},[t("q-input",{attrs:{outlined:"",label:"Account Name "},model:{value:e.accountNamePaidFrom,callback:function(a){e.accountNamePaidFrom=a},expression:"accountNamePaidFrom"}})],1),e.isOTP?e._e():t("div",{staticClass:"col-12 q-pa-sm"},[t("q-input",{attrs:{outlined:"",label:"Account Number "},model:{value:e.accountNumberPaidFrom,callback:function(a){e.accountNumberPaidFrom=a},expression:"accountNumberPaidFrom"}})],1)]),t("Form",{staticClass:"col-12 q-pa-sm",attrs:{formData:e.form},on:{onFileSelected:function(a){return e.onFileSelected(a)}}}),t("div",{staticClass:"col-12 q-ma-none"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-5 q-pa-sm"},[t("div",[t("div",{staticClass:"text-caption text-accent text-weight-bolder q-mt-sm"},[e._v("Investment")]),t("span",{staticClass:"text-h6 text-accent"},[e._v("₦"+e._s(e.amount))])])]),t("div",{staticClass:"col-2 q-pa-sm"}),t("div",{staticClass:"col-5 q-pa-sm text-center"},[t("q-btn",{staticClass:"text-capitalize bg-accent text-primary",staticStyle:{width:"95%"},attrs:{exact:"",size:"md",dense:"",label:"Submit",type:"button"},on:{click:e.uploadAndSavePayment}})],1)])])],1),t("q-dialog",{model:{value:e.isUploadFileDialog,callback:function(a){e.isUploadFileDialog=a},expression:"isUploadFileDialog"}},[t("MessageBox",{attrs:{title:"Upload Pay Slip",message:"Do you want to upload pay slip?",okayEvent:"okayUploadFile",cancelEvent:"cancelUploadFile"},on:{okayUploadFile:function(a){return e.okayUploadFile(a)},cancelUploadFile:function(a){return e.cancelUploadFile(a)}}})],1),t("q-dialog",{model:{value:e.isUploadFileSuccessDialog,callback:function(a){e.isUploadFileSuccessDialog=a},expression:"isUploadFileSuccessDialog"}},[t("MessageBox",{attrs:{title:"Success",message:"Pay slip uploaded successfully.",okayEvent:"okayUploadFileSucess",cancelEvent:"cancelUploadFileSuccess"},on:{okayUploadFileSucess:function(a){return e.okayUploadFileSucess(a)},cancelUploadFileSuccess:function(a){return e.cancelUploadFileSuccess(a)}}})],1),t("q-dialog",{model:{value:e.isUploadFileFailureDialog,callback:function(a){e.isUploadFileFailureDialog=a},expression:"isUploadFileFailureDialog"}},[t("MessageBox",{attrs:{title:"Failure",message:e.message+".",okayEvent:"okayUploadFileFailure",cancelEvent:"cancelUploadFileFailure"},on:{okayUploadFileFailure:function(a){return e.okayUploadFileFailure(a)},cancelUploadFileFailure:function(a){return e.cancelUploadFileFailure(a)}}})],1),t("q-dialog",{model:{value:e.isOffPlatformPaymentDialog,callback:function(a){e.isOffPlatformPaymentDialog=a},expression:"isOffPlatformPaymentDialog"}},[t("MessageBox",{attrs:{title:"Complete Payment",message:"Do you want to complete your payment cycle?",okayEvent:"okayOffPlatformPayment",cancelEvent:"cancelOffPlatformPayment"},on:{okayOffPlatformPayment:function(a){return e.okayOffPlatformPayment(a)},cancelOffPlatformPayment:function(a){return e.cancelOffPlatformPayment(a)}}})],1),t("q-dialog",{model:{value:e.isOffPlatformPaymentSuccessDialog,callback:function(a){e.isOffPlatformPaymentSuccessDialog=a},expression:"isOffPlatformPaymentSuccessDialog"}},[t("MessageBox",{attrs:{title:"Success",message:"Payment cycle completed successfully.",okayEvent:"okayOffPlatformPaymentSucess",cancelEvent:"cancelOffPlatformPaymentSuccess"},on:{okayOffPlatformPaymentSucess:function(a){return e.okayOffPlatformPaymentSucess(a)},cancelOffPlatformPaymentSuccess:function(a){return e.cancelOffPlatformPaymentSuccess(a)}}})],1),t("q-dialog",{model:{value:e.isOffPlatformPaymentFailureDialog,callback:function(a){e.isOffPlatformPaymentFailureDialog=a},expression:"isOffPlatformPaymentFailureDialog"}},[t("MessageBox",{attrs:{title:"Failure",message:e.messageOffPlatformPayment+".",okayEvent:"okayOffPlatformPaymentFailure",cancelEvent:"cancelOffPlatformPaymentFailure"},on:{okayOffPlatformPaymentFailure:function(a){return e.okayOffPlatformPaymentFailure(a)},cancelOffPlatformPaymentFailure:function(a){return e.cancelOffPlatformPaymentFailure(a)}}})],1)],1)],1)},u=[],m=t("9289"),f=t.n(m),p=(t("1a43"),t("c889"),t("ef92"),t("0012"),t("f69e"),t("ad58"),t("d93a"),t("0588")),d=t("639b"),y=t("b985"),g=t("5dc2"),P=t("0601");function b(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?b(Object(t),!0).forEach((function(a){f()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var F={computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},DoesNotHaveMoneyAccount:function(){return this.$store.getters["authenticationStore/DoesNotHaveMoneyAccount"]},HasNotPaid:function(){return this.$store.getters["accountStore/HasNotPaid"]},unContributedUser:function(){return this.$store.getters["accountStore/unContributedUser"]},isAdmin:function(){return this.$store.getters["accountStore/isAdmin"]},Account:function(){return this.$store.getters["accountStore/Account"]}},components:{MessageBox:p["a"],Form:d["a"]},props:{category:{type:String,default:"CategoryN500"},amount:{type:String,default:"500.00"},categoryBankName:{type:String,default:""},categoryAccountName:{type:String,default:"500.00"},categoryAccountNumber:{type:String,default:"500.00"}},data:function(){return{isOTP:!1,oTP:"",SelectedFile:null,files:null,responseMessage:"",HasMoneyAccount2:!1,bankNamePaidFrom:"",accountNamePaidFrom:"",accountNumberPaidFrom:"",isUploadFileDialog:!1,isUploadFileSuccessDialog:!1,isUploadFileFailureDialog:!1,message:"",isOffPlatformPaymentDialog:!1,isOffPlatformPaymentSuccessDialog:!1,isOffPlatformPaymentFailureDialog:!1,messageOffPlatformPayment:"",banks:[],paymentLabel:"Initiate Payment",transferCode:"",fileUrl:"",fileName:"",originalFileName:"",fileUploadError:"No Error",form:{title:"Payment Details",qSelects:[],qInputs:[{label:"Details SMS or Email Alert",name:"",type:"textarea",selectedFile:null,files:[],Template:{sn:0,iconName:"",visible:!1}}],qFiles:[{label:"Picture (1MB Maximum)",name:"",type:"file",selectedFile:null,showPreview:!1,imagePreview:"",files:[],Template:{sn:0,iconName:"",visible:!1}}],qColors:[],qBtns:[],qDates:[],GroupedCheckBoxes:[],clearQInputs:function(){var e=0;for(e=0;e<this.qInputs.length;e++)this.qInputs[e].name=""},clearQFiles:function(){var e=0;for(e=0;e<this.qFiles.length;e++)this.qFiles[e].name=""}}}},methods:f()({refreshPayment:function(){var e=this;1==e.isOTP?e.isOTP=!1:e.isOTP=!0},UploadAction:function(){var e=this;e.isUploadFileDialog=!0},cancelUploadFile:function(){var e=this;e.isUploadFileDialog=!1},okayUploadFile:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s,c,l,u,m;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(o in t=e,n=new FormData,t.files)n.append("images[]",t.files[o]);r="",a.t0=t.category,a.next="CategoryN500"===a.t0?7:"CategoryN1000"===a.t0?9:"CategoryN2000"===a.t0?11:"CategoryN5000"===a.t0?13:"CategoryN10000"===a.t0?15:17;break;case 7:return r="".concat(y["e"],"/uploadphoto"),a.abrupt("break",17);case 9:return r="".concat(y["b"],"/uploadphoto"),a.abrupt("break",17);case 11:return r="".concat(y["c"],"/uploadphoto"),a.abrupt("break",17);case 13:return r="".concat(y["d"],"/uploadphoto"),a.abrupt("break",17);case 15:return r="".concat(y["a"],"/uploadphoto"),a.abrupt("break",17);case 17:return a.next=19,e.$store.dispatch("accountStore/UploadPhoto",{request:n,url:r});case 19:s=a.sent,c=s.data,l=c.data,u=c.message,m=c.success,t.isUploadFileDialog=!1,m?(e.$store.commit("accountStore/UploadFile",l),t.isUploadFileSuccessDialog=!0):(t.isUploadFileFailureDialog=!0,t.message=u);case 23:case"end":return a.stop()}}),a)})))()},cancelUploadFileSuccess:function(){var e=this;e.isUploadFileSuccessDialog=!1},okayUploadFileSucess:function(){var e=this;e.isUploadFileSuccessDialog=!1},cancelUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},okayUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},OffPlatformPayment:function(){var e=this;e.isOffPlatformPaymentDialog=!0},cancelOffPlatformPayment:function(){var e=this;e.isOffPlatformPaymentDialog=!1},getBanks:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s,c;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,n={url:"".concat(y["q"],"/getbanks")},a.next=4,Object(g["a"])(n);case 4:o=a.sent,r=o.data,s=r.data,c=r.success,r.message,c&&(t.banks=s.map((function(e){return k(k({},e),{},{type:e.name})})));case 7:case"end":return a.stop()}}),a)})))()},onQSelectItemValueChanged:function(e){console.log("qSelect: ",e)},onFileSelected:function(e){var a=this;a.form.qFiles[0].selectedFile=e.selectedFile;var t=new FileReader;t.addEventListener("load",function(){a.form.qFiles[0].showPreview=!0,a.form.qFiles[0].imagePreview=t.result}.bind(a),!1),a.form.qFiles[0].selectedFile&&(/\.(jpe?g|png|gif)$/i.test(a.form.qFiles[0].selectedFile.name)?t.readAsDataURL(a.form.qFiles[0].selectedFile):alert("Wrong image format. Only supports .jpg, .jpeg, .png and .gif"))},uploadPicture:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,n=new FormData,console.log("selectedFile: ",t.form.qFiles[0].selectedFile),n.append("file",t.form.qFiles[0].selectedFile),o="gcp/upload",r={url:o,req:n},console.log("payload: ",r),a.next=9,P["a"](r);case 9:s=a.sent,t.fileUrl=s.data.url,t.fileName=s.data.fileName,t.originalFileName=s.data.originalFileName,t.fileUploadError=s.data.error,console.log("fileUrl: ",t.fileUrl);case 15:case"end":return a.stop()}}),a)})))()},uploadAndSavePayment:function(){var e=this;return s()(i.a.mark((function a(){var t;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=e,!t.form.qFiles[0].imagePreview){a.next=4;break}return a.next=4,t.uploadPicture();case 4:if("No Error"!==t.fileUploadError){a.next=9;break}return a.next=7,t.okayOffPlatformPayment();case 7:a.next=10;break;case 9:alert("File upload error. Please try again");case 10:case"end":return a.stop()}}),a)})))()},okayOffPlatformPayment:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s,c,l,u,m,f,p;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t=e,o="",0==t.isAdmin?(n=t.IdentityModel.id,o=t.IdentityModel.userName):(n=t.unContributedUser.contributorId,o=t.unContributedUser.username),r=new Date,s={request:{bankNamePaidFrom:t.bankNamePaidFrom,accountNamePaidFrom:t.accountNamePaidFrom,accountNumberPaidFrom:t.accountNumberPaidFrom,contributorId:n,base64String:t.fileUrl,fileName:t.originalFileName,createdYear:r.getFullYear(),createdMonth:r.getMonth()+1,createdDay:r.getDate(),username:o,reference:"",status:"pending",transfer_code:"",transferId:"",integration:"",recipient:t.form.qInputs[0].name,categoryIndex:1},url:""},c={},a.t0=t.category,a.next="CategoryN500"===a.t0?9:"CategoryN1000"===a.t0?16:"CategoryN2000"===a.t0?22:"CategoryN5000"===a.t0?28:"CategoryN10000"===a.t0?34:40;break;case 9:return s.url="".concat(y["e"],"/offplatformpayment"),s.request.categoryIndex=1,console.log("payload: ",s),a.next=14,e.$store.dispatch("accountStore/OffPlatformPayment",s);case 14:return c=a.sent,a.abrupt("break",40);case 16:return s.url="".concat(y["b"],"/offplatformpayment"),s.request.categoryIndex=2,a.next=20,e.$store.dispatch("accountStore/OffPlatformPayment",s);case 20:return c=a.sent,a.abrupt("break",40);case 22:return s.url="".concat(y["c"],"/offplatformpayment"),s.request.categoryIndex=3,a.next=26,e.$store.dispatch("accountStore/OffPlatformPayment",s);case 26:return c=a.sent,a.abrupt("break",40);case 28:return s.url="".concat(y["d"],"/offplatformpayment"),s.request.categoryIndex=4,a.next=32,e.$store.dispatch("accountStore/OffPlatformPayment",s);case 32:return c=a.sent,a.abrupt("break",40);case 34:return s.url="".concat(y["a"],"/offplatformpayment"),s.request.categoryIndex=5,a.next=38,e.$store.dispatch("accountStore/OffPlatformPayment",s);case 38:return c=a.sent,a.abrupt("break",40);case 40:if(l=c,u=l.data,m=u.data,f=u.message,p=u.success,t.isOffPlatformPaymentDialog=!1,!p){a.next=59;break}a.t1=t.category,a.next="CategoryN500"===a.t1?46:"CategoryN1000"===a.t1?48:"CategoryN2000"===a.t1?50:"CategoryN5000"===a.t1?52:"CategoryN10000"===a.t1?54:56;break;case 46:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN500",result:m}),a.abrupt("break",56);case 48:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN1000",result:m}),a.abrupt("break",56);case 50:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN2000",result:m}),a.abrupt("break",56);case 52:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN5000",result:m}),a.abrupt("break",56);case 54:return e.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN10000",result:m}),a.abrupt("break",56);case 56:t.isOffPlatformPaymentSuccessDialog=!0,a.next=61;break;case 59:t.isOffPlatformPaymentFailureDialog=!0,t.messageOffPlatformPayment=f;case 61:case"end":return a.stop()}}),a)})))()},okayOffPlatformPaymentSucess:function(){var e=this;e.isOffPlatformPaymentSuccessDialog=!1},cancelOffPlatformPaymentSuccess:function(){var e=this;e.isOffPlatformPaymentSuccessDialog=!1},okayOffPlatformPaymentFailure:function(){var e=this;e.isOffPlatformPaymentFailureDialog=!1}},"okayOffPlatformPaymentFailure",(function(){var e=this;e.isOffPlatformPaymentFailureDialog=!1})),created:function(){var e=this;return s()(i.a.mark((function a(){var t;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,a.next=3,t.getBanks();case 3:case"end":return a.stop()}}),a)})))()}},v=F,O=t("a6c2"),h=t("b51c"),N=t("f636"),C=t("a3be"),D=t("ef9c"),S=t("ec6d"),x=t("63c1"),U=t.n(x),q=Object(O["a"])(v,l,u,!1,null,null,null),w=q.exports;U()(q,"components",{QScrollArea:h["a"],QSelect:N["a"],QInput:C["a"],QBtn:D["a"],QDialog:S["a"]});var B=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 q-pa-sm"},[e.isOTP?e._e():t("div",{staticClass:"col-12 q-pa-sm"},[t("span",[t("p",{staticClass:"q-ma-none"},[e._v("Bank Name")]),t("q-select",{staticClass:"q-ma-none",attrs:{color:"accent",outlined:"","label-color":"accent","option-disable":"inactive",options:e.banks,"option-value":"name","option-label":"type",name:"type","emit-value":"","map-options":""},on:{input:function(a){return e.onQSelectItemValueChanged(e.bankNamePaidFrom)}},model:{value:e.bankNamePaidFrom,callback:function(a){e.bankNamePaidFrom=a},expression:"bankNamePaidFrom"}})],1)]),e.isOTP?e._e():t("div",{staticClass:"col-12 q-pa-sm"},[t("q-input",{attrs:{outlined:"",label:"Account Name "},model:{value:e.accountNamePaidFrom,callback:function(a){e.accountNamePaidFrom=a},expression:"accountNamePaidFrom"}})],1),e.isOTP?e._e():t("div",{staticClass:"col-12 q-pa-sm"},[t("q-input",{attrs:{outlined:"",label:"Account Number "},model:{value:e.accountNumberPaidFrom,callback:function(a){e.accountNumberPaidFrom=a},expression:"accountNumberPaidFrom"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOTP,expression:"isOTP"}],staticClass:"col-12 q-pa-sm"},[t("q-input",{attrs:{outlined:"",label:"OTP "},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"bg-primary text-accent",attrs:{name:"refresh"},on:{click:e.refreshPayment}})]},proxy:!0}]),model:{value:e.oTP,callback:function(a){e.oTP=a},expression:"oTP"}})],1)]),t("div",{staticClass:"col-12 q-ma-none"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-5 q-pa-sm"},[t("div",[t("div",{staticClass:"text-caption text-accent text-weight-bolder q-mt-sm"},[e._v("Investment")]),t("span",{staticClass:"text-h6 text-accent"},[e._v("₦"+e._s(e.amount))])])]),t("div",{staticClass:"col-2 q-pa-sm"}),t("div",{staticClass:"col-5 q-pa-sm text-center"},[t("q-btn",{staticClass:"text-capitalize bg-accent text-primary",staticStyle:{width:"95%"},attrs:{exact:"",size:"md",dense:"",label:e.paymentLabel,type:"button"},on:{click:e.makePayment}})],1)])])]),t("q-dialog",{model:{value:e.isUploadFileDialog,callback:function(a){e.isUploadFileDialog=a},expression:"isUploadFileDialog"}},[t("MessageBox",{attrs:{title:"Upload Pay Slip",message:"Do you want to upload pay slip?",okayEvent:"okayUploadFile",cancelEvent:"cancelUploadFile"},on:{okayUploadFile:function(a){return e.okayUploadFile(a)},cancelUploadFile:function(a){return e.cancelUploadFile(a)}}})],1),t("q-dialog",{model:{value:e.isUploadFileSuccessDialog,callback:function(a){e.isUploadFileSuccessDialog=a},expression:"isUploadFileSuccessDialog"}},[t("MessageBox",{attrs:{title:"Success",message:"Pay slip uploaded successfully.",okayEvent:"okayUploadFileSucess",cancelEvent:"cancelUploadFileSuccess"},on:{okayUploadFileSucess:function(a){return e.okayUploadFileSucess(a)},cancelUploadFileSuccess:function(a){return e.cancelUploadFileSuccess(a)}}})],1),t("q-dialog",{model:{value:e.isUploadFileFailureDialog,callback:function(a){e.isUploadFileFailureDialog=a},expression:"isUploadFileFailureDialog"}},[t("MessageBox",{attrs:{title:"Failure",message:e.message+".",okayEvent:"okayUploadFileFailure",cancelEvent:"cancelUploadFileFailure"},on:{okayUploadFileFailure:function(a){return e.okayUploadFileFailure(a)},cancelUploadFileFailure:function(a){return e.cancelUploadFileFailure(a)}}})],1),t("q-dialog",{model:{value:e.isOffPlatformPaymentDialog,callback:function(a){e.isOffPlatformPaymentDialog=a},expression:"isOffPlatformPaymentDialog"}},[t("MessageBox",{attrs:{title:"Complete Payment",message:"Do you want to complete your payment cycle?",okayEvent:"okayOffPlatformPayment",cancelEvent:"cancelOffPlatformPayment"},on:{okayOffPlatformPayment:function(a){return e.okayOffPlatformPayment(a)},cancelOffPlatformPayment:function(a){return e.cancelOffPlatformPayment(a)}}})],1),t("q-dialog",{model:{value:e.isOffPlatformPaymentSuccessDialog,callback:function(a){e.isOffPlatformPaymentSuccessDialog=a},expression:"isOffPlatformPaymentSuccessDialog"}},[t("MessageBox",{attrs:{title:"Success",message:"Payment cycle completed successfully.",okayEvent:"okayOffPlatformPaymentSucess",cancelEvent:"cancelOffPlatformPaymentSuccess"},on:{okayOffPlatformPaymentSucess:function(a){return e.okayOffPlatformPaymentSucess(a)},cancelOffPlatformPaymentSuccess:function(a){return e.cancelOffPlatformPaymentSuccess(a)}}})],1),t("q-dialog",{model:{value:e.isOffPlatformPaymentFailureDialog,callback:function(a){e.isOffPlatformPaymentFailureDialog=a},expression:"isOffPlatformPaymentFailureDialog"}},[t("MessageBox",{attrs:{title:"Failure",message:e.messageOffPlatformPayment+".",okayEvent:"okayOffPlatformPaymentFailure",cancelEvent:"cancelOffPlatformPaymentFailure"},on:{okayOffPlatformPaymentFailure:function(a){return e.okayOffPlatformPaymentFailure(a)},cancelOffPlatformPaymentFailure:function(a){return e.cancelOffPlatformPaymentFailure(a)}}})],1)],1)},A=[];t("8ade");function $(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?$(Object(t),!0).forEach((function(a){f()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var I={computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},DoesNotHaveMoneyAccount:function(){return this.$store.getters["authenticationStore/DoesNotHaveMoneyAccount"]},HasNotPaid:function(){return this.$store.getters["accountStore/HasNotPaid"]},unContributedUser:function(){return this.$store.getters["accountStore/unContributedUser"]},isAdmin:function(){return this.$store.getters["accountStore/isAdmin"]},Account:function(){return this.$store.getters["accountStore/Account"]}},components:{MessageBox:p["a"]},props:{category:{type:String,default:"CategoryN500"},amount:{type:String,default:"500.00"},categoryBankName:{type:String,default:""},categoryAccountName:{type:String,default:"500.00"},categoryAccountNumber:{type:String,default:"500.00"}},data:function(){return{isOTP:!1,oTP:"",SelectedFile:null,files:null,responseMessage:"",HasMoneyAccount2:!1,bankNamePaidFrom:"",accountNamePaidFrom:"",accountNumberPaidFrom:"",isUploadFileDialog:!1,isUploadFileSuccessDialog:!1,isUploadFileFailureDialog:!1,message:"",isOffPlatformPaymentDialog:!1,isOffPlatformPaymentSuccessDialog:!1,isOffPlatformPaymentFailureDialog:!1,messageOffPlatformPayment:"",banks:[],paymentLabel:"Initiate Payment",transferCode:""}},methods:f()({refreshPayment:function(){var e=this;1==e.isOTP?e.isOTP=!1:e.isOTP=!0},onFileSelected:function(e){var a=this;a.files=e.target.files,a.SelectedFile=e.target.files[0]},UploadAction:function(){var e=this;e.isUploadFileDialog=!0},cancelUploadFile:function(){var e=this;e.isUploadFileDialog=!1},okayUploadFile:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s,c,l,u,m;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(o in t=e,n=new FormData,t.files)n.append("images[]",t.files[o]);r="",a.t0=t.category,a.next="CategoryN500"===a.t0?7:"CategoryN1000"===a.t0?9:"CategoryN2000"===a.t0?11:"CategoryN5000"===a.t0?13:"CategoryN10000"===a.t0?15:17;break;case 7:return r="".concat(y["e"],"/uploadphoto"),a.abrupt("break",17);case 9:return r="".concat(y["b"],"/uploadphoto"),a.abrupt("break",17);case 11:return r="".concat(y["c"],"/uploadphoto"),a.abrupt("break",17);case 13:return r="".concat(y["d"],"/uploadphoto"),a.abrupt("break",17);case 15:return r="".concat(y["a"],"/uploadphoto"),a.abrupt("break",17);case 17:return a.next=19,e.$store.dispatch("accountStore/UploadPhoto",{request:n,url:r});case 19:s=a.sent,c=s.data,l=c.data,u=c.message,m=c.success,t.isUploadFileDialog=!1,m?(e.$store.commit("accountStore/UploadFile",l),t.isUploadFileSuccessDialog=!0):(t.isUploadFileFailureDialog=!0,t.message=u);case 23:case"end":return a.stop()}}),a)})))()},cancelUploadFileSuccess:function(){var e=this;e.isUploadFileSuccessDialog=!1},okayUploadFileSucess:function(){var e=this;e.isUploadFileSuccessDialog=!1},cancelUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},okayUploadFileFailure:function(){var e=this;e.isUploadFileFailureDialog=!1},OffPlatformPayment:function(){var e=this;e.isOffPlatformPaymentDialog=!0},cancelOffPlatformPayment:function(){var e=this;e.isOffPlatformPaymentDialog=!1},getBanks:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s,c;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,n={url:"".concat(y["q"],"/getbanks")},a.next=4,Object(g["a"])(n);case 4:o=a.sent,r=o.data,s=r.data,c=r.success,r.message,c&&(t.banks=s.map((function(e){return E(E({},e),{},{type:e.name})})),console.log("banks: ",t.banks));case 7:case"end":return a.stop()}}),a)})))()},onQSelectItemValueChanged:function(e){console.log("qSelect: ",e)},initiatePayment:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s,c,l,u,m;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,n=t.banks.find((function(e){return e.name===t.bankNamePaidFrom})),console.log("selectedBank: ",n),o="Invested ".concat(t.amount," for ").concat(t.category),r={url:"".concat(y["q"],"/initiatetransfer"),req:{accountName:t.accountNamePaidFrom,description:o,accountNumber:t.accountNumberPaidFrom,bankCode:n.code,currency:"NGN",amount:"100",Reason:"Savings"}},console.log("payload: ",r),a.next=8,Object(g["b"])(r);case 8:s=a.sent,console.log("response: ",s),c=s.data,l=c.data,u=c.success,m=c.message,u?(t.transferCode=l.transfer_code,t.isOTP=!0,t.paymentLabel="Finalize Payment"):(console.log("message: ",m),t.isOTP=!1,t.paymentLabel="Initiate Payment");case 12:case"end":return a.stop()}}),a)})))()},finalizePayment:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s,c;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,n={url:"".concat(y["q"],"/finalizetransfer"),req:{transferCode:t.transferCode,oTP:t.oTP}},a.next=4,Object(g["b"])(n);case 4:if(o=a.sent,r=o.data,r.data,s=r.success,c=r.message,!s){a.next=11;break}return a.next=9,t.okayOffPlatformPayment();case 9:a.next=12;break;case 11:console.log("message: ",c);case 12:case"end":return a.stop()}}),a)})))()},makePayment:function(){var e=this;return s()(i.a.mark((function a(){var t;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=e,!1!==t.isOTP){a.next=6;break}return a.next=4,t.initiatePayment();case 4:a.next=8;break;case 6:return a.next=8,t.finalizePayment();case 8:case"end":return a.stop()}}),a)})))()},okayOffPlatformPayment:function(e){var a=this;return s()(i.a.mark((function t(){var n,o,r,s,c,l,u,m,f,p,d;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=a,r="",0==n.isAdmin?(o=n.IdentityModel.id,r=n.IdentityModel.userName):(o=n.unContributedUser.contributorId,r=n.unContributedUser.username),s=new Date,c={request:{bankNamePaidFrom:n.bankNamePaidFrom,accountNamePaidFrom:n.accountNamePaidFrom,accountNumberPaidFrom:n.accountNumberPaidFrom,contributorId:o,base64String:n.Account.base64String,fileName:n.Account.fileName,createdYear:s.getFullYear(),createdMonth:s.getMonth()+1,createdDay:s.getDate(),username:r,reference:e.reference,status:e.status,transfer_code:e.transfer_code,transferId:e.id,integration:e.integration,recipient:e.recipient},url:""},l={},t.t0=n.category,t.next="CategoryN500"===t.t0?9:"CategoryN1000"===t.t0?14:"CategoryN2000"===t.t0?19:"CategoryN5000"===t.t0?24:"CategoryN10000"===t.t0?29:34;break;case 9:return c.url="".concat(y["e"],"/offplatformpayment"),t.next=12,a.$store.dispatch("accountStore/OffPlatformPayment",c);case 12:return l=t.sent,t.abrupt("break",34);case 14:return c.url="".concat(y["b"],"/offplatformpayment"),t.next=17,a.$store.dispatch("accountStore/OffPlatformPayment",c);case 17:return l=t.sent,t.abrupt("break",34);case 19:return c.url="".concat(y["c"],"/offplatformpayment"),t.next=22,a.$store.dispatch("accountStore/OffPlatformPayment",c);case 22:return l=t.sent,t.abrupt("break",34);case 24:return c.url="".concat(y["d"],"/offplatformpayment"),t.next=27,a.$store.dispatch("accountStore/OffPlatformPayment",c);case 27:return l=t.sent,t.abrupt("break",34);case 29:return c.url="".concat(y["a"],"/offplatformpayment"),t.next=32,a.$store.dispatch("accountStore/OffPlatformPayment",c);case 32:return l=t.sent,t.abrupt("break",34);case 34:if(u=l,m=u.data,f=m.data,p=m.message,d=m.success,n.isOffPlatformPaymentDialog=!1,!d){t.next=53;break}t.t1=n.category,t.next="CategoryN500"===t.t1?40:"CategoryN1000"===t.t1?42:"CategoryN2000"===t.t1?44:"CategoryN5000"===t.t1?46:"CategoryN10000"===t.t1?48:50;break;case 40:return a.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN500",result:f}),t.abrupt("break",50);case 42:return a.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN1000",result:f}),t.abrupt("break",50);case 44:return a.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN2000",result:f}),t.abrupt("break",50);case 46:return a.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN5000",result:f}),t.abrupt("break",50);case 48:return a.$store.commit("accountStore/OffPlatformPayment",{makeContributionsUrl:"makeContributionsN10000",result:f}),t.abrupt("break",50);case 50:n.isOffPlatformPaymentSuccessDialog=!0,t.next=55;break;case 53:n.isOffPlatformPaymentFailureDialog=!0,n.messageOffPlatformPayment=p;case 55:case"end":return t.stop()}}),t)})))()},okayOffPlatformPaymentSucess:function(){var e=this;e.isOffPlatformPaymentSuccessDialog=!1},cancelOffPlatformPaymentSuccess:function(){var e=this;e.isOffPlatformPaymentSuccessDialog=!1},okayOffPlatformPaymentFailure:function(){var e=this;e.isOffPlatformPaymentFailureDialog=!1}},"okayOffPlatformPaymentFailure",(function(){var e=this;e.isOffPlatformPaymentFailureDialog=!1})),created:function(){var e=this;return s()(i.a.mark((function a(){var t;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,a.next=3,t.getBanks();case 3:case"end":return a.stop()}}),a)})))()}},M=I,j=t("19dc"),T=Object(O["a"])(M,B,A,!1,null,null,null),_=T.exports;U()(T,"components",{QSelect:N["a"],QInput:C["a"],QIcon:j["a"],QBtn:D["a"],QDialog:S["a"]});var Q={computed:{selectedCategoryBankDetails:function(){var e=this.$store.getters["cashOutStore/selectedCategoryBankDetails"];return console.log("result: ",e),e}},components:{OffPlatformPayment:w,OnPlatformPayment:_},data:function(){return{tab:"offplatformpayment",categories:["CategoryN500","CategoryN1000","CategoryN2000","CategoryN5000","CategoryN10000"],amounts:{CategoryN500:"500.00",CategoryN1000:"1,000.00",CategoryN2000:"2,000",CategoryN5000:"5,000.00",CategoryN10000:"10,000.00"},category:"CategoryN500",amount:"500.00",messageBankDetails:"",isBankDetailsFaliureDialog:!1}},methods:{onItemValueChanged:function(){var e=this;return s()(i.a.mark((function a(){var t,n;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,t.amount=t.amounts[t.category],n={category:t.category,amount:t.amount},t.OnCategoryValueChanged(n),a.next=6,t.GetCategoryBankDetails();case 6:case"end":return a.stop()}}),a)})))()},OnCategoryValueChanged:function(e){this.$store.commit("accountStore/onCategoryValueChanged",e),this.$store.commit("cashOutStore/onCategoryValueChanged",e)},GetCategoryBankDetails:function(){var e=this;return s()(i.a.mark((function a(){var t,n,o,r,s,c,l;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t=e,n="",a.t0=t.category,a.next="CategoryN500"===a.t0?5:"CategoryN1000"===a.t0?7:"CategoryN2000"===a.t0?9:"CategoryN5000"===a.t0?11:"CategoryN10000"===a.t0?13:15;break;case 5:return n="".concat(y["j"],"/getcategorybankdetails/1"),a.abrupt("break",15);case 7:return n="".concat(y["g"],"/getcategorybankdetails/2"),a.abrupt("break",15);case 9:return n="".concat(y["h"],"/getcategorybankdetails/3"),a.abrupt("break",15);case 11:return n="".concat(y["i"],"/getcategorybankdetails/4"),a.abrupt("break",15);case 13:return n="".concat(y["f"],"/getcategorybankdetails/5"),a.abrupt("break",15);case 15:return a.next=17,e.$store.dispatch("cashOutStore/GetCategoryBankDetails",{url:n});case 17:o=a.sent,r=o.data,s=r.data,c=r.message,l=r.success,l?e.$store.commit("cashOutStore/GetCategoryBankDetails",s):(t.messageBankDetails=c,t.isBankDetailsFaliureDialog=!0);case 20:case"end":return a.stop()}}),a)})))()},okayBankDetailsFailure:function(){var e=this;e.isBankDetailsFaliureDialog=!1},cancelBankDetailsFailure:function(){var e=this;e.isBankDetailsFaliureDialog=!1}},created:function(){var e=this;return s()(i.a.mark((function a(){var t;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e,t.OnCategoryValueChanged(t.category),a.next=4,t.GetCategoryBankDetails();case 4:case"end":return a.stop()}}),a)})))()}},V=Q,H=t("3f5f"),z=t("6471"),G=t("9ad2"),L=t("eb48"),Y=t("9efb"),R=Object(O["a"])(V,n,o,!1,null,null,null);a["default"]=R.exports;U()(R,"components",{QSelect:N["a"],QSeparator:H["a"],QTabs:z["a"],QTab:G["a"],QTabPanels:L["a"],QTabPanel:Y["a"],QDialog:S["a"]})}}]);