(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{6582:function(t,e,a){},a185:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"bg-primary",attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"q-py-sm bg-primary text-accent",style:"border-bottom: 2px solid "+t.theme_color},[a("q-toolbar",[a("q-btn",{staticClass:"bg-primary text-accent",attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),a("img",{attrs:{src:"/statics/lhdi.png",width:"100",height:"40"}}),a("q-space"),a("q-tabs",{attrs:{shrink:""},model:{value:t.selected_tab,callback:function(e){t.selected_tab=e},expression:"selected_tab"}},[t.rightDrawerOpen?a("div",[a("q-btn",{attrs:{dense:"",round:"",flat:"",icon:"mail"},on:{click:t.showUnreadMessages}},[t.unReadMessages.length>0?a("q-badge",{attrs:{color:"secondary",floating:""}},[t._v("\n            "+t._s(t.unReadMessages.length)+"\n          ")]):t._e()],1),a("q-btn",{staticClass:"text-accent bg-primary",attrs:{icon:t.rightMenuIcon,flat:""},on:{click:t.toggleMobilePhoneMenu}},[a("q-menu",{attrs:{fit:""}},[a("q-list",{staticClass:"text-accent text-caption bg-primary",attrs:{dense:""}},t._l(t.menuList,(function(e){return a("q-item",{key:e.name,staticClass:"bg-primary text-accent",attrs:{clickable:""},on:{click:function(a){return t.scrollToElement(e.name)}}},[a("q-item-section",[t._v("\n                    "+t._s(e.label)+"\n                    ")])],1)})),1)],1)],1)],1):t._l(t.menuList,(function(e){return a("q-tab",{key:e.name,style:t.getTabHeaderStyle(e.tabIndex),attrs:{lass:"q-mr-sm q-py-xs text-accent",label:e.label},on:{click:function(a){return t.scrollToElement(e.name)}}})})),a("q-btn",{attrs:{flat:"",avatar:""},on:{click:t.toggleButton}},[t.getIsUserPhoto()?a("q-avatar",{staticClass:"bg-primary text-accent"},[a("q-img",{attrs:{src:t.IdentityModel.base64String}})],1):a("q-avatar",{staticClass:"bg-accent text-primary"},[t._v("\n\t        "+t._s(t.IdentityModel.firstName)+"\n\t      ")]),a("q-menu",{attrs:{fit:""}},[a("q-list",{staticClass:"text-accent text-caption bg-primary",attrs:{dense:""}},[a("q-item",{staticClass:"bg-primary text-accent"},[a("q-item-section",{attrs:{avatar:""}},[a("div",{staticClass:"row text-center flex flex-center q-pb-lg"},[a("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[a("div",{staticClass:"q-pa-md",staticStyle:{"font-family":"Lato"},attrs:{avatar:""}},[t.getIsUserPhoto()?a("q-avatar",{staticClass:"bg-primary text-accent"},[a("q-img",{attrs:{src:t.IdentityModel.base64String}})],1):a("q-avatar",{staticClass:"bg-primary text-accent"},[t._v("\n                                  "+t._s(t.IdentityModel.firstName)+"\n                                ")])],1),a("div",{staticClass:"q-pa-md",staticStyle:{"font-family":"Lato"}},[a("p",{staticClass:"bg-primary text-accent"},[t._v("\n                                  "+t._s(t.IdentityModel.firstName)+" "+t._s(t.IdentityModel.lastName)+"\n                                ")])])])])])],1),a("q-item",{staticClass:"bg-primary text-accent"},[a("q-item-section",{attrs:{avatar:""}},[a("div",{staticClass:"row text-center flex flex-center q-pb-lg"},[a("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[a("q-btn",{staticClass:"q-mr-md bg-accent text-primary",style:"min-height:auto; padding:1px;",attrs:{size:"12px",dense:"",icon:"color_lens"},on:{click:t.logoutUser}},[t._v("\n                                    Logout\n                                  ")])],1)])])],1)],1)],1)],1)],2)],1)],1),a("q-drawer",{attrs:{breakpoint:767,width:200,bordered:"","content-class":"bg-primary"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-list",{attrs:{dark:""}},[a("q-item",{staticClass:"bg-primary text-accent",attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-item-label",[t._v("Update Profile")]),a("q-menu",{attrs:{fit:""}},[a("q-list",{staticClass:"text-accent text-caption bg-primary",attrs:{dense:""}},t._l(t.userProfileNavs,(function(e){return a("q-item",{key:e.label,staticClass:"bg-primary text-accent",attrs:{to:e.to,clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-item-label",[t._v(t._s(e.label))])],1)],1)})),1)],1)],1)],1),t._l(t.navs,(function(e){return a("q-item",{key:e.label,staticClass:"bg-primary text-accent",attrs:{to:e.to,exact:"",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",{attrs:{avatar:""}},[a("q-item-label",[t._v(t._s(e.label))])],1)],1)}))],2)],1),a("q-page-container",[a("router-view")],1)],1)},r=[],s=a("9289"),o=a.n(s),c=a("549c"),i=a.n(c),l=(a("c889"),a("ef92"),a("0012"),a("f69e"),a("ad58"),a("d93a"),a("52b5")),u=a.n(l),d=a("b491"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"column full-height",staticStyle:{width:"500px"}},[a("q-card-section",[t.IsPaymentSuccessful?a("div",[a("p",[t._v("\n               Payment was succesful. Thanks for joining HAWcom Ecosystem Community.\n           ")])]):a("div",[a("p",[t._v("\n               Payment was not succesful. Please try again later. Thanks for joining HAWcom Ecosystem Community.\n           ")])])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary"},on:{click:t.Done}},[t._v("\n               Done\n               ")])],1)],1)],1)])},m=[],b={computed:{IsPaymentSuccessful:function(){return this.$store.getters["accountStore/IsPaymentSuccessful"]},IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]}},data:function(){return{}},methods:{Done:function(){var t=this;this.$store.dispatch("accountStore/Payment",t.IdentityModel)}}},p=b,y=a("a6c2"),h=a("5ce7"),f=a("7006"),v=a("84df"),q=a("ef9c"),x=a("f6b1"),w=a("63c1"),C=a.n(w),_=Object(y["a"])(p,g,m,!1,null,null,null),I=_.exports;C()(_,"components",{QCard:h["a"],QCardSection:f["a"],QCardActions:v["a"],QBtn:q["a"]}),C()(_,"directives",{ClosePopup:x["a"]});var M=a("0601"),k=a("5dc2");function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var O={computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},Loginstatus:function(){return this.$store.getters["authenticationStore/Loginstatus"]},theme_color:function(){return this.$store.getters["authenticationStore/theme_color"]},IsPaymentSuccessful:function(){return this.$store.getters["accountStore/IsPaymentSuccessful"]}},components:{"paymentresponse-app":I},data:function(){return{unReadMessages:[],socket:null,deviceId:"",serverUrl:"https://school-mgt-backend-nestjs.herokuapp.com/",leftDrawerOpen:!0,showAccountDetails:!1,rightMenuIcon:"menu",selected_tab:"t_0",userProfileNavs:[{label:"Contact",icon:"group",to:"/user-contact"},{label:"Bank Details",icon:"group",to:"/user-bankdetails"},{label:"Next of Kin",icon:"group",to:"/user-nextofkin"}],navs:[{label:"Category NGN500.00",icon:"group",to:"/user-createCategoryN500"},{label:"Category NGN1000.00",icon:"group",to:"/user-createCategoryN1000"},{label:"Category NGN2000.00",icon:"group",to:"/user-createCategoryN2000"},{label:"Category NGN5000.00",icon:"group",to:"/user-createCategoryN5000"},{label:"Category NGN10000.00",icon:"group",to:"/user-createCategoryN10000"},{label:"Invest",icon:"group",to:"/user-contribution"},{label:"Dashboard",icon:"school",to:"/user-dashboard"},{label:"FAQs",icon:"school",to:"/faqs"}],rightDrawerOpen:window.innerWidth<700,menuList:[{name:"id_home",tabIndex:"t_0",label:"Home"},{name:"id_about_us",tabIndex:"t2",label:"About Us"},{name:"id_categories",tabIndex:"t_3",label:"Categories"}]}},methods:{getTabHeaderStyle:function(t){var e=this;return e.selected_tab==t?"[{backgroundColor: ".concat(e.theme_color,"}]"):"[{}]"},toggleMobilePhoneMenu:function(){var t=this;0==t.showMobilePhoneMenu?t.rightMenuIcon="close":t.rightMenuIcon="menu"},getIsUserPhoto:function(){var t=this;return""!=t.IdentityModel.base64String&&void 0!=t.IdentityModel.base64String},toggleButton:function(){var t=this;1==t.showAccountDetails?t.showAccountDetails=!1:t.showAccountDetails=!0},logoutUser:function(){this.$store.dispatch("authenticationStore/Logout")},displayHomePage:function(){this.$router.push("/")},displayAboutUsPage:function(){this.$router.push("/user-about")},displayContactUsPage:function(){this.$router.push("/user-contact")},scrollToElement:function(t){"id_home"==t&&this.$router.push("/user-home"),"id_about_us"==t&&this.$router.push("/user-about"),"id_categories"==t&&this.$router.push("/user-categories")},onResize:function(t){var e=window.innerWidth,a=this;a.rightDrawerOpen=!1,e<700&&(a.rightDrawerOpen=!0)},showUnreadMessages:function(){this.$store.commit("dashboardStore/setSelectedCategory","CategoryN500"),this.$router.push("/unread-messages")},LoadUserCategories:function(){var t=this;return i()(u.a.mark((function e(){var a,n,r,s,o,c,i,l,d,g,m,b,p;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,n={url:"categoryn500/getcategorybycontributorid/".concat(a.IdentityModel.id),req:{}},e.next=4,k["a"](n);case 4:return r=e.sent,s=r,o=s.data.data,t.$store.commit("authenticationStore/setCategoryN500User",o),n={url:"categoryn1000/getcategorybycontributorid/".concat(a.IdentityModel.id),req:{}},e.next=10,k["a"](n);case 10:return r=e.sent,c=r,i=c.data.data,t.$store.commit("authenticationStore/setCategoryN1000User",i),n={url:"categoryn2000/getcategorybycontributorid/".concat(a.IdentityModel.id),req:{}},e.next=16,k["a"](n);case 16:return r=e.sent,l=r,d=l.data.data,t.$store.commit("authenticationStore/setCategoryN2000User",d),n={url:"categoryn5000/getcategorybycontributorid/".concat(a.IdentityModel.id),req:{}},e.next=22,k["a"](n);case 22:return r=e.sent,g=r,m=g.data.data,t.$store.commit("authenticationStore/setCategoryN5000User",m),n={url:"categoryn10000/getcategorybycontributorid/".concat(a.IdentityModel.id),req:{}},e.next=28,k["a"](n);case 28:r=e.sent,b=r,p=b.data.data,t.$store.commit("authenticationStore/setCategoryN10000User",p);case 31:case"end":return e.stop()}}),e)})))()},loadUnreadMessages:function(){var t=this;return i()(u.a.mark((function e(){var a,n,r;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.fromUser=t.$store.getters["authenticationStore/categoryN500User"],n={url:"launchstory/unreadMessages",req:{id:a.fromUser.categoryId,selectedCategory:"CategoryN500"}},e.next=5,Object(M["a"])(n);case 5:r=e.sent,r.data.length>0&&(a.unReadMessages=r.data.map((function(t){return N({},t)})));case 7:case"end":return e.stop()}}),e)})))()},connectToWebsocket:function(){var t=this;t.socket=Object(d["a"])(t.serverUrl,{transports:["websocket"]})}},mounted:function(){window.addEventListener("resize",this.onResize)},unmounted:function(){window.removeEventListener("resize",this.onResize)},created:function(){var t=this;return i()(u.a.mark((function e(){var a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.LoadUserCategories();case 3:return e.next=5,a.loadUnreadMessages();case 5:console.log("context.IdentityModel: ",a.IdentityModel),a.connectToWebsocket(),a.socket.on("chat-message",(function(t){t&&t.toUserName===a.IdentityModel.username&&(a.unReadMessages=[1])})),a.socket.on("connected",(function(t){a.deviceId=t}));case 9:case"end":return e.stop()}}),e)})))()}},P=O,U=(a("fead"),a("f624")),D=a("8738"),$=a("66cf"),Q=a("dc01"),j=a("6471"),L=a("ec38"),T=a("6496"),A=a("692f"),E=a("e0e9"),R=a("6c44"),H=a("9ad2"),z=a("d6e3"),B=a("0798"),W=a("5cc9"),G=a("dc7c"),F=a("19dc"),J=a("ddc7"),K=Object(y["a"])(P,n,r,!1,null,null,null);e["default"]=K.exports;C()(K,"components",{QLayout:U["a"],QHeader:D["a"],QToolbar:$["a"],QBtn:q["a"],QSpace:Q["a"],QTabs:j["a"],QBadge:L["a"],QMenu:T["a"],QList:A["a"],QItem:E["a"],QItemSection:R["a"],QTab:H["a"],QAvatar:z["a"],QImg:B["a"],QDrawer:W["a"],QItemLabel:G["a"],QIcon:F["a"],QPageContainer:J["a"]})},fead:function(t,e,a){"use strict";var n=a("6582"),r=a.n(n);r.a}}]);