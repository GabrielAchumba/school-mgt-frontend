(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"900f":function(e,t,a){"use strict";var s=a("d004"),n=a.n(s);n.a},c22d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[e.showSpinner?e._e():a("q-page-container",[a("q-page",{staticClass:"flex flex-center bg-primary"},[a("q-card",{staticClass:"personal-data-form",style:e.$q.platform.is.mobile?{width:"90%",height:"95%"}:{width:"90%",height:"100%"}},[a("q-card-section",{staticClass:"bg-accent text-primary"},[a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"col text-h6 ellipsis"},[e._v("\n        Next of Kin Data\n      ")])])]),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{outlined:"",label:"Full Name *","lazy-rules":""},model:{value:e.NextOfKinDTO.nOKNames,callback:function(t){e.$set(e.NextOfKinDTO,"nOKNames",t)},expression:"NextOfKinDTO.nOKNames"}}),a("q-input",{attrs:{outlined:"",label:"Phone Number *","lazy-rules":""},model:{value:e.NextOfKinDTO.nOKPhoneNumber,callback:function(t){e.$set(e.NextOfKinDTO,"nOKPhoneNumber",t)},expression:"NextOfKinDTO.nOKPhoneNumber"}}),a("q-input",{attrs:{outlined:"",label:"Relationship *","lazy-rules":""},model:{value:e.NextOfKinDTO.nOKRelationship,callback:function(t){e.$set(e.NextOfKinDTO,"nOKRelationship",t)},expression:"NextOfKinDTO.nOKRelationship"}}),a("q-input",{attrs:{outlined:"",type:"textarea",label:"Address","lazy-rules":""},model:{value:e.NextOfKinDTO.nOKAddress,callback:function(t){e.$set(e.NextOfKinDTO,"nOKAddress",t)},expression:"NextOfKinDTO.nOKAddress"}}),a("div",{staticClass:"row q-pa-sm"},[a("StatusBar",{staticClass:"col-12 text-center q-pa-sm",attrs:{savingStatus:e.savingStatus,message:e.message,saveComplete:e.saveComplete,saveError:e.saveError},on:{updateStatusBar:e.updateStatusBar}}),a("div",{staticClass:"col-12 text-center q-pa-sm"},[a("q-btn",{staticClass:"q-ma-sm bg-accent text-primary",staticStyle:{width:"95%"},attrs:{label:"Cancel",type:"button",size:"md","no-caps":""},on:{click:e.cancel}})],1),a("div",{staticClass:"col-12 text-center q-pa-sm"},[a("q-btn",{staticClass:"q-ma-sm bg-accent text-primary",staticStyle:{width:"95%"},attrs:{label:"Update",type:"button",size:"md","no-caps":""},on:{click:e.updateData}})],1)],1)],1)],1)],1),a("q-dialog",{model:{value:e.isUpdateDialog,callback:function(t){e.isUpdateDialog=t},expression:"isUpdateDialog"}},[a("MessageBox",{attrs:{title:"Update",message:"Do you want to update next of kins?",okayEvent:"update",cancelEvent:"cancelUpdate"},on:{cancelUpdate:function(t){return e.cancelUpdate(t)},update:function(t){return e.update(t)}}})],1),a("q-dialog",{model:{value:e.isUpdateSuccessDialog,callback:function(t){e.isUpdateSuccessDialog=t},expression:"isUpdateSuccessDialog"}},[a("MessageBox",{attrs:{title:"Success",message:"Next of kins updated successfully!",okayEvent:"UpdateSuccessOkay",cancelEvent:"UpdateSuccessCancel"},on:{UpdateSuccessCancel:function(t){return e.UpdateSuccessCancel(t)},UpdateSuccessOkay:function(t){return e.UpdateSuccessOkay(t)}}})],1),a("q-dialog",{model:{value:e.isUpdateFailureDialog,callback:function(t){e.isUpdateFailureDialog=t},expression:"isUpdateFailureDialog"}},[a("MessageBox",{attrs:{title:"Error",message:e.message+".",okayEvent:"UpdateFailureOkay",cancelEvent:"UpdateFailureCancel"},on:{UpdateFailureCancel:function(t){return e.UpdateFailureCancel(t)},UpdateFailureOkay:function(t){return e.UpdateFailureOkay(t)}}})],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner,expression:"showSpinner"}],staticClass:"q-gutter-md row"},[a("div",{staticClass:"col-12 q-pa-sm absolute-center flex flex-center"},[a("q-spinner",{attrs:{color:"accent",size:e.spinnerSize,thickness:e.spinnerThickness}})],1)])],1)},n=[],i=(a("ef92"),a("0012"),a("f69e"),a("ad58"),a("d93a"),a("9289")),r=a.n(i),c=a("549c"),o=a.n(c),l=a("52b5"),u=a.n(l),d=a("0588"),p=a("2091"),f=a("b985"),m=a("5dc2");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={computed:{selectedNextOfKin:function(){return this.$store.getters["clientStore/selectedNextOfKin"]},isAdmin:function(){return this.$store.getters["clientStore/isAdmin"]},IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},showSpinner:function(){return this.$store.getters["authenticationStore/showSpinner"]},spinnerSize:function(){return this.$store.getters["authenticationStore/spinnerSize"]},spinnerThickness:function(){return this.$store.getters["authenticationStore/spinnerThickness"]}},components:{MessageBox:d["a"],StatusBar:p["a"]},data:function(){return{NextOfKinDTO:{nOKNames:"",nOKAddress:"",nOKPhoneNumber:"",nOKRelationship:""},isUpdateDialog:!1,isUpdateSuccessDialog:!1,isUpdateFailureDialog:!1,message:"",savingStatus:"",saveComplete:!1,saveError:!1,minutes:0,seconds:0}},props:{theme_color:{type:String,default:"rgb(0, 163, 82)"}},methods:{updateData:function(){var e=this;e.isUpdateDialog=!0},cancel:function(){var e=this;e.isUpdateDialog=!1,1==e.isAdmin?(this.$router.push("/nextOfKins"),this.$store.commit("clientStore/isAdminUpdate",!1)):this.$router.push("/user-home")},update:function(){var e=this;return o()(u.a.mark((function t(){var a,s,n,i,r,c;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.savingStatus="",a.saveComplete=!1,a.saveError=!1,0==a.isAdmin&&(a.NextOfKinDTO.contributorId=a.IdentityModel.id),s={url:"".concat(f["r"],"/updatenextofkindto/")+a.NextOfKinDTO.contributorId,req:a.NextOfKinDTO},a.saveComplete=!0,a.savingStatus="Updating...",a.saveError=!1,t.prev=9,t.next=12,Object(m["c"])(s);case 12:n=t.sent,i=n.data,i.data,r=i.message,c=i.success,a.isUpdateDialog=!1,a.message=r,c?(a.saveComplete=!1,a.savingStatus="Updated",a.saveError=!1,a.isUpdateSuccessDialog=!0):(a.saveComplete=!1,a.savingStatus="",a.saveError=!0,a.isUpdateFailureDialog=!0),t.next=24;break;case 19:t.prev=19,t.t0=t["catch"](9),a.saveComplete=!1,a.savingStatus="",a.saveError=!0;case 24:case"end":return t.stop()}}),t,null,[[9,19]])})))()},cancelUpdate:function(){var e=this;e.isUpdateDialog=!1},UpdateSuccessOkay:function(){var e=this;e.isUpdateSuccessDialog=!1,1==e.isAdmin&&(this.$router.push("/nextOfKins"),this.$store.commit("clientStore/isAdminUpdate",!1))},UpdateSuccessCancel:function(){var e=this;e.isUpdateSuccessDialog=!1,1==e.isAdmin&&(this.$router.push("/nextOfKins"),this.$store.commit("clientStore/isAdminUpdate",!1))},UpdateFailureOkay:function(){var e=this;e.isUpdateFailureDialog=!1},UpdateFailureCancel:function(){var e=this;e.isUpdateFailureDialog=!1},updateStatusBar:function(e){var t=this;t.minutes=e.minutes,t.seconds=e.seconds}},created:function(){var e=this;return o()(u.a.mark((function t(){var a,s,n,i,r,c;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,1!=a.isAdmin){t.next=5;break}a.NextOfKinDTO=h({},a.selectedNextOfKin),t.next=13;break;case 5:return s={url:"".concat(f["r"],"/").concat(a.IdentityModel.id),req:{}},e.$store.commit("authenticationStore/setShowSpinner",!0),t.next=9,Object(m["a"])(s);case 9:n=t.sent,e.$store.commit("authenticationStore/setShowSpinner",!1),i=n.data,r=i.data,c=i.success,c&&(a.NextOfKinDTO=h({},r));case 13:case"end":return t.stop()}}),t)})))()}},v=g,x=(a("900f"),a("a6c2")),S=a("f624"),b=a("ddc7"),D=a("505d"),U=a("5ce7"),y=a("7006"),K=a("3548"),w=a("a3be"),k=a("ef9c"),C=a("ec6d"),N=a("c99e"),q=a("63c1"),T=a.n(q),$=Object(x["a"])(v,s,n,!1,null,null,null);t["default"]=$.exports;T()($,"components",{QLayout:S["a"],QPageContainer:b["a"],QPage:D["a"],QCard:U["a"],QCardSection:y["a"],QForm:K["a"],QInput:w["a"],QBtn:k["a"],QDialog:C["a"],QSpinner:N["a"]})},d004:function(e,t,a){}}]);