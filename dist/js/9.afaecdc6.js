(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{f6b42:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{staticClass:"bg-primary",attrs:{view:"hHh lpR fFf"}},[s("q-header",{staticClass:"q-pa-none bg-primary"},[s("MainMenuBar",{attrs:{menuList:t.menuList},on:{logoutUser:function(e){return t.logoutUser(e)}}})],1),s("q-page-container",{staticStyle:{height:"100vh"}},[s("router-view")],1)],1)},a=[],o=(s("23bf"),s("06db"),s("7f7f"),s("8a81"),s("1c4c"),s("5df3"),s("cadf"),s("ac6a"),s("fa84")),r=s.n(o),i=s("967e"),c=s.n(i),l=s("e4b6"),u=s("b87a"),m=s("1c1ce"),d=s("b82d"),g=s("0428"),h=s("6b11"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-bar",{staticClass:"q-pa-none row bg-accent"},[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"settings","aria-label":"Settings"}}),s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"create"},on:{click:t.create}}),s("q-space"),s("p",{staticClass:"q-ma-sm"},[t._v(" "+t._s(t.userSchool.schoolName.toUpperCase())+" ")]),s("q-space"),s("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"search"}}),s("q-btn",{attrs:{icon:"menu",flat:"",dense:"",round:""}},[s("q-menu",{attrs:{fit:""}},[s("q-list",{staticClass:"text-accent text-caption bg-primary",attrs:{dense:""}},t._l(t.menuList,(function(e){return s("q-item",{key:e.title,staticClass:"bg-primary text-accent",attrs:{clickable:""},on:{click:function(s){return t.scrollToElement(e.to)}}},[s("q-item-section",[t._v("\n                    "+t._s(e.title)+"\n                    ")])],1)})),1)],1)],1),s("q-btn",{attrs:{dense:t.dense,flat:"",avatar:""}},[t.getIsUserPhoto()?s("q-avatar",{staticClass:"bg-primary text-accent"},[s("q-img",{attrs:{src:t.IdentityModel.base64String}})],1):s("q-btn",{staticClass:"bg-accent text-primary",attrs:{dense:t.dense,flat:""}},[t._v(t._s(t.IdentityModel.firstName))]),s("q-menu",{attrs:{fit:""}},[s("q-list",{staticClass:"text-accent text-caption bg-primary",attrs:{dense:""}},[s("q-item",{staticClass:"bg-primary text-accent"},[s("q-item-section",{attrs:{avatar:""}},[s("div",{staticClass:"row text-center flex flex-center q-pb-lg"},[s("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[s("div",{staticClass:"q-pa-md",staticStyle:{"font-family":"Lato"},attrs:{avatar:""}},[t.getIsUserPhoto()?s("q-avatar",{staticClass:"bg-primary text-accent"},[s("q-img",{attrs:{src:t.IdentityModel.base64String}})],1):s("q-avatar",{staticClass:"bg-accent text-primary"},[t._v("\n                                  "+t._s(t.IdentityModel.firstName.charAt(0))+"\n                                ")])],1),s("div",{staticClass:"q-pa-md",staticStyle:{"font-family":"Lato"}},[s("p",{staticClass:"bg-primary text-accent"},[t._v("\n                                  "+t._s(t.IdentityModel.firstName)+" "+t._s(t.IdentityModel.lastName)+"\n                                ")])])])])])],1),s("q-item",{staticClass:"bg-primary accent-white"},[s("q-item-section",{attrs:{avatar:""}},[s("div",{staticClass:"row text-center flex flex-center q-pb-lg"},[s("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[s("q-btn",{staticClass:"q-mr-md bg-accent text-primary",style:"min-height:auto; padding:1px;",attrs:{size:"12px",dense:"",icon:"color_lens"},on:{click:t.logOut}},[t._v("\n                                    Logout\n                                  ")])],1)])])],1)],1)],1)],1)],1)},p=[],b={computed:{userSchool:function(){return this.$store.getters["schoolStore/userSchool"]},isAdmin:function(){return"/admin"!==this.$router.history.current.fullPath},IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]}},props:{menuList:{type:Array,default:[]}},data:function(){return{visibilityIcon:"visibility",dense:!1}},methods:{logOut:function(){this.$emit("logoutUser")},scrollToElement:function(t){this.$router.push(t)},create:function(){var t=this.$store.getters["authenticationStore/createURL"];this.$router.push(t)},getIsUserPhoto:function(){var t=this;return""!=t.IdentityModel.base64String&&void 0!=t.IdentityModel.base64String}}},y=b,S=s("2877"),v=s("d847"),w=s("9c40"),q=s("2c91"),x=s("4e73"),I=s("1c1c"),j=s("66e5"),$=s("4074"),C=s("cb32"),M=s("068f"),P=s("eebe"),O=s.n(P),_=Object(S["a"])(y,f,p,!1,null,null,null),A=_.exports;function L(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=k(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,i=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){i=!0,o=t},f:function(){try{r||null==s.return||s.return()}finally{if(i)throw o}}}}function k(t,e){if(t){if("string"===typeof t)return U(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?U(t,e):void 0}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}O()(_,"components",{QBar:v["a"],QBtn:w["a"],QSpace:q["a"],QMenu:x["a"],QList:I["a"],QItem:j["a"],QItemSection:$["a"],QAvatar:C["a"],QImg:M["a"]});var Q={name:"AdminLayout",computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},Loginstatus:function(){return this.$store.getters["authenticationStore/Loginstatus"]},theme_color:function(){return this.$store.getters["authenticationStore/theme_color"]}},components:{MainMenuBar:A},data:function(){return{schoolName:"",leftDrawerOpen:!0,showAccountDetails:!1,rightMenuIcon:"menu",navs:[],rightDrawerOpen:window.innerWidth<700,menuList:[{name:"showPage",title:"Home",description:"Landing Page",image:"/statics/images/staffs.jpg",to:"/admin"},{name:"showPage",title:"Staff",description:"The types of employees of the schools",image:"/statics/images/staffs.jpg",to:"/staff-landing"},{name:"showPage",title:"Users",description:"The employees of the schools",image:"/statics/images/staffs.jpg",to:"/user-landing"},{name:"showPage",title:"Class Rooms",description:"The school's class rooms",image:"/statics/images/classroom.jpg",to:"/classroom-landing"},{name:"showPage",title:"Subjects",description:"Subjects that students learn in the school",image:"/statics/images/subjects.jpg",to:"/subject-landing"},{name:"showPage",title:"Student",description:"Students in the school",image:"/statics/images/students.jpg",to:"/student-landing"},{name:"showPage",title:"Assessment",description:"Student's assessment in the school",image:"/statics/images/assessment.jpg",to:"/assessment-landing"},{name:"showPage",title:"Student Results",description:"Student's results in the school",image:"/statics/images/results.jpg",to:"/result-landing"},{name:"showPage",title:"Subscription",description:"The shool management subscription plans",image:"/statics/images/lesson.jpg",to:"/subscription-landing"},{name:"showPage",title:"File Management",description:"Managing teachers lesson notes, past questions and answers, and other office files",image:"/statics/images/lesson.jpg",to:"/admin"},{name:"showPage",title:"Schools Payments",description:"All Payments made by schools you refered to Newway",image:"/statics/images/staffs.jpg",to:"/school-all-payment-landing"}]}},methods:{showSelectedRouters:function(){return console.log("this.$router: ",this.$router),"/admin"!=this.$router.history.current.fullPath},getIsUserPhoto:function(){var t=this;return""!=t.IdentityModel.base64String&&void 0!=t.IdentityModel.base64String},toggleButton:function(){var t=this;1==t.showAccountDetails?t.showAccountDetails=!1:t.showAccountDetails=!0},logoutUser:function(){this.$store.dispatch("authenticationStore/Logout")},scrollToElement:function(t){this.$router.push("".concat(t))},onResize:function(t){var e=window.innerWidth,s=this;s.rightDrawerOpen=!1,e<700&&(s.rightDrawerOpen=!0),this.$store.commit("authenticationStore/setIsMobile",s.rightDrawerOpen)}},created:function(){var t=this;return r()(c.a.mark((function e(){var s,n,a,o,r,i,f,p,b,y,S;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.addEventListener("resize",t.onResize),s=t,window.innerWidth<700&&(s.rightDrawerOpen=!0),t.$store.commit("authenticationStore/setIsMobile",s.rightDrawerOpen),e.next=6,Object(h["a"])();case 6:n=e.sent,t.$store.commit("schoolStore/SetSchools",n.result),console.log(n),a=t.$store.getters["authenticationStore/IdentityModel"],console.log(a),o=L(n.result),e.prev=12,o.s();case 14:if((r=o.n()).done){e.next=23;break}if(i=r.value,i.id!==a.schoolId){e.next=21;break}return s.schoolName=i.schoolName,t.$store.commit("schoolStore/SetUserSchool",i),console.log("context.schoolName: ",s.schoolName),e.abrupt("break",23);case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](12),o.e(e.t0);case 28:return e.prev=28,o.f(),e.finish(28);case 31:if("Admin"!=a.userType||"CEO"===a.designationId){e.next=57;break}return e.next=34,Object(l["a"])(a.schoolId);case 34:return f=e.sent,t.$store.commit("classRoomStore/SetClassRooms",f.result),console.log("classRooms: ",f.result),e.next=39,Object(u["a"])(a.schoolId);case 39:return p=e.sent,t.$store.commit("staffStore/SetStaffs",p.result),console.log("staffs: ",p.result),e.next=44,Object(m["a"])(a.schoolId);case 44:return b=e.sent,t.$store.commit("studentStore/SetStudents",b.result),console.log("students: ",b.result),e.next=49,Object(d["a"])(a.schoolId);case 49:return y=e.sent,t.$store.commit("subjectStore/SetSubjects",y.result),console.log("subjects: ",y.result),e.next=54,Object(g["a"])(a.schoolId);case 54:S=e.sent,t.$store.commit("assessmentStore/SetAssessments",S.result),console.log("assessments: ",S.result);case 57:case"end":return e.stop()}}),e,null,[[12,25,28,31]])})))()},destroyed:function(){window.removeEventListener("resize",this.onResize)}},D=Q,N=s("4d5a"),R=s("e359"),E=s("09e3"),T=Object(S["a"])(D,n,a,!1,null,null,null);e["default"]=T.exports;O()(T,"components",{QLayout:N["a"],QHeader:R["a"],QPageContainer:E["a"]})}}]);