(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{f6b42:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{staticClass:"bg-primary",attrs:{view:"hHh lpR fFf"}},[s("q-header",{staticClass:"q-py-sm bg-primary text-accent",attrs:{elevated:"","height-hint":"58"}},[s("q-toolbar",[s("img",{attrs:{src:"/statics/newway.jpg",width:"100",height:"40"}}),s("q-space"),s("p",{staticClass:"q-pa-none"},[t._v(" "+t._s(t.schoolName)+" ")]),s("q-tabs",{attrs:{shrink:""}},[s("q-btn",{attrs:{avatar:""},on:{click:t.toggleButton}},[t.getIsUserPhoto()?s("q-avatar",{staticClass:"bg-primary text-accent"},[s("q-img",{attrs:{src:t.IdentityModel.base64String}})],1):s("q-avatar",{staticClass:"bg-accent text-primary"},[t._v("\n\t        "+t._s(t.IdentityModel.firstName.charAt(0))+"\n\t      ")]),s("q-menu",{attrs:{fit:""}},[s("q-list",{staticClass:"text-accent text-caption bg-primary",attrs:{dense:""}},[s("q-item",{staticClass:"bg-primary text-accent"},[s("q-item-section",{attrs:{avatar:""}},[s("div",{staticClass:"row text-center flex flex-center q-pb-lg"},[s("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[s("div",{staticClass:"q-pa-md",staticStyle:{"font-family":"Lato"},attrs:{avatar:""}},[t.getIsUserPhoto()?s("q-avatar",{staticClass:"bg-primary text-accent"},[s("q-img",{attrs:{src:t.IdentityModel.base64String}})],1):s("q-avatar",{staticClass:"bg-accent text-primary"},[t._v("\n                                  "+t._s(t.IdentityModel.firstName.charAt(0))+"\n                                ")])],1),s("div",{staticClass:"q-pa-md",staticStyle:{"font-family":"Lato"}},[s("p",{staticClass:"bg-primary text-accent"},[t._v("\n                                  "+t._s(t.IdentityModel.firstName)+" "+t._s(t.IdentityModel.lastName)+"\n                                ")])])])])])],1),s("q-item",{staticClass:"bg-primary accent-white"},[s("q-item-section",{attrs:{avatar:""}},[s("div",{staticClass:"row text-center flex flex-center q-pb-lg"},[s("div",{staticClass:"col-md-12 col-lg-12 col-sx-12 col-sm-12 q-gutter-lg q-px-xl q-pb-none q-ma-none"},[s("q-btn",{staticClass:"q-mr-md bg-accent text-primary",style:"min-height:auto; padding:1px;",attrs:{size:"12px",dense:"",icon:"color_lens"},on:{click:t.logoutUser}},[t._v("\n                                    Logout\n                                  ")])],1)])])],1)],1)],1)],1),s("div",["/admin"!=this.$router.history.current.fullPath?s("q-btn",{staticClass:"text-accent bg-primary",attrs:{icon:t.rightMenuIcon,flat:"",dense:""}},[s("q-menu",{attrs:{fit:""}},[s("q-list",{staticClass:"text-accent text-caption bg-primary",attrs:{dense:""}},t._l(t.menuList,(function(e){return s("q-item",{key:e.title,staticClass:"bg-primary text-accent",attrs:{clickable:""},on:{click:function(s){return t.scrollToElement(e.to)}}},[s("q-item-section",[t._v("\n                    "+t._s(e.title)+"\n                    ")])],1)})),1)],1)],1):t._e()],1)],1)],1)],1),s("q-page-container",{staticStyle:{height:"700px"}},[s("router-view")],1)],1)},n=[],o=(s("23bf"),s("06db"),s("7f7f"),s("8a81"),s("1c4c"),s("5df3"),s("cadf"),s("ac6a"),s("fa84")),i=s.n(o),r=s("967e"),c=s.n(r),l=s("e4b6"),u=s("b87a"),m=s("1c1ce"),g=s("b82d"),d=s("0428"),h=s("6b11");function p(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=f(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,r=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){r=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(r)throw o}}}}function f(t,e){if(t){if("string"===typeof t)return b(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var y={name:"AdminLayout",computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},Loginstatus:function(){return this.$store.getters["authenticationStore/Loginstatus"]},theme_color:function(){return this.$store.getters["authenticationStore/theme_color"]}},components:{},data:function(){return{schoolName:"",leftDrawerOpen:!0,showAccountDetails:!1,rightMenuIcon:"menu",navs:[],rightDrawerOpen:window.innerWidth<700,menuList:[{name:"showPage",title:"Home",description:"Landing Page",image:"/statics/images/staffs.jpg",to:"/admin"},{name:"showPage",title:"Staff",description:"The types of employees of the schools",image:"/statics/images/staffs.jpg",to:"/staff-landing"},{name:"showPage",title:"Users",description:"The employees of the schools",image:"/statics/images/staffs.jpg",to:"/user-landing"},{name:"showPage",title:"Class Rooms",description:"The school's class rooms",image:"/statics/images/classroom.jpg",to:"/classroom-landing"},{name:"showPage",title:"Subjects",description:"Subjects that students learn in the school",image:"/statics/images/subjects.jpg",to:"/subject-landing"},{name:"showPage",title:"Student",description:"Students in the school",image:"/statics/images/students.jpg",to:"/student-landing"},{name:"showPage",title:"Assessment",description:"Student's assessment in the school",image:"/statics/images/assessment.jpg",to:"/assessment-landing"},{name:"showPage",title:"Student Results",description:"Student's results in the school",image:"/statics/images/results.jpg",to:"/result-landing"},{name:"showPage",title:"Subscription",description:"The shool management subscription plans",image:"/statics/images/lesson.jpg",to:"/subscription-landing"},{name:"showPage",title:"File Management",description:"Managing teachers lesson notes, past questions and answers, and other office files",image:"/statics/images/lesson.jpg",to:"/admin"},{name:"showPage",title:"Schools Payments",description:"All Payments made by schools you refered to Newway",image:"/statics/images/staffs.jpg",to:"/school-all-payment-landing"}]}},methods:{showSelectedRouters:function(){return console.log("this.$router: ",this.$router),"/admin"!=this.$router.history.current.fullPath},getIsUserPhoto:function(){var t=this;return""!=t.IdentityModel.base64String&&void 0!=t.IdentityModel.base64String},toggleButton:function(){var t=this;1==t.showAccountDetails?t.showAccountDetails=!1:t.showAccountDetails=!0},logoutUser:function(){this.$store.dispatch("authenticationStore/Logout")},scrollToElement:function(t){this.$router.push("".concat(t))},onResize:function(t){var e=window.innerWidth,s=this;s.rightDrawerOpen=!1,e<700&&(s.rightDrawerOpen=!0),this.$store.commit("authenticationStore/setIsMobile",s.rightDrawerOpen)}},created:function(){var t=this;return i()(c.a.mark((function e(){var s,a,n,o,i,r,f,b,y,w,v;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.addEventListener("resize",t.onResize),s=t,window.innerWidth<700&&(s.rightDrawerOpen=!0),t.$store.commit("authenticationStore/setIsMobile",s.rightDrawerOpen),e.next=6,Object(h["a"])();case 6:a=e.sent,t.$store.commit("schoolStore/SetSchools",a.result),console.log(a),n=t.$store.getters["authenticationStore/IdentityModel"],console.log(n),o=p(a.result),e.prev=12,o.s();case 14:if((i=o.n()).done){e.next=23;break}if(r=i.value,r.id!==n.schoolId){e.next=21;break}return s.schoolName=r.schoolName,t.$store.commit("schoolStore/SetUserSchool",r),console.log("context.schoolName: ",s.schoolName),e.abrupt("break",23);case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](12),o.e(e.t0);case 28:return e.prev=28,o.f(),e.finish(28);case 31:if("Admin"!=n.userType||"CEO"===n.designationId){e.next=57;break}return e.next=34,Object(l["a"])(n.schoolId);case 34:return f=e.sent,t.$store.commit("classRoomStore/SetClassRooms",f.result),console.log("classRooms: ",f.result),e.next=39,Object(u["a"])(n.schoolId);case 39:return b=e.sent,t.$store.commit("staffStore/SetStaffs",b.result),console.log("staffs: ",b.result),e.next=44,Object(m["a"])(n.schoolId);case 44:return y=e.sent,t.$store.commit("studentStore/SetStudents",y.result),console.log("students: ",y.result),e.next=49,Object(g["a"])(n.schoolId);case 49:return w=e.sent,t.$store.commit("subjectStore/SetSubjects",w.result),console.log("subjects: ",w.result),e.next=54,Object(d["a"])(n.schoolId);case 54:v=e.sent,t.$store.commit("assessmentStore/SetAssessments",v.result),console.log("assessments: ",v.result);case 57:case"end":return e.stop()}}),e,null,[[12,25,28,31]])})))()},destroyed:function(){window.removeEventListener("resize",this.onResize)}},w=y,v=s("2877"),S=s("4d5a"),x=s("e359"),q=s("65c6"),I=s("9c40"),j=s("2c91"),C=s("429b"),$=s("cb32"),P=s("068f"),M=s("4e73"),_=s("1c1c"),A=s("66e5"),O=s("4074"),k=s("09e3"),L=s("2eeb"),Q=s("eebe"),D=s.n(Q),N=Object(v["a"])(w,a,n,!1,null,null,null);e["default"]=N.exports;D()(N,"components",{QLayout:S["a"],QHeader:x["a"],QToolbar:q["a"],QBtn:I["a"],QSpace:j["a"],QTabs:C["a"],QAvatar:$["a"],QImg:P["a"],QMenu:M["a"],QList:_["a"],QItem:A["a"],QItemSection:O["a"],QPageContainer:k["a"]}),D()(N,"directives",{GoBack:L["a"]})}}]);