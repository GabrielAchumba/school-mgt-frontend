(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{f6b42:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{staticClass:"bg-primary",attrs:{view:"hHh lpR fFf"}},[n("q-header",{staticClass:"q-pa-none bg-primary"},[n("MainMenuBar",{attrs:{menuList:e.menuList},on:{logoutUser:function(t){return e.logoutUser(t)}}})],1),n("q-page-container",{staticStyle:{height:"100vh"}},[n("router-view")],1),n("q-dialog",{model:{value:e.globalSearchDialog,callback:function(t){e.globalSearchDialog=t},expression:"globalSearchDialog"}},[n("searchDialog")],1)],1)},i=[],r=(n("456d"),n("8a81"),n("d25f"),n("9986"),n("8e6e"),n("23bf"),n("06db"),n("7f7f"),n("1c4c"),n("5df3"),n("cadf"),n("ac6a"),n("c47a")),o=n.n(r),a=n("fa84"),c=n.n(a),u=n("967e"),l=n.n(u),g=(n("6d67"),n("bc78")),m=n("e4b6"),h=n("b87a"),d=n("1c1ce"),f=n("b82d"),p=n("0428"),b=n("6b11"),S=n("6cb6"),y=n("4580"),w=n("39b2"),v=function(){var e=c()(l.a.mark((function e(t){var n,s,i,r,o,a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="payment/check-results-subscription/".concat(t),e.next=3,Object(w["a"])({url:n});case 3:if(s=e.sent,i=s.data,r=i.data,o=i.success,a=i.message,!o){e.next=9;break}return e.abrupt("return",{result:r,message:""});case 9:return e.abrupt("return",{result:{isResultsAnalysis:!1,isFileManagement:!1,isAdvertizement:!1,isExamsQuiz:!1,isOnlineLearning:!1},message:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=[{name:"showPage",title:"Home",description:"Landing Page",image:"/statics/images/staffs.jpg",to:"/admin"},{name:"showPage",title:"Staff",description:"The types of employees of the schools",image:"/statics/images/staffs.jpg",to:"/staff-landing"},{name:"showPage",title:"Users",description:"The employees of the schools",image:"/statics/images/staffs.jpg",to:"/user-landing"},{name:"showPage",title:"Class Rooms",description:"The school's class rooms",image:"/statics/images/classroom.jpg",to:"/classroom-landing"},{name:"showPage",title:"Subjects",description:"Subjects that students learn in the school",image:"/statics/images/subjects.jpg",to:"/subject-landing"},{name:"showPage",title:"Student",description:"Students in the school",image:"/statics/images/students.jpg",to:"/student-landing"},{name:"showPage",title:"Assessment",description:"Student's assessment in the school",image:"/statics/images/assessment.jpg",to:"/assessment-landing"},{name:"showPage",title:"Student Results",description:"Student's results in the school",image:"/statics/images/results.jpg",to:"/result-landing"},{name:"showPage",title:"Subscription",description:"The shool management subscription plans",image:"/statics/images/lesson.jpg",to:"/subscription-landing"},{name:"showPage",title:"File Management",description:"Managing teachers lesson notes, past questions and answers, and other office files",image:"/statics/images/lesson.jpg",to:"/filemanagement-landing"},{name:"showPage",title:"Socialize",description:"This feature enables you to chat and interact with friends from same or differnet school",image:"/statics/images/lesson.jpg",to:"/filemanagement-landing"},{name:"showPage",title:"Branding & Advertisement",description:"Subscribe to app customization and advertisement",image:"/statics/images/lesson.jpg",to:"/branding-landing"},{name:"showPage",title:"Schools Payments",description:"All Payments made by schools you refered to Newway",image:"/statics/images/staffs.jpg",to:"/school-all-payment-landing"}];function j(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function O(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}g["a"].getBrand;var $=g["a"].setBrand,A={name:"AdminLayout",computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},Loginstatus:function(){return this.$store.getters["authenticationStore/Loginstatus"]},theme_color:function(){return this.$store.getters["authenticationStore/theme_color"]},globalSearchDialog:function(){return this.$store.getters["authenticationStore/globalSearchDialog"]},primaryColor:function(){return this.$store.getters["administratorStore/primaryColor"]},secondaryColor:function(){return this.$store.getters["administratorStore/secondaryColor"]},tertiaryColor:function(){return this.$store.getters["administratorStore/tertiaryColor"]}},components:{MainMenuBar:S["a"],searchDialog:y["a"]},data:function(){return{schoolName:"",leftDrawerOpen:!0,showAccountDetails:!1,rightMenuIcon:"menu",navs:[],rightDrawerOpen:window.innerWidth<700,menuList:M,contextMenuList:[],landingMenu:[],checkSubscription:{}}},methods:{initializeLogo:function(){var e=this;$("primary",e.primaryColor),$("accent",e.secondaryColor),$("secondary",e.tertiaryColor)},showSelectedRouters:function(){return console.log("this.$router: ",this.$router),"/admin"!=this.$router.history.current.fullPath},getIsUserPhoto:function(){var e=this;return""!=e.IdentityModel.base64String&&void 0!=e.IdentityModel.base64String},toggleButton:function(){var e=this;1==e.showAccountDetails?e.showAccountDetails=!1:e.showAccountDetails=!0},logoutUser:function(){this.$store.dispatch("authenticationStore/Logout")},scrollToElement:function(e){this.$router.push("".concat(e))},onResize:function(e){var t=window.innerWidth,n=this;n.rightDrawerOpen=!1,t<700&&(n.rightDrawerOpen=!0),this.$store.commit("authenticationStore/setIsMobile",n.rightDrawerOpen)},verifyResultsAnalysisSubscription:function(){var e=this;if(0==e.checkSubscription.isResultsAnalysis){var t=-1,n=0;for(n=0;n<e.landingMenu.length;n++)if("Student Results"==e.landingMenu[n].title){t=n;break}for(-1!=t&&e.landingMenu.splice(t,1),t=-1,n=0;n<e.contextMenuList.length;n++)if("Student Results"==e.contextMenuList[n].title){t=n;break}-1!=t&&e.contextMenuList.splice(t,1)}},verifyFileManagementSubscription:function(){var e=this;if(0==e.checkSubscription.isFileManagement){var t=-1,n=0;for(n=0;n<e.landingMenu.length;n++)if("File Management"==e.landingMenu[n].title){t=n;break}for(-1!=t&&e.landingMenu.splice(t,1),t=-1,n=0;n<e.contextMenuList.length;n++)if("File Management"==e.contextMenuList[n].title){t=n;break}-1!=t&&e.contextMenuList.splice(t,1)}},verifyAdevertizementSubscription:function(){var e=this;if(0==e.checkSubscription.isAdvertizement){var t=-1,n=0;for(n=0;n<e.landingMenu.length;n++)if("Advertisement"==e.landingMenu[n].title){t=n;break}for(-1!=t&&e.landingMenu.splice(t,1),t=-1,n=0;n<e.contextMenuList.length;n++)if("Advertisement"==e.contextMenuList[n].title){t=n;break}-1!=t&&e.contextMenuList.splice(t,1)}},checkSubscritpion:function(){var e=this;return c()(l.a.mark((function t(){var n,s,i,r;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,s=e.$store.getters["authenticationStore/IdentityModel"],t.next=4,v(s.schoolId);case 4:i=t.sent,r=i.result,n.checkSubscription=k({},r),e.$store.commit("administratorStore/SetIsSubscription",r),n.contextMenuList=n.menuList.map((function(e){return k({},e)})),n.landingMenu=n.menuList.map((function(e){return k({},e)})),n.landingMenu.shift(),n.verifyResultsAnalysisSubscription(),n.verifyFileManagementSubscription(),n.verifyAdevertizementSubscription(),n.menuList=n.contextMenuList.map((function(e){return k({},e)})),e.$store.commit("administratorStore/SetMainMenuList",n.landingMenu);case 16:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return c()(l.a.mark((function t(){var n,s,i,r,o,a,c,u,g,S,y;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("seen 2"),window.addEventListener("resize",e.onResize),n=e,n.initializeLogo(),e.$store.commit("authenticationStore/setActiveRoute","adminLanding"),window.innerWidth<700&&(n.rightDrawerOpen=!0),e.$store.commit("authenticationStore/setIsMobile",n.rightDrawerOpen),t.next=9,Object(b["a"])();case 9:s=t.sent,e.$store.commit("schoolStore/SetSchools",s.result),i=e.$store.getters["authenticationStore/IdentityModel"],r=j(s.result),t.prev=13,r.s();case 15:if((o=r.n()).done){t.next=23;break}if(a=o.value,a.id!==i.schoolId){t.next=21;break}return n.schoolName=a.schoolName,e.$store.commit("schoolStore/SetUserSchool",a),t.abrupt("break",23);case 21:t.next=15;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](13),r.e(t.t0);case 28:return t.prev=28,r.f(),t.finish(28);case 31:if("Admin"!=i.userType||"CEO"===i.designationId){t.next=53;break}return t.next=34,Object(m["a"])(i.schoolId);case 34:return c=t.sent,e.$store.commit("classRoomStore/SetClassRooms",c.result),t.next=38,Object(h["a"])(i.schoolId);case 38:return u=t.sent,e.$store.commit("staffStore/SetStaffs",u.result),t.next=42,Object(d["a"])(i.schoolId);case 42:return g=t.sent,e.$store.commit("studentStore/SetStudents",g.result),t.next=46,Object(f["a"])(i.schoolId);case 46:return S=t.sent,e.$store.commit("subjectStore/SetSubjects",S.result),t.next=50,Object(p["a"])(i.schoolId);case 50:y=t.sent,e.$store.commit("assessmentStore/SetAssessments",y.result),n.checkSubscritpion();case 53:case"end":return t.stop()}}),t,null,[[13,25,28,31]])})))()},destroyed:function(){window.removeEventListener("resize",this.onResize)}},P=A,D=n("2877"),I=n("4d5a"),C=n("e359"),R=n("09e3"),z=n("24e8"),E=n("eebe"),F=n.n(E),T=Object(D["a"])(P,s,i,!1,null,null,null);t["default"]=T.exports;F()(T,"components",{QLayout:I["a"],QHeader:C["a"],QPageContainer:R["a"],QDialog:z["a"]})}}]);