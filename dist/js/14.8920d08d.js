(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"0936":function(e,t,r){},"37c9":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.showSpinner?e._e():r("ComfirmUsers",{attrs:{formData:e.form,unConfirmedCardList:e.unConfirmedCardList,confirmedCardList:e.confirmedCardList,pages:e.pages,pagesConfirmed:e.pagesConfirmed},on:{confirmUser:function(t){return e.confirmUser(t)},blockUser:function(t){return e.blockUser(t)},paginationAction:function(t){return e.paginationAction(t)},paginationActionConfirmed:function(t){return e.paginationActionConfirmed(t)},nextAction:function(t){return e.nextAction(t)},backAction:function(t){return e.backAction(t)},nextActionConfirmed:function(t){return e.nextActionConfirmed(t)},backActionConfirmed:function(t){return e.backActionConfirmed(t)},filterUnConfirmedUsers:function(t){return e.filterUnConfirmedUsers(t)},filterConfirmedUsers:function(t){return e.filterConfirmedUsers(t)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner,expression:"showSpinner"}],staticClass:"q-gutter-md row"},[r("div",{staticClass:"col-12 q-pa-sm absolute-center flex flex-center"},[r("q-spinner",{attrs:{color:"accent",size:e.spinnerSize,thickness:e.spinnerThickness}})],1)]),e._l(e.dialogs,(function(t){return r("q-dialog",{key:t.title,model:{value:t.isVisible,callback:function(r){e.$set(t,"isVisible",r)},expression:"dialog.isVisible"}},[r("MessageBox",{attrs:{title:t.title,message:t.message,okayEvent:t.okayEvent,cancelEvent:t.cancelEvent},on:{cancelDialog:function(t){return e.cancelDialog(t)},okDialog:function(t){return e.okDialog(t)}}})],1)}))],2)},a=[],i=(r("23bf"),r("06db"),r("7f7f"),r("8a81"),r("1c4c"),r("5df3"),r("cadf"),r("ac6a"),r("456d"),r("9986"),r("8e6e"),r("c47a")),s=r.n(i),o=r("4db1"),c=r.n(o),l=r("fa84"),f=r.n(l),u=(r("d25f"),r("6d67"),r("967e")),m=r.n(u),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("q-tabs",{staticClass:"text-accent",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:e.formData.tab,callback:function(t){e.$set(e.formData,"tab",t)},expression:"formData.tab"}},[r("q-tab",{staticClass:"bg-accent text-primary",attrs:{name:"unconfirmed",label:"Unconfirmed"}}),r("q-tab",{staticClass:"bg-accent text-primary",attrs:{name:"confirmed",label:"Confirmed"}})],1),r("q-separator"),r("q-tab-panels",{attrs:{animated:""},model:{value:e.formData.tab,callback:function(t){e.$set(e.formData,"tab",t)},expression:"formData.tab"}},[r("q-tab-panel",{attrs:{name:"unconfirmed"}},[r("span",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 pagination"},[r("a",{attrs:{href:"#"},on:{click:e.backAction}},[e._v("«")]),e._l(e.pages,(function(t){return r("a",{key:t.sn,attrs:{href:"#"},on:{click:function(r){return e.paginationAction(t)}}},[e._v(e._s(t.sn)+"\n                ")])})),r("a",{attrs:{href:"#"},on:{click:e.nextAction}},[e._v("»")])],2)]),r("q-input",{staticClass:"q-ma-none bg-primary text-accent",attrs:{outlined:"",bordered:"",type:"text"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"bg-primary text-accent",attrs:{name:"search"},on:{click:e.filterUnConfirmedUsers}})]},proxy:!0}]),model:{value:e.formData.filterUnConfirmedUser,callback:function(t){e.$set(e.formData,"filterUnConfirmedUser",t)},expression:"formData.filterUnConfirmedUser"}}),r("q-list",{attrs:{bordered:""}},e._l(e.unConfirmedCardList,(function(t){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.sn,staticClass:"q-pa-sm",attrs:{clickable:""}},[r("q-item-section",[r("div",{staticClass:"row"},[r("div",{staticClass:"col1 q-pa-sm"},[r("img",{attrs:{src:t.image}})]),r("div",{staticClass:"col2 q-sa-sm"},[r("span",[r("p",[e._v(e._s(t.title)+" ("+e._s(t.description)+")")]),r("span",[r("p",{staticClass:"q-ma-none"},[e._v(e._s(t.qSelect.label))]),r("q-select",{staticClass:"q-ma-none",attrs:{color:"accent",outlined:"","label-color":"accent","option-disable":"inactive",options:t.qSelect.list,"option-value":"id","option-label":"type",name:"type","emit-value":"","map-options":""},model:{value:t.qSelect.value,callback:function(r){e.$set(t.qSelect,"value",r)},expression:"card.qSelect.value"}})],1),r("div",e._l(t.qBtns,(function(n){return r("q-btn",{key:n.label,staticClass:"q-ma-sm bg-accent text-primary",attrs:{label:n.label,disabled:n.btnDisabled,type:"button",size:"md","no-caps":""},on:{click:function(r){return e.BtnClickAction(n.name,t)}}})})),1)])])])])],1)})),1)],1)]),r("q-tab-panel",{attrs:{name:"confirmed"}},[r("span",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 pagination"},[r("a",{attrs:{href:"#"},on:{click:e.backActionConfirmed}},[e._v("«")]),e._l(e.pagesConfirmed,(function(t){return r("a",{key:t.sn,attrs:{href:"#"},on:{click:function(r){return e.paginationActionConfirmed(t)}}},[e._v(e._s(t.sn)+"\n                ")])})),r("a",{attrs:{href:"#"},on:{click:e.nextActionConfirmed}},[e._v("»")])],2)]),r("q-input",{staticClass:"q-ma-none bg-primary text-accent",attrs:{outlined:"",bordered:"",type:"text"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"bg-primary text-accent",attrs:{name:"search"},on:{click:e.filterConfirmedUsers}})]},proxy:!0}]),model:{value:e.formData.filterConfirmedUser,callback:function(t){e.$set(e.formData,"filterConfirmedUser",t)},expression:"formData.filterConfirmedUser"}}),r("q-list",{attrs:{bordered:""}},e._l(e.confirmedCardList,(function(t){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.sn,staticClass:"q-pa-sm",attrs:{clickable:""}},[r("q-item-section",[r("div",{staticClass:"row"},[r("div",{staticClass:"col1 q-pa-sm"},[r("img",{attrs:{src:t.image}})]),r("div",{staticClass:"col2 q-sa-sm"},[r("span",[r("p",[e._v(e._s(t.title)+" ("+e._s(t.description)+")")]),r("span",[r("p",{staticClass:"q-ma-none"},[e._v(e._s(t.qSelect.label))]),r("q-select",{staticClass:"q-ma-none",attrs:{color:"accent",outlined:"","label-color":"accent","option-disable":"inactive",options:t.qSelect.list,"option-value":"id","option-label":"type",name:"type","emit-value":"","map-options":""},model:{value:t.qSelect.value,callback:function(r){e.$set(t.qSelect,"value",r)},expression:"card.qSelect.value"}})],1),r("div",e._l(t.qBtns,(function(n){return r("q-btn",{key:n.label,staticClass:"q-ma-sm bg-accent text-primary",attrs:{label:n.label,disabled:n.btnDisabled,type:"button",size:"md","no-caps":""},on:{click:function(r){return e.BtnClickAction(n.name,t)}}})})),1)])])])])],1)})),1)],1)])],1)],1)},p=[],b={props:{confirmedCardList:{type:Array,default:[]},unConfirmedCardList:{type:Array,default:[]},pages:{type:Array,default:[]},pagesConfirmed:{type:Array,default:[]},formData:{type:Object,default:{tab:"unconfirmed",filterConfirmedUser:"",filterUnConfirmedUser:""}}},methods:{BtnClickAction:function(e,t){this.$emit(e,t)},getIsUserPhoto:function(e){return""!=e.image&&void 0!=e.image},paginationAction:function(e){var t=this;this.$emit("paginationAction",{page:e,filter:t.formData.filterUnConfirmedUser})},paginationActionConfirmed:function(e){var t=this;this.$emit("paginationActionConfirmed",{page:e,filter:t.formData.filterConfirmedUser})},backAction:function(){var e=this;this.$emit("backAction",{filter:e.formData.filterUnConfirmedUser})},nextAction:function(){var e=this;this.$emit("nextAction",{filter:e.formData.filterUnConfirmedUser})},nextActionConfirmed:function(){var e=this;this.$emit("nextActionConfirmed",{filter:e.formData.filterConfirmedUser})},backActionConfirmed:function(){this.$emit("backActionConfirmed",{filter:context.formData.filterConfirmedUser})},filterUnConfirmedUsers:function(){var e=this;this.$emit("filterUnConfirmedUsers",e.formData.filterUnConfirmedUser)},filterConfirmedUsers:function(){var e=this;this.$emit("filterConfirmedUsers",e.formData.filterConfirmedUser)}}},g=b,h=(r("b944"),r("2877")),v=r("429b"),C=r("7460"),k=r("eb85"),U=r("adad"),x=r("823b"),y=r("27f9"),S=r("0016"),w=r("1c1c"),A=r("66e5"),q=r("4074"),D=r("ddd8"),$=r("9c40"),_=r("714f"),O=r("eebe"),I=r.n(O),P=Object(h["a"])(g,d,p,!1,null,null,null),j=P.exports;I()(P,"components",{QTabs:v["a"],QTab:C["a"],QSeparator:k["a"],QTabPanels:U["a"],QTabPanel:x["a"],QInput:y["a"],QIcon:S["a"],QList:w["a"],QItem:A["a"],QItemSection:q["a"],QSelect:D["a"],QBtn:$["a"]}),I()(P,"directives",{Ripple:_["a"]});var B=r("9bff"),E=r("39b2"),N=r("6132"),M={tab:"unconfirmed",filterConfirmedUser:"",filterUnConfirmedUser:""};function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function T(e,t){if(e){if("string"===typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R={computed:{showSpinner:function(){return this.$store.getters["authenticationStore/showSpinner"]},spinnerSize:function(){return this.$store.getters["authenticationStore/spinnerSize"]},spinnerThickness:function(){return this.$store.getters["authenticationStore/spinnerThickness"]},isMobile:function(){var e=window.innerWidth;return e<700}},components:{ComfirmUsers:j,MessageBox:B["a"]},data:function(){return{unConfirmedCardList:[],confirmedCardList:[],dialogs:[{title:"Confirm User",isVisible:!1,message:"Do you want to confirm a user",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Confirm User Success",isVisible:!1,message:"User confirmed successfully!",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Confirm User Failure",isVisible:!1,message:"",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Block User",isVisible:!1,message:"Do you want to block a user",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Block User Success",isVisible:!1,message:"User blocked successfully!",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Block User Failure",isVisible:!1,message:"",okayEvent:"okDialog",cancelEvent:"cancelDialog"}],pages:[],page:1,pagesConfirmed:[],pageConfirmed:1,mobileAppStepper:7,webAppStepper:25,totalNumberOfUsers:0,totalNumberOfConfirmedUsers:0,limit:0,confirmedUsers:[],unConfirmedUsers:[],paginatedUsers:[],selectedUser:{},form:M}},methods:{filterUnConfirmedUsers:function(e){var t=this;return f()(m.a.mark((function r(){var n;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t,""===e&&(e="@"),r.next=4,n._loadPaginatedUsers(1,e);case 4:case"end":return r.stop()}}),r)})))()},filterConfirmedUsers:function(e){var t=this;return f()(m.a.mark((function r(){var n;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t,""===e&&(e="@"),r.next=4,n._loadPaginatedConfirmedUsers(1,e);case 4:case"end":return r.stop()}}),r)})))()},confirmUser:function(e){var t=this;t.selectedUser=e;var r,n=-1,a=Q(t.dialogs);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(n++,"Confirm User"==i.title){t.dialogs[n].isVisible=!0;break}}}catch(s){a.e(s)}finally{a.f()}},confirmUserAsync:function(){var e=this;return f()(m.a.mark((function t(){var r,n,a,i,s,o,c,l;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e,n=e.$store.getters["authenticationStore/IdentityModel"],a="user/confirmuser/".concat(r.selectedUser.id),i={url:a,req:{designationId:r.selectedUser.qSelect.value,confirmedBy:n.id}},console.log("payload: ",i),e.$store.commit("authenticationStore/setShowSpinner",!0),t.next=8,Object(E["c"])(i);case 8:s=t.sent,e.$store.commit("authenticationStore/setShowSpinner",!1),o=s.data,c=o.message,l=o.success,l?r.dialogs[1].isVisible=!0:(r.dialogs[2].message=c,r.dialogs[2].isVisible=!0);case 12:case"end":return t.stop()}}),t)})))()},blockUser:function(e){var t=this;t.selectedUser=e;var r,n=-1,a=Q(t.dialogs);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(n++,"Block User"==i.title){t.dialogs[n].isVisible=!0;break}}}catch(s){a.e(s)}finally{a.f()}},blockUserAsync:function(){var e=this;return f()(m.a.mark((function t(){var r,n,a,i,s,o,c,l;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e,n=e.$store.getters["authenticationStore/IdentityModel"],a="user/blockuser/".concat(r.selectedUser.id),i={url:a,req:{designationId:r.selectedUser.qSelect.value,blockedBy:n.id}},console.log("payload: ",i),e.$store.commit("authenticationStore/setShowSpinner",!0),t.next=8,Object(E["c"])(i);case 8:s=t.sent,e.$store.commit("authenticationStore/setShowSpinner",!1),o=s.data,c=o.message,l=o.success,l?r.dialogs[1].isVisible=!0:(r.dialogs[2].message=c,r.dialogs[2].isVisible=!0);case 12:case"end":return t.stop()}}),t)})))()},cancelDialog:function(e){var t,r=this,n=-1,a=Q(r.dialogs);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(n++,i.title===e){r.dialogs[n].isVisible=!1;break}}}catch(s){a.e(s)}finally{a.f()}},okDialog:function(e){var t=this;return f()(m.a.mark((function r(){var n,a,i,s,o,c,l;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:console.log("payload: ",e),n=t,a=t.$store.getters["authenticationStore/IdentityModel"],i=-1,s=[],o=Q(n.dialogs),r.prev=6,o.s();case 8:if((c=o.n()).done){r.next=45;break}if(l=c.value,i++,l.title!==e){r.next=43;break}r.t0=e,r.next="Confirm User"===r.t0?15:"Block User"===r.t0?18:"Confirm User Success"===r.t0?21:"Block User Success"===r.t0?30:39;break;case 15:return r.next=17,n.confirmUserAsync();case 17:return r.abrupt("break",39);case 18:return r.next=20,n.blockUserAsync();case 20:return r.abrupt("break",39);case 21:return r.next=23,n._loadPaginatedUsers(n.page,n.form.filterUnConfirmedUser);case 23:return r.next=25,n._loadPaginatedConfirmedUsers(n.pageConfirmed,n.form.filterConfirmedUser);case 25:return r.next=27,Object(N["d"])(a.schoolId);case 27:return s=r.sent,t.$store.commit("userStore/setUnComfirmedUsers",s.result,"@"),r.abrupt("break",39);case 30:return r.next=32,n._loadPaginatedUsers(n.page,n.form.filterUnConfirmedUser);case 32:return r.next=34,n._loadPaginatedConfirmedUsers(n.pageConfirmed,n.form.filterConfirmedUser);case 34:return r.next=36,Object(N["d"])(a.schoolId);case 36:return s=r.sent,t.$store.commit("userStore/setUnComfirmedUsers",s.result,"@"),r.abrupt("break",39);case 39:return n.dialogs[i].isVisible=!1,""===e.filter&&(e.filter="@"),n.form.filterUnConfirmedUser=e.filter,r.abrupt("break",45);case 43:r.next=8;break;case 45:r.next=50;break;case 47:r.prev=47,r.t1=r["catch"](6),o.e(r.t1);case 50:return r.prev=50,o.f(),r.finish(50);case 53:case"end":return r.stop()}}),r,null,[[6,47,50,53]])})))()},nextAction:function(e){var t=this;return f()(m.a.mark((function r(){var n,a,i,s,o;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t,a=n.pages[0].sn,i=n.pages[0].sn,s=0,n.pages=[],o=i*n.limit;case 6:if(!(o<n.totalNumberOfUsers)){r.next=20;break}if(a++,s++,!n.isMobile){r.next=14;break}if(!(s>n.mobileAppStepper)){r.next=12;break}return r.abrupt("break",20);case 12:r.next=16;break;case 14:if(!(s>n.webAppStepper)){r.next=16;break}return r.abrupt("break",20);case 16:n.pages.push({sn:a});case 17:o+=n.limit,r.next=6;break;case 20:return""===e.filter&&(e.filter="@"),n.form.filterUnConfirmedUser=e.filter,r.next=24,n._loadUpdatedPaginatedUsers(n.pages[0],e.filter);case 24:case"end":return r.stop()}}),r)})))()},nextActionConfirmed:function(e){var t=this;return f()(m.a.mark((function r(){var n,a,i,s,o;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t,a=n.pagesConfirmed[0].sn,i=n.pagesConfirmed[0].sn,s=0,n.pagesConfirmed=[],o=i*n.limit;case 6:if(!(o<n.totalNumberOfConfirmedUsers)){r.next=20;break}if(a++,s++,!n.isMobile){r.next=14;break}if(!(s>n.mobileAppStepper)){r.next=12;break}return r.abrupt("break",20);case 12:r.next=16;break;case 14:if(!(s>n.webAppStepper)){r.next=16;break}return r.abrupt("break",20);case 16:n.pagesConfirmed.push({sn:a});case 17:o+=n.limit,r.next=6;break;case 20:return""===e.filter&&(e.filter="@"),n.form.filterConfirmedUser=e.filter,r.next=24,n._loadUpdatedPaginatedConfirmedUsers(n.pagesConfirmed[0],e.filter);case 24:case"end":return r.stop()}}),r)})))()},backAction:function(e){var t=this;return f()(m.a.mark((function r(){var n,a,i,s,o,c,l;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t,a=n.pages[0].sn-2,a<1&&(a=0),i=0,s=n.pages.length,o=n.pages[s-1].sn,c=n.pages[0].sn-1,n.pages=[],l=c*n.limit;case 9:if(!(l<o*n.limit)){r.next=23;break}if(a++,i++,!n.isMobile){r.next=17;break}if(!(i>n.mobileAppStepper)){r.next=15;break}return r.abrupt("break",23);case 15:r.next=19;break;case 17:if(!(i>n.webAppStepper)){r.next=19;break}return r.abrupt("break",23);case 19:n.pages.push({sn:a});case 20:l+=n.limit,r.next=9;break;case 23:return""===e.filter&&(e.filter="@"),n.form.filterUnConfirmedUser=e.filter,r.next=27,n._loadUpdatedPaginatedUsers(n.pages[0],e.filter);case 27:case"end":return r.stop()}}),r)})))()},backActionConfirmed:function(e){var t=this;return f()(m.a.mark((function r(){var n,a,i,s,o,c,l;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t,a=n.pagesConfirmed[0].sn-2,a<1&&(a=0),i=0,s=n.pagesConfirmed.length,o=n.pagesConfirmed[s-1].sn,c=n.pagesConfirmed[0].sn-1,n.pagesConfirmed=[],l=c*n.limit;case 9:if(!(l<o*n.limit)){r.next=23;break}if(a++,i++,!n.isMobile){r.next=17;break}if(!(i>n.mobileAppStepper)){r.next=15;break}return r.abrupt("break",23);case 15:r.next=19;break;case 17:if(!(i>n.webAppStepper)){r.next=19;break}return r.abrupt("break",23);case 19:n.pagesConfirmed.push({sn:a});case 20:l+=n.limit,r.next=9;break;case 23:return""===e.filter&&(e.filter="@"),n.form.filterConfirmedUser=e.filter,r.next=27,n._loadUpdatedPaginatedConfirmedUsers(n.pagesConfirmed[0],e.filter);case 27:case"end":return r.stop()}}),r)})))()},paginationAction:function(e){var t=this;return f()(m.a.mark((function r(){var n,a;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t,console.log("payload: ",e),n.page=e.page.sn,a=e.filter,r.next=6,n._loadPaginatedUsers(n.page,a);case 6:case"end":return r.stop()}}),r)})))()},paginationActionConfirmed:function(e){var t=this;return f()(m.a.mark((function r(){var n,a;return m.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t,n.pageConfirmed=e.page.sn,a=e.filter,r.next=5,n._loadPaginatedConfirmedUsers(n.pageConfirmed,a);case 5:case"end":return r.stop()}}),r)})))()},_loadUpdatedPaginatedUsers:function(e,t){var r=this;return f()(m.a.mark((function n(){var a,i,s,o,l,f;return m.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=r,i=r.$store.getters["authenticationStore/IdentityModel"],r.$store.commit("authenticationStore/setShowSpinner",!0),a.page=e.sn,""===t&&(t="@"),n.next=7,Object(N["d"])(i.schoolId,t);case 7:return s=n.sent,r.$store.commit("userStore/setUnComfirmedUsers",s.result),n.next=11,Object(N["b"])(i.schoolId,a.page,t);case 11:o=n.sent,l=o.result,o.message,f=l.paginatedUsers,r.$store.commit("authenticationStore/setShowSpinner",!1),a.unConfirmedUsers=c()(f),a.unConfirmedCardList=a.unConfirmedUsers.map((function(e,t){return L(L({sn:t+1,title:"".concat(e.firstName," ").concat(e.lastName),description:e.userType,image:e.fileUrl},e),{},{qBtns:[{label:"Confirm",btnDisabled:!1,name:"confirmUser"}],qSelect:{label:"Designation *",value:e.designationId,type:"text",list:r.$store.getters["staffStore/staffs"].map((function(e){return L(L({},e),{},{type:e.type})})),actionName:"designationAction",visible:!0}})}));case 18:case"end":return n.stop()}}),n)})))()},_loadUpdatedPaginatedConfirmedUsers:function(e,t){var r=this;return f()(m.a.mark((function n(){var a,i,s,o,l,f;return m.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=r,i=r.$store.getters["authenticationStore/IdentityModel"],r.$store.commit("authenticationStore/setShowSpinner",!0),a.page=e.sn,""===t&&(t="@"),n.next=7,Object(N["d"])(i.schoolId,t);case 7:return s=n.sent,r.$store.commit("userStore/setUnComfirmedUsers",s.result),n.next=11,Object(N["b"])(i.schoolId,a.page,t);case 11:o=n.sent,l=o.result,o.message,f=l.paginatedUsers,r.$store.commit("authenticationStore/setShowSpinner",!1),a.confirmedUsers=c()(f),a.unConfirmedCardList=a.confirmedUsers.map((function(e,t){return L(L({sn:t+1,title:"".concat(e.firstName," ").concat(e.lastName),description:e.userType,image:e.fileUrl},e),{},{qBtns:[{label:"Block",btnDisabled:!1,name:"blockUser"}],qSelect:{label:"Designation *",value:e.designationId,type:"text",list:r.$store.getters["staffStore/staffs"].map((function(e){return L(L({},e),{},{type:e.type})})),actionName:"designationAction",visible:!0}})}));case 18:case"end":return n.stop()}}),n)})))()},_loadPaginatedUsers:function(e,t){var r=this;return f()(m.a.mark((function n(){var a,i,s,o,l,f,u,d,p;return m.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=r,""===t&&(t="@"),i=r.$store.getters["authenticationStore/IdentityModel"],r.$store.commit("authenticationStore/setShowSpinner",!0),n.next=6,Object(N["b"])(i.schoolId,e,t);case 6:s=n.sent,o=s.result,s.message,l=o.paginatedUsers,f=o.totalNumberOfUsers,u=o.limit,r.$store.commit("authenticationStore/setShowSpinner",!1),d=0,a.pages=[],a.totalNumberOfUsers=f,a.limit=u,p=0;case 16:if(!(p<f)){n.next=29;break}if(d++,!a.isMobile){n.next=23;break}if(!(d>a.mobileAppStepper)){n.next=21;break}return n.abrupt("break",29);case 21:n.next=25;break;case 23:if(!(d>a.webAppStepper)){n.next=25;break}return n.abrupt("break",29);case 25:a.pages.push({sn:d});case 26:p+=u,n.next=16;break;case 29:a.unConfirmedUsers=c()(l),a.unConfirmedCardList=a.unConfirmedUsers.map((function(e,t){return L(L({sn:t+1,title:"".concat(e.firstName," ").concat(e.lastName),description:e.userType,image:e.fileUrl},e),{},{qBtns:[{label:"Confirm",btnDisabled:!1,name:"confirmUser"}],qSelect:{label:"Designation *",value:e.designationId,type:"text",list:r.$store.getters["staffStore/staffs"].map((function(e){return L(L({},e),{},{type:e.type})})),actionName:"designationAction",visible:!0}})}));case 31:case"end":return n.stop()}}),n)})))()},_loadPaginatedConfirmedUsers:function(e,t){var r=this;return f()(m.a.mark((function n(){var a,i,s,o,l,f,u,d,p;return m.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=r,i=r.$store.getters["authenticationStore/IdentityModel"],r.$store.commit("authenticationStore/setShowSpinner",!0),""===t&&(t="@"),n.next=6,Object(N["a"])(i.schoolId,e,t);case 6:s=n.sent,o=s.result,s.message,l=o.paginatedUsers,f=o.totalNumberOfUsers,u=o.limit,r.$store.commit("authenticationStore/setShowSpinner",!1),d=0,a.pagesConfirmed=[],a.totalNumberOfConfirmedUsers=f,a.limit=u,p=0;case 16:if(!(p<f)){n.next=29;break}if(d++,!a.isMobile){n.next=23;break}if(!(d>a.mobileAppStepper)){n.next=21;break}return n.abrupt("break",29);case 21:n.next=25;break;case 23:if(!(d>a.webAppStepper)){n.next=25;break}return n.abrupt("break",29);case 25:a.pagesConfirmed.push({sn:d});case 26:p+=u,n.next=16;break;case 29:a.confirmedUsers=c()(l),a.confirmedCardList=a.confirmedUsers.map((function(e,t){return L(L({sn:t+1,title:"".concat(e.firstName," ").concat(e.lastName),description:e.userType,image:e.fileUrl},e),{},{qBtns:[{label:"Block",btnDisabled:!1,name:"blockUser"}],qSelect:{label:"Designation *",value:e.designationId,type:"text",list:r.$store.getters["staffStore/staffs"].map((function(e){return L(L({},e),{},{type:e.type})})),actionName:"designationAction",visible:!0}})}));case 31:case"end":return n.stop()}}),n)})))()},setBackRoute:function(){var e=this.$store.getters["authenticationStore/IdentityModel"],t="";t="CEO"===e.schoolId?"/super-admin":"/admin",this.$store.commit("authenticationStore/setBackRoute",t)}},created:function(){var e=this;return f()(m.a.mark((function t(){var r,n,a;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e,n=e.$store.getters["authenticationStore/IdentityModel"],t.next=4,r._loadPaginatedUsers(1,"@");case 4:return t.next=6,r._loadPaginatedConfirmedUsers(1,"@");case 6:return t.next=8,Object(N["d"])(n.schoolId,"@");case 8:a=t.sent,console.log("unConfirmedUsers.result: ",a.result),e.$store.commit("userStore/setUnComfirmedUsers",a.result),e.$store.commit("authenticationStore/setActiveRoute","unconfirmed-users"),e.$store.commit("authenticationStore/setIsError",!1),e.$store.commit("authenticationStore/setErrorMessages",""),r.setBackRoute(),e.$store.commit("authenticationStore/setPageTitle","Users");case 16:case"end":return t.stop()}}),t)})))()}},F=R,J=r("0d59"),W=r("24e8"),G=Object(h["a"])(F,n,a,!1,null,null,null);t["default"]=G.exports;I()(G,"components",{QSpinner:J["a"],QDialog:W["a"]})},b944:function(e,t,r){"use strict";var n=r("0936"),a=r.n(n);a.a}}]);