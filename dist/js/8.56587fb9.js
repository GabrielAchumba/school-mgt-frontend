(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{f87a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-sm"},[a("ExcelImport",{attrs:{title:e.title,applicationColumns:e.applicationColumns},on:{saveTable:function(t){return e.Create(t)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpinner,expression:"showSpinner"}],staticClass:"q-gutter-md row"},[a("div",{staticClass:"col-12 q-pa-sm absolute-center flex flex-center"},[a("q-spinner",{attrs:{color:"accent",size:e.spinnerSize,thickness:e.spinnerThickness}})],1)]),e._l(e.dialogs,(function(t){return a("q-dialog",{key:t.title,model:{value:t.isVisible,callback:function(a){e.$set(t,"isVisible",a)},expression:"dialog.isVisible"}},[a("MessageBox",{attrs:{title:t.title,message:t.message,okayEvent:t.okayEvent,cancelEvent:t.cancelEvent},on:{cancelDialog:function(t){return e.cancelDialog(t)},okDialog:function(t){return e.okDialog(t)}}})],1)}))],2)},n=[],s=(a("23bf"),a("06db"),a("7f7f"),a("8a81"),a("1c4c"),a("5df3"),a("cadf"),a("ac6a"),a("456d"),a("d25f"),a("9986"),a("8e6e"),a("c47a")),i=a.n(s),c=a("fa84"),o=a.n(c),l=(a("6d67"),a("967e")),u=a.n(l),b=a("9bff"),p=a("9e0c"),f=a("39b2"),v=[{title:"Create Results",isVisible:!1,message:"Do you want to create results",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Success",isVisible:!1,message:"Results created successfully!",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Failure",isVisible:!1,message:"",okayEvent:"okDialog",cancelEvent:"cancelDialog"}],d=a("b82d"),h=a("e4b6"),m=a("1c1ce"),k=a("b87a"),x=a("a776"),g=a("0428"),y=a("6132"),w=a("9ac7");function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=j(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw s}}}}function j(e,t){if(e){if("string"===typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var C={computed:{showSpinner:function(){return this.$store.getters["authenticationStore/showSpinner"]},spinnerSize:function(){return this.$store.getters["authenticationStore/spinnerSize"]},spinnerThickness:function(){return this.$store.getters["authenticationStore/spinnerThickness"]}},components:{ExcelImport:p["a"],MessageBox:b["a"]},data:function(){return{title:"Import Results",applicationColumns:[],appVariables:[{variableTitle:"Score",variableName:"score"},{variableTitle:"Maximum Score",variableName:"scoreMax"},{variableTitle:"Class Room",variableName:"classRoom"},{variableTitle:"Level",variableName:"level"},{variableTitle:"Session",variableName:"session"},{variableTitle:"Subject",variableName:"subject"},{variableTitle:"Student's Full Name",variableName:"student"},{variableTitle:"Student's Username",variableName:"studentUserName"},{variableTitle:"Type of Instructor",variableName:"designation"},{variableTitle:"Instructor's Full Name",variableName:"teacher"},{variableTitle:"Instructor's Username",variableName:"instructorUserName"},{variableTitle:"Type of Assessment",variableName:"assessment"},{variableTitle:"Assessment Date",variableName:"createdAt"}],dialogs:v,tableRows:[]}},methods:{Create:function(e){var t=this;t.tableRows=e;var a,r=-1,n=O(t.dialogs);try{for(n.s();!(a=n.n()).done;){var s=a.value;if(r++,"Create Results"==s.title){t.dialogs[r].isVisible=!0;break}}}catch(i){n.e(i)}finally{n.f()}},Cancel:function(){var e=this.$store.getters["authenticationStore/IdentityModel"];"CEO"===e.schoolId?this.$router.push("/super-admin-results"):this.$router.push("/results")},cancelDialog:function(e){var t,a=this,r=-1,n=O(a.dialogs);try{for(n.s();!(t=n.n()).done;){var s=t.value;if(r++,s.title===e){a.dialogs[r].isVisible=!1;break}}}catch(i){n.e(i)}finally{n.f()}},createResults:function(){var e=this;return o()(u.a.mark((function t(){var a,r,n,s,i,c,o,l,b,p,v,S,I,j,N,C,T,D,E,V,$,R,A,M,P,U,q,z,B,F,_,J,Q,W,L,G,H,K,X,Y,Z,ee,te,ae,re,ne,se,ie,ce,oe,le,ue,be,pe,fe,ve,de;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,r=e.$store.getters["authenticationStore/IdentityModel"],t.next=4,Object(d["a"])(r.schoolId);case 4:return n=t.sent,s=n.result,t.next=8,Object(h["a"])(r.schoolId);case 8:return i=t.sent,c=i.result,t.next=12,Object(m["a"])(r.schoolId);case 12:return o=t.sent,l=o.result,t.next=16,Object(k["a"])(r.schoolId);case 16:return b=t.sent,p=b.result,t.next=20,Object(g["a"])(r.schoolId);case 20:return v=t.sent,S=v.result,t.next=24,Object(x["a"])(r.schoolId);case 24:return I=t.sent,j=I.result,t.next=28,Object(y["b"])(r.schoolId);case 28:return N=t.sent,C=N.result,t.next=32,Object(w["a"])(r.schoolId);case 32:T=t.sent,D=T.result,console.log("assessments: ",S),console.log("classrooms: ",c),E=[],V=!1,$=O(a.tableRows),t.prev=39,$.s();case 41:if((R=$.n()).done){t.next=226;break}A=R.value,M={},P=O(a.appVariables);try{for(P.s();!(U=P.n()).done;)q=U.value,M["".concat(q.variableName)]=A["".concat(q.variableTitle)]}catch(u){P.e(u)}finally{P.f()}M.schoolId=r.schoolId,V=!1,z=O(s),t.prev=49,z.s();case 51:if((B=z.n()).done){t.next=59;break}if(F=B.value,F.type!==M["subject"]){t.next=57;break}return M.subjectId=F.id,V=!0,t.abrupt("break",59);case 57:t.next=51;break;case 59:t.next=64;break;case 61:t.prev=61,t.t0=t["catch"](49),z.e(t.t0);case 64:return t.prev=64,z.f(),t.finish(64);case 67:if(0!=V){t.next=69;break}return t.abrupt("continue",224);case 69:V=!1,_=O(S),t.prev=71,_.s();case 73:if((J=_.n()).done){t.next=81;break}if(Q=J.value,Q.type!==M["assessment"]){t.next=79;break}return M.assessmentId=Q.id,V=!0,t.abrupt("break",81);case 79:t.next=73;break;case 81:t.next=86;break;case 83:t.prev=83,t.t1=t["catch"](71),_.e(t.t1);case 86:return t.prev=86,_.f(),t.finish(86);case 89:if(0!=V){t.next=91;break}return t.abrupt("continue",224);case 91:V=!1,W=O(c),t.prev=93,W.s();case 95:if((L=W.n()).done){t.next=103;break}if(G=L.value,G.type!==M["classRoom"]){t.next=101;break}return M.classRoomId=G.id,V=!0,t.abrupt("break",103);case 101:t.next=95;break;case 103:t.next=108;break;case 105:t.prev=105,t.t2=t["catch"](93),W.e(t.t2);case 108:return t.prev=108,W.f(),t.finish(108);case 111:if(0!=V){t.next=113;break}return t.abrupt("continue",224);case 113:V=!1,H=O(j),t.prev=115,H.s();case 117:if((K=H.n()).done){t.next=125;break}if(X=K.value,X.type!==M["level"]){t.next=123;break}return M.levelId=X.id,V=!0,t.abrupt("break",125);case 123:t.next=117;break;case 125:t.next=130;break;case 127:t.prev=127,t.t3=t["catch"](115),H.e(t.t3);case 130:return t.prev=130,H.f(),t.finish(130);case 133:if(0!=V){t.next=135;break}return t.abrupt("continue",224);case 135:V=!1,Y=O(D),t.prev=137,Y.s();case 139:if((Z=Y.n()).done){t.next=147;break}if(ee=Z.value,ee.type!==M["session"]){t.next=145;break}return M.sessionId=ee.id,V=!0,t.abrupt("break",147);case 145:t.next=139;break;case 147:t.next=152;break;case 149:t.prev=149,t.t4=t["catch"](137),Y.e(t.t4);case 152:return t.prev=152,Y.f(),t.finish(152);case 155:if(0!=V){t.next=157;break}return t.abrupt("continue",224);case 157:V=!1,te=O(p),t.prev=159,te.s();case 161:if((ae=te.n()).done){t.next=169;break}if(re=ae.value,re.type!==M["designation"]){t.next=167;break}return M.designationId=re.id,V=!0,t.abrupt("break",169);case 167:t.next=161;break;case 169:t.next=174;break;case 171:t.prev=171,t.t5=t["catch"](159),te.e(t.t5);case 174:return t.prev=174,te.f(),t.finish(174);case 177:if(0!=V){t.next=179;break}return t.abrupt("continue",224);case 179:V=!1,ne=O(l),t.prev=181,ne.s();case 183:if((se=ne.n()).done){t.next=191;break}if(ie=se.value,ie.userName!==M["studentUserName"]){t.next=189;break}return M.studentId=ie.id,V=!0,t.abrupt("break",191);case 189:t.next=183;break;case 191:t.next=196;break;case 193:t.prev=193,t.t6=t["catch"](181),ne.e(t.t6);case 196:return t.prev=196,ne.f(),t.finish(196);case 199:if(0!=V){t.next=201;break}return t.abrupt("continue",224);case 201:V=!1,ce=O(C),t.prev=203,ce.s();case 205:if((oe=ce.n()).done){t.next=213;break}if(le=oe.value,le.userName!==M["instructorUserName"]){t.next=211;break}return M.teacherId=le.id,V=!0,t.abrupt("break",213);case 211:t.next=205;break;case 213:t.next=218;break;case 215:t.prev=215,t.t7=t["catch"](203),ce.e(t.t7);case 218:return t.prev=218,ce.f(),t.finish(218);case 221:if(0!=V){t.next=223;break}return t.abrupt("continue",224);case 223:E.push(M);case 224:t.next=41;break;case 226:t.next=231;break;case 228:t.prev=228,t.t8=t["catch"](39),$.e(t.t8);case 231:return t.prev=231,$.f(),t.finish(231);case 234:return console.log("results: ",E),ue="result/createmany",be={url:ue,req:E},e.$store.commit("authenticationStore/setShowSpinner",!0),t.next=240,Object(f["b"])(be);case 240:pe=t.sent,e.$store.commit("authenticationStore/setShowSpinner",!1),fe=pe.data,ve=fe.message,de=fe.success,console.log("message: ",ve),a.dialogs[0].isVisible=!1,de?a.dialogs[1].isVisible=!0:(a.dialogs[2].message=ve,a.dialogs[2].isVisible=!0);case 246:case"end":return t.stop()}}),t,null,[[39,228,231,234],[49,61,64,67],[71,83,86,89],[93,105,108,111],[115,127,130,133],[137,149,152,155],[159,171,174,177],[181,193,196,199],[203,215,218,221]])})))()},okDialog:function(e){var t=this;return o()(u.a.mark((function a(){var r,n,s,i,c,o;return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("payload: ",e),r=t,n=-1,s=O(r.dialogs),a.prev=4,s.s();case 6:if((i=s.n()).done){a.next=23;break}if(c=i.value,n++,c.title!==e){a.next=21;break}a.t0=e,a.next="Create Results"===a.t0?13:"Success"===a.t0?16:19;break;case 13:return a.next=15,r.createResults();case 15:return a.abrupt("break",19);case 16:return o=t.$store.getters["authenticationStore/IdentityModel"],"CEO"===o.schoolId?t.$router.push("/super-admin-results"):t.$router.push("/results"),a.abrupt("break",19);case 19:return r.dialogs[n].isVisible=!1,a.abrupt("break",23);case 21:a.next=6;break;case 23:a.next=28;break;case 25:a.prev=25,a.t1=a["catch"](4),s.e(a.t1);case 28:return a.prev=28,s.f(),a.finish(28);case 31:case"end":return a.stop()}}),a,null,[[4,25,28,31]])})))()},setWorkSheetColumns:function(){var e=this,t={label:"",value:"",type:"text",list:[],actionName:"referedByAction",visible:!0};t.list=e.appVariables.map((function(e){return{type:e.variableTitle,value:e.variableTitle,label:e.variableTitle,variableName:e.variableName}}));for(var a=0;a<e.appVariables.length;a++)e.applicationColumns.push(I({},t)),e.applicationColumns[a].id="Application Column ".concat(a+1),e.applicationColumns[a].value=e.applicationColumns[a].list[a].value,e.applicationColumns[a].sn=a}},created:function(){var e=this;e.setWorkSheetColumns()}},T=C,D=a("2877"),E=a("0d59"),V=a("24e8"),$=a("eebe"),R=a.n($),A=Object(D["a"])(T,r,n,!1,null,null,null);t["default"]=A.exports;R()(A,"components",{QSpinner:E["a"],QDialog:V["a"]})}}]);