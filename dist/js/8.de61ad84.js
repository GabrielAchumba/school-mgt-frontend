(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{f6b42:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{staticClass:"bg-primary",attrs:{view:"hHh lpR fFf"}},[n("q-header",{staticClass:"q-pa-none bg-primary"},[n("MainMenuBar",{attrs:{menuList:e.menuList},on:{logoutUser:function(t){return e.logoutUser(t)}}})],1),n("q-page-container",{staticStyle:{height:"100vh"}},[n("router-view")],1),n("q-dialog",{model:{value:e.globalSearchDialog,callback:function(t){e.globalSearchDialog=t},expression:"globalSearchDialog"}},[n("searchDialog")],1)],1)},r=[],o=n("c47a"),a=n.n(o),i=n("fa84"),c=n.n(i),u=n("967e"),l=n.n(u),h=(n("6d67"),n("456d"),n("8a81"),n("d25f"),n("9986"),n("8e6e"),n("23bf"),n("06db"),n("7f7f"),n("1c4c"),n("5df3"),n("cadf"),n("ac6a"),n("e4b6")),m=n("b87a"),g=n("1c1ce"),d=n("b82d"),f=n("0428"),p=n("6b11"),b=n("6cb6"),w=n("4580"),S=n("39b2"),y=function(){var e=c()(l.a.mark((function e(t){var n,s,r,o,a,i;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="payment/check-results-subscription/".concat(t),e.next=3,Object(S["a"])({url:n});case 3:if(s=e.sent,r=s.data,o=r.data,a=r.success,i=r.message,!a){e.next=9;break}return e.abrupt("return",{result:o,message:"",success:a});case 9:return e.abrupt("return",{result:!1,message:i,success:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=[{name:"showPage",title:"Home",description:"Landing Page",image:"/statics/images/staffs.jpg",to:"/admin"},{name:"showPage",title:"Staff",description:"The types of employees of the schools",image:"/statics/images/staffs.jpg",to:"/staff-landing"},{name:"showPage",title:"Users",description:"The employees of the schools",image:"/statics/images/staffs.jpg",to:"/user-landing"},{name:"showPage",title:"Class Rooms",description:"The school's class rooms",image:"/statics/images/classroom.jpg",to:"/classroom-landing"},{name:"showPage",title:"Subjects",description:"Subjects that students learn in the school",image:"/statics/images/subjects.jpg",to:"/subject-landing"},{name:"showPage",title:"Student",description:"Students in the school",image:"/statics/images/students.jpg",to:"/student-landing"},{name:"showPage",title:"Assessment",description:"Student's assessment in the school",image:"/statics/images/assessment.jpg",to:"/assessment-landing"},{name:"showPage",title:"Student Results",description:"Student's results in the school",image:"/statics/images/results.jpg",to:"/result-landing"},{name:"showPage",title:"Subscription",description:"The shool management subscription plans",image:"/statics/images/lesson.jpg",to:"/subscription-landing"},{name:"showPage",title:"File Management",description:"Managing teachers lesson notes, past questions and answers, and other office files",image:"/statics/images/lesson.jpg",to:"/admin"},{name:"showPage",title:"Schools Payments",description:"All Payments made by schools you refered to Newway",image:"/statics/images/staffs.jpg",to:"/school-all-payment-landing"}];function j(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function O(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={name:"AdminLayout",computed:{IdentityModel:function(){return this.$store.getters["authenticationStore/IdentityModel"]},Loginstatus:function(){return this.$store.getters["authenticationStore/Loginstatus"]},theme_color:function(){return this.$store.getters["authenticationStore/theme_color"]},globalSearchDialog:function(){return this.$store.getters["authenticationStore/globalSearchDialog"]}},components:{MainMenuBar:b["a"],searchDialog:w["a"]},data:function(){return{schoolName:"",leftDrawerOpen:!0,showAccountDetails:!1,rightMenuIcon:"menu",navs:[],rightDrawerOpen:window.innerWidth<700,menuList:v}},methods:{showSelectedRouters:function(){return console.log("this.$router: ",this.$router),"/admin"!=this.$router.history.current.fullPath},getIsUserPhoto:function(){var e=this;return""!=e.IdentityModel.base64String&&void 0!=e.IdentityModel.base64String},toggleButton:function(){var e=this;1==e.showAccountDetails?e.showAccountDetails=!1:e.showAccountDetails=!0},logoutUser:function(){this.$store.dispatch("authenticationStore/Logout")},scrollToElement:function(e){this.$router.push("".concat(e))},onResize:function(e){var t=window.innerWidth,n=this;n.rightDrawerOpen=!1,t<700&&(n.rightDrawerOpen=!0),this.$store.commit("authenticationStore/setIsMobile",n.rightDrawerOpen)},checkResultSubscritpion:function(){var e=this;return c()(l.a.mark((function t(){var n,s,r,o,a,i,c,u;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,s=e.$store.getters["authenticationStore/IdentityModel"],t.next=4,y(s.schoolId);case 4:if(r=t.sent,o=r.result,a=r.success,e.$store.commit("administratorStore/SetIsResultsAnalysisSubscription",o),i=n.menuList.map((function(e){return P({},e)})),i.shift(),a){t.next=32;break}c=-1,u=0,u=0;case 14:if(!(u<i.length)){t.next=21;break}if("Student Results"!=i[u].title){t.next=18;break}return c=u,t.abrupt("break",21);case 18:u++,t.next=14;break;case 21:-1!=c&&i.splice(c,1),c=-1,u=0;case 24:if(!(u<n.menuList.length)){t.next=31;break}if("Student Results"!=n.menuList[u].title){t.next=28;break}return c=u,t.abrupt("break",31);case 28:u++,t.next=24;break;case 31:-1!=c&&n.menuList.splice(c,1);case 32:e.$store.commit("administratorStore/SetMainMenuList",i);case 33:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return c()(l.a.mark((function t(){var n,s,r,o,a,i,c,u,b,w,S;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("seen 2"),window.addEventListener("resize",e.onResize),n=e,e.$store.commit("authenticationStore/setActiveRoute","adminLanding"),window.innerWidth<700&&(n.rightDrawerOpen=!0),e.$store.commit("authenticationStore/setIsMobile",n.rightDrawerOpen),t.next=8,Object(p["a"])();case 8:s=t.sent,e.$store.commit("schoolStore/SetSchools",s.result),r=e.$store.getters["authenticationStore/IdentityModel"],o=j(s.result),t.prev=12,o.s();case 14:if((a=o.n()).done){t.next=22;break}if(i=a.value,i.id!==r.schoolId){t.next=20;break}return n.schoolName=i.schoolName,e.$store.commit("schoolStore/SetUserSchool",i),t.abrupt("break",22);case 20:t.next=14;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](12),o.e(t.t0);case 27:return t.prev=27,o.f(),t.finish(27);case 30:if("Admin"!=r.userType||"CEO"===r.designationId){t.next=52;break}return t.next=33,Object(h["a"])(r.schoolId);case 33:return c=t.sent,e.$store.commit("classRoomStore/SetClassRooms",c.result),t.next=37,Object(m["a"])(r.schoolId);case 37:return u=t.sent,e.$store.commit("staffStore/SetStaffs",u.result),t.next=41,Object(g["a"])(r.schoolId);case 41:return b=t.sent,e.$store.commit("studentStore/SetStudents",b.result),t.next=45,Object(d["a"])(r.schoolId);case 45:return w=t.sent,e.$store.commit("subjectStore/SetSubjects",w.result),t.next=49,Object(f["a"])(r.schoolId);case 49:S=t.sent,e.$store.commit("assessmentStore/SetAssessments",S.result),n.checkResultSubscritpion();case 52:case"end":return t.stop()}}),t,null,[[12,24,27,30]])})))()},destroyed:function(){window.removeEventListener("resize",this.onResize)}},D=$,I=n("2877"),M=n("4d5a"),A=n("e359"),L=n("09e3"),R=n("24e8"),E=n("eebe"),C=n.n(E),T=Object(I["a"])(D,s,r,!1,null,null,null);t["default"]=T.exports;C()(T,"components",{QLayout:M["a"],QHeader:A["a"],QPageContainer:L["a"],QDialog:R["a"]})}}]);