(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"0593":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("div",[n("q-space"),n("p",[e._v(e._s(e.minutes)+": "+e._s(e.seconds)+" of 60 minutes")])],1),n("div",[n("p",{staticClass:"q-pa-sm text-h6"},[e._v(e._s(e.selectedQuestion))])]),e.isImage?n("div",{staticClass:"q-pa-sm geeks"},[n("img",{attrs:{src:e.selectedImageUrl,"spinner-color":"accent"}})]):e._e(),n("q-list",e._l(e.answerOptions,(function(t){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.val,attrs:{tag:"label"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-radio",{attrs:{val:t.val,color:t.color},on:{input:function(t){return e.onOptionSelected(t)}},model:{value:e.vmodel,callback:function(t){e.vmodel=t},expression:"vmodel"}})],1),n("q-item-section",[n("q-item-label",[e._v(e._s(t.label))])],1)],1)})),1),e.setIsResponsive?n("div",{staticClass:"row q-pa-sm"},[n("q-space"),e._l(e.qBtns,(function(t){return n("q-icon",{key:t.label,staticClass:"q-pa-md text-accent",attrs:{name:t.icon,size:"30px"},on:{click:function(n){return e.ClickAction(t.name)}}},[n("q-tooltip",[e._v("\n            "+e._s(t.label)+"\n          ")])],1)}))],2):n("div",{staticClass:"row q-pa-sm"},[n("q-space"),e._l(e.qBtns,(function(t){return n("q-btn",{key:t.label,staticClass:"q-ma-sm bg-accent text-primary",attrs:{label:t.label,type:"button",size:"md",icon:t.icon,"no-caps":""},on:{click:function(n){return e.ClickAction(t.name)}}})}))],2),e._l(e.dialogs,(function(t){return n("q-dialog",{key:t.title,model:{value:t.isVisible,callback:function(n){e.$set(t,"isVisible",n)},expression:"dialog.isVisible"}},[n("MessageBox",{attrs:{title:t.title,message:t.message,okayEvent:t.okayEvent,cancelEvent:t.cancelEvent},on:{cancelDialog:function(t){return e.cancelDialog(t)},okDialog:function(t){return e.okDialog(t)}}})],1)}))],2)},o=[],a=(n("23bf"),n("7f7f"),n("8a81"),n("1c4c"),n("5df3"),n("cadf"),n("ac6a"),n("fa84")),r=n.n(a),i=(n("6d67"),n("f576"),n("06db"),n("6b54"),n("967e")),l=n.n(i),c=n("7ac8"),u=n("9bff");function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){i=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(i)throw a}}}}function v(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var f={computed:{setIsResponsive:function(){var e=window.innerWidth;return e<700}},components:{MessageBox:u["a"]},data:function(){return{dialogs:[{title:"Submit Answers",isVisible:!1,message:"Do you want to submit your results",okayEvent:"okDialog",cancelEvent:"cancelDialog"}],vmodel:"",name:"answers",color:"cyan",shape:"line",count:0,minutes:0,seconds:0,answerOptions:[{vmodel:"",val:"line",label:"(A) Line",color:"green",questionId:"",subjectId:"",levelId:""},{vmodel:"",val:"rectangle",label:"(B) Rectangle",color:"green",questionId:"",subjectId:"",levelId:""},{vmodel:"",val:"ellipse",label:"(C) Ellipse",color:"green",questionId:"",subjectId:"",levelId:""},{vmodel:"",val:"polygon",label:"(D) Polygon",color:"green",questionId:"",subjectId:"",levelId:""}],answers:[],answersIndex:[],questions:[],qBtns:[{label:"Back",name:"Back",icon:""},{label:"Next",name:"Next",icon:""},{label:"Submit",name:"Submit",icon:""}],counter:-1,selectedQuestion:"",selectedImageUrl:"",isImage:!1,options:[{id:0,value:"A"},{id:1,value:"B"},{id:2,value:"C"},{id:3,value:"D"},{id:4,value:"E"}]}},methods:{ClickAction:function(e){var t=this;switch(e){case"Back":t.previousQuestion();break;case"Next":t.nextQuestion();break;case"Submit":t.submit();break}},cancelDialog:function(e){var t,n=this,s=-1,o=d(n.dialogs);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(s++,a.title===e){n.dialogs[s].isVisible=!1;break}}}catch(r){o.e(r)}finally{o.f()}},submit:function(){var e,t=this,n=-1,s=d(t.dialogs);try{for(s.s();!(e=s.n()).done;){var o=e.value;if(n++,"Submit Answers"==o.title){t.dialogs[n].isVisible=!0;break}}}catch(a){s.e(a)}finally{s.f()}},okDialog:function(e){var t=this;return r()(l.a.mark((function n(){var s,o,a,r,i;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("payload: ",e),s=t,o=-1,a=d(s.dialogs),n.prev=4,a.s();case 6:if((r=a.n()).done){n.next=20;break}if(i=r.value,o++,i.title!==e){n.next=18;break}n.t0=e,n.next="Submit Answers"===n.t0?13:16;break;case 13:return n.next=15,s.submitAnsweredQuestions();case 15:return n.abrupt("break",16);case 16:return s.dialogs[o].isVisible=!1,n.abrupt("break",20);case 18:n.next=6;break;case 20:n.next=25;break;case 22:n.prev=22,n.t1=n["catch"](4),a.e(n.t1);case 25:return n.prev=25,a.f(),n.finish(25);case 28:case"end":return n.stop()}}),n,null,[[4,22,25,28]])})))()},setAnswerOption:function(e){var t,n="No Answer",s=-1,o=["A","B","C","D","E","F","G"],a=d(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(s++,-1!==r){n=o[s];break}}}catch(i){a.e(i)}finally{a.f()}return n},submitAnsweredQuestions:function(){var e=this;return r()(l.a.mark((function t(){var n,s,o,a,r,i,u,v,m;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,s=e.$store.getters["authenticationStore/IdentityModel"],o=[],a=-1,r=d(n.questions);try{for(r.s();!(i=r.n()).done;)u=i.value,a++,o.push({question:u.question,answer:n.answers[a].vmodel,answerOption:n.setAnswerOption(n.answersIndex[a]),subjectId:u.subjectId,levelId:u.levelId,questionId:u._id,createdBy:s.id,schoolId:s.schoolId})}catch(l){r.e(l)}finally{r.f()}return v={url:"examanswer/computeScore",req:o},console.log("payload: ",v),t.next=10,Object(c["b"])(v);case 10:m=t.sent,console.log("data: ",m.data),e.$store.commit("examStore/setScore",m.data.score),e.$store.commit("examStore/setTotalNumber",m.data.totalNumber),e.$router.push("/exam-score");case 15:case"end":return t.stop()}}),t)})))()},onOptionSelected:function(e){var t,n=this,s=-1,o=-1,a=d(n.answerOptions);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(s++,r.val===e){n.answerOptions[s].vmodel=n.vmodel,o=s;break}}}catch(l){a.e(l)}finally{a.f()}if(-1!==o)for(var i=0;i<n.answers.length;i++)if(n.answers[i].questionId===n.answerOptions[o].questionId){n.answersIndex[i]=n.answerOptions.map((function(e){return-1})),n.answers[i]=n.answerOptions[o],n.answers[i].vmodel=n.vmodel,n.answersIndex[i][o]=o,!1;break}},getAnswerOptions:function(){var e=this,t="@*%#";e.answerOptions=e.questions[e.counter].answerOptions.map((function(n,s){var o={vmodel:"",val:n.answer,label:"(".concat(e.options[s].value,") ").concat(n.answer),color:"green",questionId:e.questions[e.counter]._id,subjectId:e.questions[e.counter].subjectId,levelId:e.questions[e.counter].levelId};return-1!==e.answersIndex[e.counter][s]?(o.vmodel=n.answer,t=n.answer,e.vmodel=t):o.vmodel="",o})),e.onOptionSelected(t)},nextQuestion:function(){var e=this;e.counter++,e.counter>e.questions.length-1&&(e.counter=e.questions.length-1),e.selectedQuestion="Question ".concat(e.counter+1,": ").concat(e.questions[e.counter].question),e.isImage=!1,""!==e.questions[e.counter].cloudImageUrl&&(e.selectedImageUrl=e.questions[e.counter].cloudImageUrl,e.isImage=!0),e.getAnswerOptions()},previousQuestion:function(){var e=this;e.counter--,e.counter<0&&(e.counter=0),e.selectedQuestion="Question ".concat(e.counter+1,": ").concat(e.questions[e.counter].question),e.isImage=!1,""!==e.questions[e.counter].cloudImageUrl&&(e.selectedImageUrl=e.questions[e.counter].cloudImageUrl,e.isImage=!0),e.getAnswerOptions()},initializeAnswers:function(){var e=this;e.answers=[];var t=e.questions.length,n=0;for(n=0;n<t;n++){var s=e.questions[n].answerOptions.map((function(e){return-1}));e.answersIndex.push(s),e.answers.push({vmodel:"",val:"line",label:"(A) Line",color:"green",questionId:e.questions[n]._id,subjectId:e.questions[n].subjectId,levelId:e.questions[n].levelId})}},renderTimer:function(){var e=this;e.count+=1,e.minutes=Math.floor(e.count/60).toString().padStart(2,"0"),e.seconds=(e.count%60).toString().padStart(2,"0")}},mounted:function(){var e=this;return r()(l.a.mark((function t(){var n;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e,setInterval((function(){n.renderTimer()}),1e3),"60"!==n.minutes){t.next=6;break}return console.log("context.minutes: ",n.minutes),t.next=6,n.submitAnsweredQuestions();case 6:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;e.questions=this.$store.getters["examStore/questions"],e.initializeAnswers(),e.nextQuestion()}},p=f,b=(n("db4d"),n("2877")),g=n("2c91"),w=n("1c1c"),I=n("66e5"),q=n("4074"),h=n("3786"),y=n("0170"),k=n("0016"),x=n("05c0"),A=n("9c40"),S=n("24e8"),Q=n("714f"),O=n("eebe"),_=n.n(O),j=Object(b["a"])(p,s,o,!1,null,"31c841e6",null);t["default"]=j.exports;_()(j,"components",{QSpace:g["a"],QList:w["a"],QItem:I["a"],QItemSection:q["a"],QRadio:h["a"],QItemLabel:y["a"],QIcon:k["a"],QTooltip:x["a"],QBtn:A["a"],QDialog:S["a"]}),_()(j,"directives",{Ripple:Q["a"]})},db4d:function(e,t,n){"use strict";var s=n("f856"),o=n.n(s);o.a},f856:function(e,t,n){}}]);