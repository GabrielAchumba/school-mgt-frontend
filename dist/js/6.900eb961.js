(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0d07":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"row",staticStyle:{height:"95vh"}},[e.isMobile?e._e():t("div",{staticClass:"col-6"},[t("TorpaLandingPage")],1),t("div",{staticClass:"col"},[t("login")],1)])},o=[],a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"q-pa-md"},[e.isForgotPassword?t("Form",{attrs:{formData:e.forgotPasswordForm},on:{SendOTP:function(s){return e.SendOTP(s)},CancelForgotPassword:function(s){return e.CancelForgotPassword(s)}}}):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isForgotPassword,expression:"isForgotPassword"}],attrs:{id:"recaptcha-container"}}),t("br"),e.isVerifyOTP?t("Form",{attrs:{formData:e.verifyOTPForm},on:{VerifyOTP:function(s){return e.VerifyOTP(s)},CancelVerifyOTP:function(s){return e.CancelVerifyOTP(s)}}}):e._e(),e.isResetPassword?t("Form",{attrs:{formData:e.resetPasswordForm},on:{ResetPassword:function(s){return e.ResetPassword(s)},CancelResetPassword:function(s){return e.CancelResetPassword(s)},qInputTemplateAction:function(s){return e.ResetPasswordQInputTemplateAction(s)}}}):e._e(),e.isLoginForm?t("Form",{attrs:{formData:e.loginForm},on:{SignIn:function(s){return e.SignIn(s)},ForgotPassword:function(s){return e.ForgotPassword(s)},SignUp:function(s){return e.SignUp(s)},qInputTemplateAction:function(s){return e.LoginQInputTemplateAction(s)}}}):e._e(),e._l(e.dialogs,(function(s){return t("q-dialog",{key:s.title,model:{value:s.isVisible,callback:function(t){e.$set(s,"isVisible",t)},expression:"dialog.isVisible"}},[t("MessageBox",{attrs:{title:s.title,message:s.message,okayEvent:s.okayEvent,cancelEvent:s.cancelEvent},on:{cancelDialog:function(s){return e.cancelDialog(s)},okDialog:function(s){return e.okDialog(s)}}})],1)}))],2)},r=[],i=(t("06db"),t("8a81"),t("1c4c"),t("5df3"),t("cadf"),t("ac6a"),t("fa84")),l=t.n(i),c=t("967e"),u=t.n(c),d=(t("7f7f"),t("23bf"),t("9bff")),g=t("9437"),f=t("39b2"),m=t("2181"),p={title:"Sign in User",qInputs:[{label:"User Name *",name:"",type:"text",Template:{sn:0,iconName:"",visible:!1}},{label:"Password *",name:"",type:"password",Template:{sn:1,iconName:"visibility_off",visible:!0}}],qBtns:[{label:"Forgot Password",name:"ForgotPassword",icon:"lock_reset"},{label:"Sign In",name:"SignIn",icon:"login"},{label:"Sign Up",name:"SignUp",icon:"how_to_reg"}],qDates:[],GroupedCheckBoxes:[],clearQInputs:function(){var e=0;for(e=0;e<this.qInputs.length;e++)this.qInputs[e].name=""}},v={title:"Forgot User Password",qSelects:[{label:"Country *",value:"",type:"text",list:m["a"],actionName:"countryAction",visible:!0}],qInputs:[{label:"User Name *",name:"",type:"text",Template:{sn:0,iconName:"",visible:!1}},{label:"Phone Number *",name:"",type:"phoneNumber",Template:{sn:1,iconName:"phone",visible:!1}}],qBtns:[{label:"Send OTP",name:"SendOTP",icon:"send"},{label:"Cancel",name:"CancelForgotPassword",icon:"close"}],qDates:[],GroupedCheckBoxes:[],clearQInputs:function(){var e=0;for(e=0;e<this.qInputs.length;e++)this.qInputs[e].name=""},clearQSelects:function(){var e=0;for(e=0;e<this.qSelects.length;e++)this.qSelects[e].value="",this.qSelects[e].visible=!0}},b={title:"Verfiy OTP",qInputs:[{label:"otp *",name:"",type:"text",Template:{sn:0,iconName:"",visible:!1}}],qBtns:[{label:"Verify",name:"VerifyOTP",icon:"verify_user"},{label:"Cancel",name:"CancelVerifyOTP",icon:"close"}],qDates:[],GroupedCheckBoxes:[],clearQInputs:function(){var e=0;for(e=0;e<this.qInputs.length;e++)this.qInputs[e].name=""}},w={title:"Reset Password",qInputs:[{label:"Password *",name:"",type:"password",Template:{sn:0,iconName:"visibility_off",visible:!0}},{label:"Password Confirm *",name:"",type:"password",Template:{sn:1,iconName:"visibility_off",visible:!0}}],qBtns:[{label:"Reset Password",name:"ResetPassword",icon:"lock_reset"},{label:"Cancel",name:"CancelResetPassword",icon:"close"}],qDates:[],GroupedCheckBoxes:[],clearQInputs:function(){var e=0;for(e=0;e<this.qInputs.length;e++)this.qInputs[e].name=""}},h=[{title:"Sign In",isVisible:!1,message:"Do you want to log in?",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Sign In Success",isVisible:!1,message:"You have successfully signed in!",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Sign In Failure",isVisible:!1,message:"Wrong credentials. Please check your sign-in credentials",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Forgot Password",isVisible:!1,message:"Did you forget your password?",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Send OTP",isVisible:!1,message:"OTP will be sent to your phone number",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Send OTP Success",isVisible:!1,message:"OTP successfully send to your phone number. Please check your phone",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Send OTP Failure",isVisible:!1,message:"Failed to send OTP to your phone number. Please try again",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Verify OTP",isVisible:!1,message:"Let us verify the OTP",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Verify OTP Success",isVisible:!1,message:"OTP is current!",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Verify OTP Failure",isVisible:!1,message:"Wrong OTP",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Reset Password",isVisible:!1,message:"Do you want to reset password?",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Reset Password Success",isVisible:!1,message:"Password changed successfully.",okayEvent:"okDialog",cancelEvent:"cancelDialog"},{title:"Reset Password Failure",isVisible:!1,message:"Failed to reset password. Please try again",okayEvent:"okDialog",cancelEvent:"cancelDialog"}],P=t("ea7b"),y=t("260b");function F(e,s){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=k(e))||s&&e&&"number"===typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return r=e.done,e},e:function(e){i=!0,a=e},f:function(){try{r||null==t.return||t.return()}finally{if(i)throw a}}}}function k(e,s){if(e){if("string"===typeof e)return S(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,s):void 0}}function S(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,n=new Array(s);t<s;t++)n[t]=e[t];return n}var I={apiKey:"AIzaSyB9VzN87QcRpEbSegBYjZBTqigdJLkiBAc",authDomain:"lemongatetech.firebaseapp.com",databaseURL:"https://lemongatetech.firebaseio.com",projectId:"lemongatetech",storageBucket:"lemongatetech.appspot.com",messagingSenderId:"391787476785",appId:"1:391787476785:web:48fc551307c092ff8ae210"},T=(Object(y["a"])(I),Object(P["b"])()),O={computed:{visible:function(){return this.$store.getters["authenticationStore/visible"]},showSimulatedReturnData:function(){return this.$store.getters["authenticationStore/showSimulatedReturnData"]}},components:{MessageBox:d["a"],Form:g["a"]},data:function(){return{isForgotPassword:!1,isVerifyOTP:!1,isResetPassword:!1,isLoginForm:!0,loginForm:p,forgotPasswordForm:v,verifyOTPForm:b,resetPasswordForm:w,dialogs:h,token:"",user:{}}},methods:{SignUp:function(){this.$router.push("/register")},LoginQInputTemplateAction:function(e){var s=this,t=e.sn;"visibility_off"===s.loginForm.qInputs[t].Template.iconName?(s.loginForm.qInputs[t].Template.iconName="visibility",s.loginForm.qInputs[t].type="text"):(s.loginForm.qInputs[t].Template.iconName="visibility_off",s.loginForm.qInputs[t].type="password")},ResetPasswordQInputTemplateAction:function(e){console.log(e);var s=this,t=e.sn;"visibility_off"===s.resetPasswordForm.qInputs[t].Template.iconName?(s.resetPasswordForm.qInputs[t].Template.iconName="visibility",s.resetPasswordForm.qInputs[t].type="text"):(s.resetPasswordForm.qInputs[t].Template.iconName="visibility_off",s.resetPasswordForm.qInputs[t].type="password")},CancelForgotPassword:function(){var e=this;e.isLoginForm=!0,e.isForgotPassword=!1,e.isResetPassword=!1,e.isVerifyOTP=!1},CancelVerifyOTP:function(){var e=this;e.isLoginForm=!1,e.isForgotPassword=!0,e.isResetPassword=!1,e.isVerifyOTP=!1},CancelResetPassword:function(){var e=this;e.isLoginForm=!1,e.isForgotPassword=!1,e.isResetPassword=!1,e.isVerifyOTP=!0},SendOTP:function(){var e,s=this,t=-1,n=F(s.dialogs);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(t++,"Send OTP"==o.title){s.dialogs[t].isVisible=!0;break}}}catch(a){n.e(a)}finally{n.f()}},SignIn:function(){var e,s=this,t=-1,n=F(s.dialogs);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(t++,"Sign In"==o.title){s.dialogs[t].isVisible=!0;break}}}catch(a){n.e(a)}finally{n.f()}},ForgotPassword:function(){var e=this;e.isForgotPassword=!0,e.isResetPassword=!1,e.isLoginForm=!1,e.isVerifyOTP=!1},ResetPassword:function(){var e,s=this,t=-1,n=F(s.dialogs);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(t++,"Reset Password"==o.title){s.dialogs[t].isVisible=!0;break}}}catch(a){n.e(a)}finally{n.f()}},ChangePassword:function(){var e=this;return l()(u.a.mark((function s(){var t,n,o,a,r;return u.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t=e,n="user/resetpassword",o={url:n,req:{userName:t.forgotPasswordForm.qInputs[0].name,password:t.resetPasswordForm.qInputs[0].name,passwordConfirm:t.resetPasswordForm.qInputs[1].name}},console.log("payload: ",o),s.next=6,Object(f["b"])(o);case 6:a=s.sent,r=a.data.success,r?t.dialogFailureOrScuess("Reset Password Success",!0):t.dialogFailureOrScuess("Reset Password Failure",!0);case 9:case"end":return s.stop()}}),s)})))()},dialogFailureOrScuess:function(e,s){var t,n=this,o=-1,a=F(n.dialogs);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(o++,r.title==e){n.dialogs[o].isVisible=s;break}}}catch(i){a.e(i)}finally{a.f()}},cancelDialog:function(e){var s,t=this,n=-1,o=F(t.dialogs);try{for(o.s();!(s=o.n()).done;){var a=s.value;if(n++,a.title===e){t.dialogs[n].isVisible=!1;break}}}catch(r){o.e(r)}finally{o.f()}},login:function(){var e=this;return l()(u.a.mark((function s(){var t,n,o,a,r;return u.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t=e,s.next=3,Object(f["b"])({url:"user/login",req:{username:t.loginForm.qInputs[0].name,password:t.loginForm.qInputs[1].name}});case 3:n=s.sent,o=n.data,a=o.data,o.message,r=o.success,t.dialogFailureOrScuess("Sign In",!1),r?(t.token=a.token,t.user=a.user,e.$store.commit("authenticationStore/Login",{token:t.token,user:t.user}),t.dialogFailureOrScuess("Sign In Success",!0)):t.dialogFailureOrScuess("Sign In Failure",!0);case 7:case"end":return s.stop()}}),s)})))()},userIsExist:function(){var e=this;return l()(u.a.mark((function s(){var t,n,o,a,r,i,l;return u.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log("userIsExist called"),t=e,n="user/user-is-exist2",o={url:n,req:{userName:t.forgotPasswordForm.qInputs[0].name,phoneNumber:t.forgotPasswordForm.qInputs[1].name,countryCode:t.forgotPasswordForm.qSelects[0].value.code}},console.log("payload: ",o),s.next=7,Object(f["b"])(o);case 7:a=s.sent,r=a.data,i=r.data,r.message,l=r.success,l||alert("Failed"),console.log("context.userExists: ",i),i?t.SendVerificationCode():alert("user does not exist");case 12:case"end":return s.stop()}}),s)})))()},logInSuccessOkay:function(){var e=this;if(console.log(e.user),"CEO"===e.user.designationId)this.$router.push("/super-admin");else switch(e.user.userType.toLowerCase()){case"admin":this.$router.push("/admin");break;case"referal":this.$router.push("/referal");break;case"member":this.$router.push("/member");break;case"student":this.$router.push("/student");break}},okDialog:function(e){var s=this;return l()(u.a.mark((function t(){var n,o,a,r,i;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("payload: ",e),n=s,o=-1,a=F(n.dialogs),t.prev=4,a.s();case 6:if((r=a.n()).done){t.next=36;break}if(i=r.value,o++,i.title!==e){t.next=34;break}t.t0=e,t.next="Sign In"===t.t0?13:"Sign In Success"===t.t0?16:"Send OTP"===t.t0?18:"Verify OTP Success"===t.t0?21:"Reset Password"===t.t0?26:"Reset Password Success"===t.t0?27:32;break;case 13:return t.next=15,n.login();case 15:return t.abrupt("break",32);case 16:return n.logInSuccessOkay(),t.abrupt("break",32);case 18:return t.next=20,n.userIsExist();case 20:return t.abrupt("break",32);case 21:return n.isForgotPassword=!1,n.isVerifyOTP=!1,n.isResetPassword=!0,n.isLoginForm=!1,t.abrupt("break",32);case 26:n.ChangePassword();case 27:return n.isForgotPassword=!1,n.isVerifyOTP=!1,n.isResetPassword=!1,n.isLoginForm=!0,t.abrupt("break",32);case 32:return n.dialogs[o].isVisible=!1,t.abrupt("break",36);case 34:t.next=6;break;case 36:t.next=41;break;case 38:t.prev=38,t.t1=t["catch"](4),a.e(t.t1);case 41:return t.prev=41,a.f(),t.finish(41);case 44:case"end":return t.stop()}}),t,null,[[4,38,41,44]])})))()},SendVerificationCode:function(){var e=this,s=e.forgotPasswordForm.qInputs[1],t=e.forgotPasswordForm.qSelects[0];if(s.name.length<10)alert("Phone number can not be less than 10 digits");else{var n=s.name;if(s.name>10){var o=s.name.length-10;n=s.name.slice(o)}console.log("phone: ",n),console.log("Template: ",s.Template),"phone"===s.Template.iconName&&(console.log("code: ",t.value.code),e.sendOtp(n,t.value.code))}},sendOtp:function(e,s){console.log("sendOtp called");var t=this,n=s+e;console.log("phoneNumber: ",n);var o=t.appVerifier;console.log("appVerifier: ",o),Object(P["c"])(T,n,o).then((function(e){t.isForgotPassword=!1,t.isVerifyOTP=!0,t.isResetPassword=!1,t.isLoginForm=!1,window.confirmationResult=e,console.log("seen")})).catch((function(e){alert("Error ! SMS not sent")}))},VerifyOTP:function(){var e=this;return l()(u.a.mark((function s(){var t,n;return u.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t=e,n=t.verifyOTPForm.qInputs[0].name,console.log("verification code: ",n),window.confirmationResult.confirm(n).then((function(e){var s=e.user;console.log("user: ",s),t.isForgotPassword=!1,t.isVerifyOTP=!1,t.isResetPassword=!0,t.isLoginForm=!1})).catch((function(e){console.log("User couldn't sign in (bad verification code?)")}));case 4:case"end":return s.stop()}}),s)})))()},initReCaptcha:function(){var e=this;setTimeout((function(){var s=e;window.recaptchaVerifier=new P["a"]("recaptcha-container",{size:"normal",callback:function(e){console.log("response: ",e)}},T),s.appVerifier=window.recaptchaVerifier}),1e3)}},created:function(){var e=this;e.loginForm.clearQInputs(),e.forgotPasswordForm.clearQInputs(),e.forgotPasswordForm.clearQSelects(),e.verifyOTPForm.clearQInputs(),e.resetPasswordForm.clearQInputs(),e.initReCaptcha()}},V=O,q=(t("b6ea"),t("2877")),D=t("24e8"),E=t("eebe"),x=t.n(E),R=Object(q["a"])(V,a,r,!1,null,null,null),C=R.exports;x()(R,"components",{QDialog:D["a"]});var N=t("29fa"),_={computed:{isMobile:function(){var e=window.innerWidth;return e<700}},components:{login:C,TorpaLandingPage:N["default"]}},L=_,Q=Object(q["a"])(L,n,o,!1,null,null,null);s["default"]=Q.exports},"73e3":function(e,s,t){},b6ea:function(e,s,t){"use strict";var n=t("73e3"),o=t.n(n);o.a}}]);