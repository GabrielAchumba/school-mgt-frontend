(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[105],{"29fa":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Carousel"),s("AboutUs"),s("ContactUs")],1)},o=[],n=s("c3ad"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row",staticStyle:{height:"400px",width:"400px"}},[s("div",{staticClass:"col-12 q-pa-sm"},[e.typing?s("small",[e._v(e._s(e.toUserName)+" is typing...")]):e._e()]),s("q-separator"),s("div",{staticClass:"col-12",staticStyle:{height:"85%"}},e._l(e.messages,(function(t){return s("q-chat-message",{key:t._id,attrs:{name:e.item.fromUserName,text:[e.item.message],sent:e.item.fromId==""+e.fromId}})})),1),s("div",{staticClass:"col-12",staticStyle:{height:"15%"}},[s("q-toolbar",{staticClass:"bg-accent"},[s("q-input",{staticClass:"full-width",attrs:{"bg-color":"primary",outlined:"",rounded:"",label:"Message",type:"textarea",dense:""},scopedSlots:e._u([{key:"after",fn:function(){return[s("q-btn",{attrs:{round:"",dense:"",flat:"",color:"primary",icon:"send"},on:{click:e.send}})]},proxy:!0}]),model:{value:e.newMessage,callback:function(t){e.newMessage=t},expression:"newMessage"}})],1)],1)],1)},c=[],i=s("daa8"),l={data:function(){return{toId:"",fromId:"",fromUserName:"",toUserName:"",socket:null,serverUrl:"http://localhost:4000",newMessage:null,messages:[],typing:!1,username:null,ready:!1,info:[],connections:0}},watch:{newMessage:function(e){var t=this;e?t.socket.emit("typing",t.fromUserName):t.socket.emit("stopTyping")}},methods:{send:function(){var e=this,t={time:Date.now(),fromId:e.fromId,toId:e.toId,fromUserName:e.fromUserName,toUserName:e.toUserName,message:e.newMessage,images:[],requestId:"",requestTitle:""};e.messages.push(t),e.socket.emit("chat-message",t),e.newMessage=null},connectToWebsocket:function(){var e=this;e.socket=Object(i["a"])(e.serverUrl,{transports:["websocket"]})}},created:function(){var e=this;e.connectToWebsocket(),e.socket.on("chat-message",(function(t){e.messages.push({time:t.id,fromId:t.fromId,toId:t.toId,fromUserName:t.fromUserName,toUserName:t.toUserName,message:t.message})})),e.socket.on("typing",(function(t){console.log("data: ",t),e.typing=t})),e.socket.on("stopTyping",(function(){e.typing=!1}))}},m=l,u=s("2877"),d=s("eb85"),f=s("8169"),p=s("65c6"),g=s("27f9"),h=s("9c40"),b=s("0378"),w=s("eebe"),y=s.n(w),k=Object(u["a"])(m,r,c,!1,null,null,null),N=k.exports;y()(k,"components",{QSeparator:d["a"],QChatMessage:f["a"],QToolbar:p["a"],QInput:g["a"],QBtn:h["a"],QForm:b["a"]});var U=s("4dc0"),v=s("79b9"),_=s("a48a"),I={components:{Carousel:n["a"],ChatBox:N,AboutUs:U["default"],ContactUs:v["default"],News:_["default"]},data:function(){return{iconName:"keyboard_arrow_up"}},methods:{onChatBox:function(){var e=this;"keyboard_arrow_up"==e.iconName?e.iconName="close":e.iconName="keyboard_arrow_up",console.log("context.iconName: ",e.iconName)}}},C=I,x=s("de5e"),M=s("4e73"),Q=Object(u["a"])(C,a,o,!1,null,null,null);t["default"]=Q.exports;y()(Q,"components",{QPageSticky:x["a"],QBtn:h["a"],QMenu:M["a"]})}}]);